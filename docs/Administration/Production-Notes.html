
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Production Notes · MongoDB-Manual-zh</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="hbnking">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-auto-scroll-table/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Operations-Checklist.html" />
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"JinMuInfo","repo":"MongoDB-Manual-zh","type":"star","count":true,"size":"small"}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../Mongo-Introduction.html">
            
                <a href="../Mongo-Introduction.html">
            
                    
                    Mongodb Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../Mongo-Introduction/Getting-Started.html">
            
                <a href="../Mongo-Introduction/Getting-Started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../Mongo-Introduction/Databases-and-Collections.html">
            
                <a href="../Mongo-Introduction/Databases-and-Collections.html">
            
                    
                    Databases and Collections
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="../Mongo-Introduction/Databases-and-Collections/Views.html">
            
                <a href="../Mongo-Introduction/Databases-and-Collections/Views.html">
            
                    
                    Views
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" >
            
                <span>
            
                    
                    On-Demand Materialized Views
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="../Mongo-Introduction/Databases-and-Collections/Capped-Collections.html">
            
                <a href="../Mongo-Introduction/Databases-and-Collections/Capped-Collections.html">
            
                    
                    Capped Collections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../Mongo-Introduction/Documents.html">
            
                <a href="../Mongo-Introduction/Documents.html">
            
                    
                    Documents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../Mongo-Introduction/BSON-Types.html">
            
                <a href="../Mongo-Introduction/BSON-Types.html">
            
                    
                    BSON Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.4.1" data-path="../Mongo-Introduction/BSON-Types/Comparison-Sort-Order.html">
            
                <a href="../Mongo-Introduction/BSON-Types/Comparison-Sort-Order.html">
            
                    
                    Comparison and Sort Order
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4.2" data-path="../Mongo-Introduction/BSON-Types/extended-json.html">
            
                <a href="../Mongo-Introduction/BSON-Types/extended-json.html">
            
                    
                    MongoDB Extended JSON (v2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4.3" data-path="../Mongo-Introduction/BSON-Types/extended-json.html">
            
                <a href="../Mongo-Introduction/BSON-Types/extended-json.html">
            
                    
                    MongoDB Extended JSON (v1)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../The-Mongo-Shell.html">
            
                <a href="../The-Mongo-Shell.html">
            
                    
                    The mongo Shell
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../The-Mongo-Shell/Configure-the-mongo-shell.html">
            
                <a href="../The-Mongo-Shell/Configure-the-mongo-shell.html">
            
                    
                    Configure the mongo shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../The-Mongo-Shell/Access-the-mongo-Shell Help.html">
            
                <a href="../The-Mongo-Shell/Access-the-mongo-Shell Help.html">
            
                    
                    Access the mongo Shell Help
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../The-Mongo-Shell/Write-Scripts-for-the-mongo-Shell.html">
            
                <a href="../The-Mongo-Shell/Write-Scripts-for-the-mongo-Shell.html">
            
                    
                    Write Scripts for the mongo Shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../The-Mongo-Shell/Data-Types-in-the-mongo-Shell.html">
            
                <a href="../The-Mongo-Shell/Data-Types-in-the-mongo-Shell.html">
            
                    
                    Data Types in the mongo Shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="../The-Mongo-Shell/mongo-Shell-Quick-Reference.html">
            
                <a href="../The-Mongo-Shell/mongo-Shell-Quick-Reference.html">
            
                    
                    mongo Shell Quick Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../MongoDB-CRUD-Operations.html">
            
                <a href="../MongoDB-CRUD-Operations.html">
            
                    
                    MongoDB CRUD Operations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../MongoDB-CRUD-Operations/Insert-Documents.html">
            
                <a href="../MongoDB-CRUD-Operations/Insert-Documents.html">
            
                    
                    Insert Document
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1.1" data-path="../MongoDB-CRUD-Operations/Insert-Documents/Insert-Methods.html">
            
                <a href="../MongoDB-CRUD-Operations/Insert-Documents/Insert-Methods.html">
            
                    
                    Insert Methods
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../MongoDB-CRUD-Operations/Query-Documents.html">
            
                <a href="../MongoDB-CRUD-Operations/Query-Documents.html">
            
                    
                    Query Document
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.2.1" data-path="../MongoDB-CRUD-Operations/Query-Documents/Iterate-a-Cursor-in-the-mongo-Shell.html">
            
                <a href="../MongoDB-CRUD-Operations/Query-Documents/Iterate-a-Cursor-in-the-mongo-Shell.html">
            
                    
                    Iterate a Cursor in the mongo Shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2.2" data-path="../MongoDB-CRUD-Operations/Query-Documents/Project-Fields-to-Return-from-Query.html">
            
                <a href="../MongoDB-CRUD-Operations/Query-Documents/Project-Fields-to-Return-from-Query.html">
            
                    
                    Project Fields to Return from Query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2.3" data-path="../MongoDB-CRUD-Operations/Query-Documents/Query-an-Array-of-Embedded-Documents.html">
            
                <a href="../MongoDB-CRUD-Operations/Query-Documents/Query-an-Array-of-Embedded-Documents.html">
            
                    
                    Query an Array of Embedded Documents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2.4" data-path="../MongoDB-CRUD-Operations/Query-Documents/Query-an-Array.html">
            
                <a href="../MongoDB-CRUD-Operations/Query-Documents/Query-an-Array.html">
            
                    
                    Query an Array
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2.5" data-path="../MongoDB-CRUD-Operations/Query-Documents/Query-for-Null-or-Missing-Fields.html">
            
                <a href="../MongoDB-CRUD-Operations/Query-Documents/Query-for-Null-or-Missing-Fields.html">
            
                    
                    Query for Null or Missing Fields
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2.6" data-path="../MongoDB-CRUD-Operations/Query-Documents/Query-on-Embedded-or-Nested.html">
            
                <a href="../MongoDB-CRUD-Operations/Query-Documents/Query-on-Embedded-or-Nested.html">
            
                    
                    Query on Embedded or Nested
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../MongoDB-CRUD-Operations/Update-Documents.html">
            
                <a href="../MongoDB-CRUD-Operations/Update-Documents.html">
            
                    
                    Update Document
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.3.1" data-path="../MongoDB-CRUD-Operations/Update-Documents/Update-Methods.html">
            
                <a href="../MongoDB-CRUD-Operations/Update-Documents/Update-Methods.html">
            
                    
                    Update Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3.2" data-path="../MongoDB-CRUD-Operations/Update-Documents/Updates-with-Aggregation-Pipeline.html">
            
                <a href="../MongoDB-CRUD-Operations/Update-Documents/Updates-with-Aggregation-Pipeline.html">
            
                    
                    Updates with Aggregation Pipeline
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../MongoDB-CRUD-Operations/Delete-Documents.html">
            
                <a href="../MongoDB-CRUD-Operations/Delete-Documents.html">
            
                    
                    Delete Document
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.4.1" data-path="../MongoDB-CRUD-Operations/Delete-Documents/Delete-Methods.html">
            
                <a href="../MongoDB-CRUD-Operations/Delete-Documents/Delete-Methods.html">
            
                    
                    Delete Methods
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.5" data-path="../MongoDB-CRUD-Operations/Geospatial-Queries.html">
            
                <a href="../MongoDB-CRUD-Operations/Geospatial-Queries.html">
            
                    
                    Geospatial Queries
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.5.1" data-path="../MongoDB-CRUD-Operations/Geospatial-Queries/Find-Restaurants-with-Geospatial-Queries.html">
            
                <a href="../MongoDB-CRUD-Operations/Geospatial-Queries/Find-Restaurants-with-Geospatial-Queries.html">
            
                    
                    Find Restaurants with Geospatial Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.5.2" data-path="../MongoDB-CRUD-Operations/Geospatial-Queries/GeoJSON-Objects.html">
            
                <a href="../MongoDB-CRUD-Operations/Geospatial-Queries/GeoJSON-Objects.html">
            
                    
                    GeoJSON Objects
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.6" data-path="../MongoDB-CRUD-Operations/Bulk-Write-Operations.html">
            
                <a href="../MongoDB-CRUD-Operations/Bulk-Write-Operations.html">
            
                    
                    Bulk Write Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.7" data-path="../MongoDB-CRUD-Operations/Retryable-Writes.html">
            
                <a href="../MongoDB-CRUD-Operations/Retryable-Writes.html">
            
                    
                    Retryable Writes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.8" data-path="../MongoDB-CRUD-Operations/Retryable-Reads.html">
            
                <a href="../MongoDB-CRUD-Operations/Retryable-Reads.html">
            
                    
                    Retryable Reads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.9" data-path="../MongoDB-CRUD-Operations/SQL-to-MongoDB-Mapping-Chart.html">
            
                <a href="../MongoDB-CRUD-Operations/SQL-to-MongoDB-Mapping-Chart.html">
            
                    
                    SQL to MongoDB Mapping Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.10" data-path="../MongoDB-CRUD-Operations/Text-Search.html">
            
                <a href="../MongoDB-CRUD-Operations/Text-Search.html">
            
                    
                    Text Search
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.10.1" data-path="../MongoDB-CRUD-Operations/Text-Search/Text-indexes.html">
            
                <a href="../MongoDB-CRUD-Operations/Text-Search/Text-indexes.html">
            
                    
                    Test indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.10.2" data-path="../MongoDB-CRUD-Operations/Text-Search/Text-Search-Operators.html">
            
                <a href="../MongoDB-CRUD-Operations/Text-Search/Text-Search-Operators.html">
            
                    
                    Text Search Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.10.3" data-path="../MongoDB-CRUD-Operations/Text-Search/Text-Search-in-the-Aggregation-Pipeline.html">
            
                <a href="../MongoDB-CRUD-Operations/Text-Search/Text-Search-in-the-Aggregation-Pipeline.html">
            
                    
                    Text Search in the Aggregation Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.10.4" data-path="../MongoDB-CRUD-Operations/Text-Search/Text-Search-Languages.html">
            
                <a href="../MongoDB-CRUD-Operations/Text-Search/Text-Search-Languages.html">
            
                    
                    Text Search Languages
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.11" data-path="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern.html">
            
                <a href="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern.html">
            
                    
                    Read Isolation(Read Concern)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.11.1" data-path="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-local.html">
            
                <a href="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-local.html">
            
                    
                    Read Concern "local"
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.11.2" data-path="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-available.html">
            
                <a href="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-available.html">
            
                    
                    Read Concern "available"
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.11.3" data-path="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-majority.html">
            
                <a href="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-majority.html">
            
                    
                    Read Concern "majority"
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.11.4" data-path="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-linearizable.html">
            
                <a href="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-linearizable.html">
            
                    
                    Read Concern "linearizable"
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.11.5" data-path="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-snapshot.html">
            
                <a href="../MongoDB-CRUD-Operations/Read-Isolation-Read-Concern/Read-Concern-snapshot.html">
            
                    
                    Read Concern "snapshot"
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.12" data-path="../MongoDB-CRUD-Operations/Write-Acknowledgement-Write-concern.html">
            
                <a href="../MongoDB-CRUD-Operations/Write-Acknowledgement-Write-concern.html">
            
                    
                    Write Acknowledgement(Write concern)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts.html">
            
                    
                    MongoDB CRUD Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.13.1" data-path="../MongoDB-CRUD-Operations/MOngoDB-CRUD-Concepts/Atomicity-and-Transactions.html">
            
                <a href="../MongoDB-CRUD-Operations/MOngoDB-CRUD-Concepts/Atomicity-and-Transactions.html">
            
                    
                    Atomicity and Transactions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.2" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Read-Isolation-Consistency-and-Recency.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Read-Isolation-Consistency-and-Recency.html">
            
                    
                    Read Isolation Consistency and Recency
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.13.2.1" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Read-Isolation-Consistency-and-Recency/Causal-Consistency-and-Read-and-Write-Concerns.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Read-Isolation-Consistency-and-Recency/Causal-Consistency-and-Read-and-Write-Concerns.html">
            
                    
                    Causal Consistency and Read and Write-Concerns
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.13.3" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Distributed-Queries.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Distributed-Queries.html">
            
                    
                    Distributed Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.4" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Linearizable-Reads-via-findAndModify.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Linearizable-Reads-via-findAndModify.html">
            
                    
                    Linearizable Reads via findAndModify
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.5" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Plans.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Plans.html">
            
                    
                    Query Plans
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.6" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization.html">
            
                    
                    Query Optimization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.13.6.1" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Evaluate-Performance-of-Current-Operations.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Evaluate-Performance-of-Current-Operations.html">
            
                    
                    Evaluate Performance of Current Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.6.2" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Optimize-Query-Performance.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Optimize-Query-Performance.html">
            
                    
                    Optimize Query Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.6.3" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Write-Operation-Performance.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Write-Operation-Performance.html">
            
                    
                    Write Operation Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.6.4" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Explain-Results.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Query-Optimization/Explain-Results.html">
            
                    
                    Explain Results
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.13.7" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Analyze-Query-Performance.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Analyze-Query-Performance.html">
            
                    
                    Analyze Query Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13.8" data-path="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Tailable-Cursors.html">
            
                <a href="../MongoDB-CRUD-Operations/MongoDB-CRUD-Concepts/Tailable-Cursors.html">
            
                    
                    Tailable Cursors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../Aggregation.html">
            
                <a href="../Aggregation.html">
            
                    
                    Aggregation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../Aggregation/Aggregation-Pipeline.html">
            
                <a href="../Aggregation/Aggregation-Pipeline.html">
            
                    
                    Aggregation Pipeline
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1.1" data-path="../Aggregation/Aggregation-Pipeline/Aggregation-Pipeline-Optimization.html">
            
                <a href="../Aggregation/Aggregation-Pipeline/Aggregation-Pipeline-Optimization.html">
            
                    
                    Aggregation Pipeline Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.2" data-path="../Aggregation/Aggregation-Pipeline/Aggregation-Pipeline-Limits.html">
            
                <a href="../Aggregation/Aggregation-Pipeline/Aggregation-Pipeline-Limits.html">
            
                    
                    Aggregation Pipeline Limits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.3" data-path="../Aggregation/Aggregation-Pipeline/Aggregation-Pipeline-and-Sharded-Collections.html">
            
                <a href="../Aggregation/Aggregation-Pipeline/Aggregation-Pipeline-and-Sharded-Collections.html">
            
                    
                    Aggregation Pipeline and Sharded Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.4" data-path="../Aggregation/Aggregation-Pipeline/Example-with-ZIP-Code-Data.html">
            
                <a href="../Aggregation/Aggregation-Pipeline/Example-with-ZIP-Code-Data.html">
            
                    
                    Example with ZIP Code Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.5" data-path="../Aggregation/Aggregation-Pipeline/Example-with-User-Preference-Data.html">
            
                <a href="../Aggregation/Aggregation-Pipeline/Example-with-User-Preference-Data.html">
            
                    
                    Example with User Preference Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../Aggregation/Map-Reduce.html">
            
                <a href="../Aggregation/Map-Reduce.html">
            
                    
                    Map-Reduce
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.2.1" data-path="../Aggregation/Map-Reduce/Map-Reduce-and-Sharded-Collections.html">
            
                <a href="../Aggregation/Map-Reduce/Map-Reduce-and-Sharded-Collections.html">
            
                    
                    Map-Reduce and Sharded Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.2" data-path="../Aggregation/Map-Reduce/Map-Reduce-Concurrency.html">
            
                <a href="../Aggregation/Map-Reduce/Map-Reduce-Concurrency.html">
            
                    
                    Map-Reduce Concurrency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.3" data-path="../Aggregation/Map-Reduce/Map-Reduce-Examples.html">
            
                <a href="../Aggregation/Map-Reduce/Map-Reduce-Examples.html">
            
                    
                    Map-Reduce Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.4" data-path="../Aggregation/Map-Reduce/Perform-Incremental-Map-Reduce.html">
            
                <a href="../Aggregation/Map-Reduce/Perform-Incremental-Map-Reduce.html">
            
                    
                    Perform Incremental Map-Reduce
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.5" data-path="../Aggregation/Map-Reduce/Troubleshoot-the-Map-Function.html">
            
                <a href="../Aggregation/Map-Reduce/Troubleshoot-the-Map-Function.html">
            
                    
                    Troubleshoot the Map Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.6" data-path="../Aggregation/Map-Reduce/Troubleshoot-the-Reduce-Function.html">
            
                <a href="../Aggregation/Map-Reduce/Troubleshoot-the-Reduce-Function.html">
            
                    
                    Troubleshoot the Reduce Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.7" data-path="../Aggregation/Map-Reduce/Map-Reduce-to-Aggregation-Pipeline.html">
            
                <a href="../Aggregation/Map-Reduce/Map-Reduce-to-Aggregation-Pipeline.html">
            
                    
                    Map-Reduce to Aggregation Pipeline
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../Aggregation/Aggregation-Reference.html">
            
                <a href="../Aggregation/Aggregation-Reference.html">
            
                    
                    Aggregation Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.3.1" data-path="../Aggregation/Aggregation-Reference/Aggregation-Pipeline-Quick-Reference.html">
            
                <a href="../Aggregation/Aggregation-Reference/Aggregation-Pipeline-Quick-Reference.html">
            
                    
                    Aggregation Pipeline Quick Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3.2" data-path="../Aggregation/Aggregation-Reference/Aggregation-Commands.html">
            
                <a href="../Aggregation/Aggregation-Reference/Aggregation-Commands.html">
            
                    
                    Aggregation Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3.3" data-path="../Aggregation/Aggregation-Reference/Aggregation-Commands-Commparison.html">
            
                <a href="../Aggregation/Aggregation-Reference/Aggregation-Commands-Commparison.html">
            
                    
                    Aggregation Commands Commparison
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3.4" data-path="../Aggregation/Aggregation-Reference/Variables-in-Aggregation-Expressions.html">
            
                <a href="../Aggregation/Aggregation-Reference/Variables-in-Aggregation-Expressions.html">
            
                    
                    Variables in Aggregation Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3.5" data-path="../Aggregation/Aggregation-Reference/SQL-to-Aggregation-Mapping-Chart.html">
            
                <a href="../Aggregation/Aggregation-Reference/SQL-to-Aggregation-Mapping-Chart.html">
            
                    
                    SQL to Aggregation Mapping Chart
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" >
            
                <span>
            
                    
                    Data Models
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="../Data-Models/Data-Modeling-Introduction.html">
            
                <a href="../Data-Models/Data-Modeling-Introduction.html">
            
                    
                    Data Modeling Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="../Data-Models/Schema-Validation.html">
            
                <a href="../Data-Models/Schema-Validation.html">
            
                    
                    Schema Validation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../Transactions.html">
            
                <a href="../Transactions.html">
            
                    
                    Transcations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" >
            
                <span>
            
                    
                    Drivers API
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" >
            
                <span>
            
                    
                    Production Considerations
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" >
            
                <span>
            
                    
                    Production Considerations (Sharded Clusters)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.4" data-path="../Transactions/Transactions-and-Operations.html">
            
                <a href="../Transactions/Transactions-and-Operations.html">
            
                    
                    Transactions and Operations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../Indexes.html">
            
                <a href="../Indexes.html">
            
                    
                    Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../Indexes/Single-Field-Indexes.html">
            
                <a href="../Indexes/Single-Field-Indexes.html">
            
                    
                    Single Field Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.2" data-path="../Indexes/Compound-Indexes.html">
            
                <a href="../Indexes/Compound-Indexes.html">
            
                    
                    Compound Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.3" data-path="../Indexes/Multikey-Indexes.html">
            
                <a href="../Indexes/Multikey-Indexes.html">
            
                    
                    Multikey Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.3.1" data-path="../Indexes/Multikey-Indexes/Multikey-Index-Bounds.html">
            
                <a href="../Indexes/Multikey-Indexes/Multikey-Index-Bounds.html">
            
                    
                    Multikey Index Bounds
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.4" data-path="../Indexes/Text-Indexes.html">
            
                <a href="../Indexes/Text-Indexes.html">
            
                    
                    Text Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.4.1" data-path="../Indexes/Text-Indexes/Specify-a-Language-for-Text-Index.html">
            
                <a href="../Indexes/Text-Indexes/Specify-a-Language-for-Text-Index.html">
            
                    
                    Specify a Language for Text Index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4.2" data-path="../Indexes/Text-Indexes/Specify-Name-for-text-Index.html">
            
                <a href="../Indexes/Text-Indexes/Specify-Name-for-text-Index.html">
            
                    
                    Specify Name for text Index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4.3" data-path="../Indexes/Text-Indexes/Control-Search-Results-with-Weights.html">
            
                <a href="../Indexes/Text-Indexes/Control-Search-Results-with-Weights.html">
            
                    
                    Control Search Results with Weights
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4.4" data-path="../Indexes/Text-Indexes/Limit-the-Number-of-Entries-Scanned.html">
            
                <a href="../Indexes/Text-Indexes/Limit-the-Number-of-Entries-Scanned.html">
            
                    
                    Limit the Number of Entries Scanned
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.5" data-path="../Indexes/Wildcard-Indexes.html">
            
                <a href="../Indexes/Wildcard-Indexes.html">
            
                    
                    Wildcard Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.5.1" data-path="../Indexes/Wildcard-Indexes/Wildcard-Index-Restrictions.html">
            
                <a href="../Indexes/Wildcard-Indexes/Wildcard-Index-Restrictions.html">
            
                    
                    Wildcard Index Restrictions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.6" data-path="../Indexes/2dsphere-Indexes.html">
            
                <a href="../Indexes/2dsphere-Indexes.html">
            
                    
                    2dsphere Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.6.1" data-path="../Indexes/2dsphere-Indexes/Query-a-2dsphere-Index.html">
            
                <a href="../Indexes/2dsphere-Indexes/Query-a-2dsphere-Index.html">
            
                    
                    Query a 2dsphere Index
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.7" data-path="../Indexes/2d-Indexes.html">
            
                <a href="../Indexes/2d-Indexes.html">
            
                    
                    2d Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.7.1" data-path="../Indexes/2d-Indexes/Create-a-2d-Index.html">
            
                <a href="../Indexes/2d-Indexes/Create-a-2d-Index.html">
            
                    
                    Create a 2d Index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.7.2" data-path="../Indexes/2d-Indexes/Query-a-2d-Index.html">
            
                <a href="../Indexes/2d-Indexes/Query-a-2d-Index.html">
            
                    
                    Query a 2d Index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.7.3" data-path="../Indexes/2d-Indexes/2d-Index-Internals.html">
            
                <a href="../Indexes/2d-Indexes/2d-Index-Internals.html">
            
                    
                    2d Index Internals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.7.4" data-path="../Indexes/2d-Indexes/Calculate-Distance-Using-Spherical-Geometry.html">
            
                <a href="../Indexes/2d-Indexes/Calculate-Distance-Using-Spherical-Geometry.html">
            
                    
                    Calculate Distance Using Spherical Geometry
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.8" data-path="../Indexes/geoHaystack-Indexes.html">
            
                <a href="../Indexes/geoHaystack-Indexes.html">
            
                    
                    geoHaystack Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.8.1" data-path="../Indexes/geoHaystack-Indexes/Create-a-Haystack-Index.html">
            
                <a href="../Indexes/geoHaystack-Indexes/Create-a-Haystack-Index.html">
            
                    
                    Create a Haystack Index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.2" data-path="../Indexes/geoHaystack-Indexes/Query-a-Haystack-Index.html">
            
                <a href="../Indexes/geoHaystack-Indexes/Query-a-Haystack-Index.html">
            
                    
                    Query a Haystack Index
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.9" data-path="../Indexes/Hashed-Indexes.html">
            
                <a href="../Indexes/Hashed-Indexes.html">
            
                    
                    Hashed Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.10" data-path="../Indexes/Index-Properties.html">
            
                <a href="../Indexes/Index-Properties.html">
            
                    
                    Index Properties
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.10.1" data-path="../Indexes/Index-Properties/TTL-Indexes.html">
            
                <a href="../Indexes/Index-Properties/TTL-Indexes.html">
            
                    
                    TTL Indexes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.10.1.1" data-path="../Indexes/Index-Properties/TTL-Indexes/Expire-Data-from-Collections-by-Setting-TTL.html">
            
                <a href="../Indexes/Index-Properties/TTL-Indexes/Expire-Data-from-Collections-by-Setting-TTL.html">
            
                    
                    Expire Data from Collections by Setting TTL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.10.2" data-path="../Indexes/Index-Properties/Unique-Indexes.html">
            
                <a href="../Indexes/Index-Properties/Unique-Indexes.html">
            
                    
                    Unique Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.10.3" data-path="../Indexes/Index-Properties/Partial-Indexes.html">
            
                <a href="../Indexes/Index-Properties/Partial-Indexes.html">
            
                    
                    Partial Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.10.4" data-path="../Indexes/Index-Properties/Case-Insensitive-Indexes.html">
            
                <a href="../Indexes/Index-Properties/Case-Insensitive-Indexes.html">
            
                    
                    Case Insensitive Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.10.5" data-path="../Indexes/Index-Properties/Sparse-Indexes.html">
            
                <a href="../Indexes/Index-Properties/Sparse-Indexes.html">
            
                    
                    Sparse Indexes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.11" data-path="../Indexes/Index-Builds-on-Populated-Collections.html">
            
                <a href="../Indexes/Index-Builds-on-Populated-Collections.html">
            
                    
                    Index Builds on Populated Collections
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.11.1" data-path="../Indexes/Index-Builds-on-Populated-Collections/Rolling-Index-Builds-on-Replica-Sets.html">
            
                <a href="../Indexes/Index-Builds-on-Populated-Collections/Rolling-Index-Builds-on-Replica-Sets.html">
            
                    
                    Rolling Index Builds on Replica Sets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.11.2" data-path="../Indexes/Index-Builds-on-Populated-Collections/Rolling-Index-Builds-on-Sharded-Clusters.html">
            
                <a href="../Indexes/Index-Builds-on-Populated-Collections/Rolling-Index-Builds-on-Sharded-Clusters.html">
            
                    
                    Rolling Index Builds on Sharded Clusters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.12" data-path="../Indexes/Index-Intersection.html">
            
                <a href="../Indexes/Index-Intersection.html">
            
                    
                    Index Intersection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.13" data-path="../Indexes/Manage-Indexes.html">
            
                <a href="../Indexes/Manage-Indexes.html">
            
                    
                    Manage Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.14" data-path="../Indexes/Measure-Index-Use.html">
            
                <a href="../Indexes/Measure-Index-Use.html">
            
                    
                    Measure Index Use
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.15" data-path="../Indexes/Indexing-Strategies.html">
            
                <a href="../Indexes/Indexing-Strategies.html">
            
                    
                    Indexing Strategies
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.15.1" data-path="../Indexes/Indexing-Strategies/Create-Indexes-to-Support-Your-Queries.html">
            
                <a href="../Indexes/Indexing-Strategies/Create-Indexes-to-Support-Your-Queries.html">
            
                    
                    Create Indexes to Support Your Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.15.2" data-path="../Indexes/Indexing-Strategies/Use-Indexes-to-Sort-Query-Results.html">
            
                <a href="../Indexes/Indexing-Strategies/Use-Indexes-to-Sort-Query-Results.html">
            
                    
                    Use Indexes to Sort Query Results
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.15.3" data-path="../Indexes/Indexing-Strategies/Ensure-Indexes-Fit-in-RAM.html">
            
                <a href="../Indexes/Indexing-Strategies/Ensure-Indexes-Fit-in-RAM.html">
            
                    
                    Ensure Indexes Fit in RAM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.15.4" data-path="../Indexes/Indexing-Strategies/Create-Queries-that-Ensure-Selectivity.html">
            
                <a href="../Indexes/Indexing-Strategies/Create-Queries-that-Ensure-Selectivity.html">
            
                    
                    Create Queries that Ensure Selectivity
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.16" data-path="../Indexes/Indexing-Reference.html">
            
                <a href="../Indexes/Indexing-Reference.html">
            
                    
                    Indexing Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../Security/Security.html">
            
                <a href="../Security/Security.html">
            
                    
                    Security
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="../Security/Security-Checklist.html">
            
                <a href="../Security/Security-Checklist.html">
            
                    
                    Security-CheckList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.2" data-path="../Security/Enable-Access-Control.html">
            
                <a href="../Security/Enable-Access-Control.html">
            
                    
                    Enable-Access-Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.3" data-path="../Security/Authentication.html">
            
                <a href="../Security/Authentication.html">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.4" data-path="../Security/Audit.md">
            
                <span>
            
                    
                    Auditing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.4.1" data-path="../Security/Audit/Configure-Audit-Filters.html">
            
                <a href="../Security/Audit/Configure-Audit-Filters.html">
            
                    
                    Configure Audit Filters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.4.2" data-path="../Security/Audit/configure-Auditing.html">
            
                <a href="../Security/Audit/configure-Auditing.html">
            
                    
                    configure Auditing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.4.3" data-path="../Security/Audit/System-Event-Audit-Messages.html">
            
                <a href="../Security/Audit/System-Event-Audit-Messages.html">
            
                    
                    System Event Audit Messages
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8.5" data-path="../Security/Network-and-Configuration-Hardening.html">
            
                <a href="../Security/Network-and-Configuration-Hardening.html">
            
                    
                    Network and Configuration Hardening
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.6" data-path="../Security/Security-Reference.html">
            
                <a href="../Security/Security-Reference.html">
            
                    
                    Security Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.6.1" data-path="../Security/Security-Reference/system.rolesCollection.html">
            
                <a href="../Security/Security-Reference/system.rolesCollection.html">
            
                    
                    system.roles Collection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.6.2" data-path="../Security/Security-Reference/system.usersCollection.html">
            
                <a href="../Security/Security-Reference/system.usersCollection.html">
            
                    
                    system.users Collection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.6.3" data-path="../Security/Security-Reference/Resource-Document.html">
            
                <a href="../Security/Security-Reference/Resource-Document.html">
            
                    
                    Resource Document
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.6.4" data-path="../Security/Security-Reference/Privilege-Actions.html">
            
                <a href="../Security/Security-Reference/Privilege-Actions.html">
            
                    
                    Privilege Actions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8.7" data-path="../Security/Appendix.html">
            
                <a href="../Security/Appendix.html">
            
                    
                    Appendix
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.7.1" data-path="../Security/Appendix/Appendix-A-OpenSSL-CA-Certificate-for-Testing.html">
            
                <a href="../Security/Appendix/Appendix-A-OpenSSL-CA-Certificate-for-Testing.html">
            
                    
                    Appendix-A-OpenSSL CA Certificate for Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.7.2" data-path="../Security/Appendix/Appendix-B-OpenSSL-Server-Certificates-for-Testing.html">
            
                <a href="../Security/Appendix/Appendix-B-OpenSSL-Server-Certificates-for-Testing.html">
            
                    
                    Appendix-B-OpenSSL-Server-Certificates-for-Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.7.3" data-path="../Security/Appendix/Appendix-C-OpenSSL-Client-Certificates-for-Testing.html">
            
                <a href="../Security/Appendix/Appendix-C-OpenSSL-Client-Certificates-for-Testing.html">
            
                    
                    Appendix-C-OpenSSL Client Certificates for Testing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../Change-Streams.html">
            
                <a href="../Change-Streams.html">
            
                    
                    Change Streams
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.1" data-path="../Change-Streams/Change-Streams-Production-Recommendations.html">
            
                <a href="../Change-Streams/Change-Streams-Production-Recommendations.html">
            
                    
                    Change Streams Production Recommendations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.2" data-path="../Change-Streams/Change-Event.html">
            
                <a href="../Change-Streams/Change-Event.html">
            
                    
                    Change Events
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="../Replication.html">
            
                <a href="../Replication.html">
            
                    
                    Replication
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="../Replication/Replica-Set-Members.html">
            
                <a href="../Replication/Replica-Set-Members.html">
            
                    
                    Replica Set Members
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.2" data-path="../Replication/Replica-Set-Oplog.html">
            
                <a href="../Replication/Replica-Set-Oplog.html">
            
                    
                    Replica Set Oplog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.3" data-path="../Replication/Replica-Set-Data-Synchronization.html">
            
                <a href="../Replication/Replica-Set-Data-Synchronization.html">
            
                    
                    Replica Set Data Synchronization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.4" data-path="../Replication/Replica-Set-Deployment-Architectures.html">
            
                <a href="../Replication/Replica-Set-Deployment-Architectures.html">
            
                    
                    Replica Set Deployment Architectures
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.11" >
            
                <span>
            
                    
                    Sharding
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.11.1" data-path="../Sharding/Shard-keys.md">
            
                <span>
            
                    
                    Shard keys
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.2" data-path="../Sharding/Zones.html">
            
                <a href="../Sharding/Zones.html">
            
                    
                    Zones
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.11.2.1" >
            
                <span>
            
                    
                    Manage Shard Zones
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.2.2" >
            
                <span>
            
                    
                    Segmenting Data by Location
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.2.3" >
            
                <span>
            
                    
                    Tiered Hardware for Varying SLA or SLO
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.2.4" >
            
                <span>
            
                    
                    Segmenting Data by Application or Customer
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.2.5" >
            
                <span>
            
                    
                    Distributed Local Writes for Insert Only Workloads
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.2.6" >
            
                <span>
            
                    
                    Manage Shard Zones
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.12" >
            
                <span>
            
                    
                    Administration
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="2.12.1" data-path="Production-Notes.html">
            
                <a href="Production-Notes.html">
            
                    
                    Production Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.2" data-path="Operations-Checklist.html">
            
                <a href="Operations-Checklist.html">
            
                    
                    Operations Checklist
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.3" >
            
                <span>
            
                    
                    Development Checklist
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.4" data-path="Performance.html">
            
                <a href="Performance.html">
            
                    
                    Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.5" >
            
                <span>
            
                    
                    Configuration and Maintenance
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6" >
            
                <span>
            
                    
                    Data Center Awareness
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.12.6.1" >
            
                <span>
            
                    
                    Workload Isolation in MongoDB Deployments
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6.2" >
            
                <span>
            
                    
                    Zones
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6.3" >
            
                <span>
            
                    
                    Manage Shard Zones
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6.4" >
            
                <span>
            
                    
                    Segmenting Data by Location
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6.5" >
            
                <span>
            
                    
                    Tiered Hardware for Varying SLA or SLO
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6.6" >
            
                <span>
            
                    
                    Segmenting Data by Application or Customer
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6.7" >
            
                <span>
            
                    
                    Distributed Local Writes for Insert Only Workloads
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.6.8" >
            
                <span>
            
                    
                    Manage Shard Zones
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.12.7" data-path="MongoDB-Backup-Methods.html">
            
                <a href="MongoDB-Backup-Methods.html">
            
                    
                    MongoDB Backup Methods
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.13" >
            
                <span>
            
                    
                    Storage
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.13.1" >
            
                <span>
            
                    
                    Storage Engine
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.13.1.1" data-path="../Storage/Storage-Engines/WiredTiger-Storage-Engine.html">
            
                <a href="../Storage/Storage-Engines/WiredTiger-Storage-Engine.html">
            
                    
                    WiredTiger Storage Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13.1.2" data-path="../Storage/Storage-Engines/In-Memory-Storage-Engine.html">
            
                <a href="../Storage/Storage-Engines/In-Memory-Storage-Engine.html">
            
                    
                    In-Memory Storage Engine
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.13.2" >
            
                <span>
            
                    
                    Journaling
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.13.2.1" >
            
                <span>
            
                    
                    Manage Journaling
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.13.3" >
            
                <span>
            
                    
                    GridFS
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14" >
            
                <span>
            
                    
                    Reference
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1" >
            
                <span>
            
                    
                    Operators
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1.1" data-path="../Reference/Operators/Query-and-Projection-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators.html">
            
                    
                    Query and Projection Operators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1.1.1" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators.html">
            
                    
                    Comparison Query Operators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1.1.1.1" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/eq.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/eq.html">
            
                    
                    $eq
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.1.2" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/gt.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/gt.html">
            
                    
                    $gt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.1.3" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/gte.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/gte.html">
            
                    
                    $gte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.1.4" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/in.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/in.html">
            
                    
                    $in
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.1.5" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/lt.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/lt.html">
            
                    
                    $lt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.1.6" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/lte.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/lte.html">
            
                    
                    $lte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.1.7" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/ne.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/ne.html">
            
                    
                    $ne
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.1.8" data-path="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/nin.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Comparison-Query-Operators/nin.html">
            
                    
                    $nin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.2" data-path="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators.html">
            
                    
                    Logical Query Operators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1.1.2.1" data-path="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/and.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/and.html">
            
                    
                    $and
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.2.2" data-path="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/not.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/not.html">
            
                    
                    $not
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.2.3" data-path="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/nor.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/nor.html">
            
                    
                    $nor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.2.4" data-path="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/or.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Logical-Query-Operators/or.html">
            
                    
                    $or
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.3" data-path="../Reference/Operators/Query-and-Projection-Operators/Element-Query-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Element-Query-Operators.html">
            
                    
                    Element Query Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.4" data-path="../Reference/Operators/Query-and-Projection-Operators/Evaluation-Query-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Evaluation-Query-Operators.html">
            
                    
                    Evaluation Query Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.5" data-path="../Reference/Operators/Query-and-Projection-Operators/Geospatial-Query-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Geospatial-Query-Operators.html">
            
                    
                    Geospatial Query Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.6" data-path="../Reference/Operators/Query-and-Projection-Operators/Array-Query-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Array-Query-Operators.html">
            
                    
                    Array Query Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.7" data-path="../Reference/Operators/Query-and-Projection-Operators/Bitwise-Query-Operators.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/Bitwise-Query-Operators.html">
            
                    
                    Bitwise Query Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.8" data-path="../Reference/Operators/Query-and-Projection-Operators/comment.html">
            
                <a href="../Reference/Operators/Query-and-Projection-Operators/comment.html">
            
                    
                    $comment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.1.9" >
            
                <span>
            
                    
                    Projection Operators
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.1.2" data-path="../Reference/Operators/Update-Operators.html">
            
                <a href="../Reference/Operators/Update-Operators.html">
            
                    
                    Update Operators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1.2.1" data-path="../Reference/Operators/Update-Operators/Field-Update-Operators.html">
            
                <a href="../Reference/Operators/Update-Operators/Field-Update-Operators.html">
            
                    
                    Field Update Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.2.2" data-path="../Reference/Operators/Update-Operators/Array-Update-Operators.html">
            
                <a href="../Reference/Operators/Update-Operators/Array-Update-Operators.html">
            
                    
                    Array Update Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.2.3" data-path="../Reference/Operators/Update-Operators/Bitwise-Update-Operator.html">
            
                <a href="../Reference/Operators/Update-Operators/Bitwise-Update-Operator.html">
            
                    
                    Bitwise Update Operator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.1.3" data-path="../Reference/Operators/Aggregation-Pipeline-Stages.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Stages.html">
            
                    
                    Aggregation Pipeline Stages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4" data-path="../Reference/Operators/Aggregation-Pipeline-Operators.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators.html">
            
                    
                    Aggregation Pipeline Operators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1.4.1" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/abs-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/abs-aggregation.html">
            
                    
                    $abs (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.2" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/acos-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/acos-aggregation.html">
            
                    
                    $acos (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.3" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/acosh-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/acosh-aggregation.html">
            
                    
                    $acosh (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.4" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/add-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/add-aggregation.html">
            
                    
                    $add (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.5" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/addToSet-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/addToSet-aggregation.html">
            
                    
                    $addToSet (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.6" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/allElementsTrue-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/allElementsTrue-aggregation.html">
            
                    
                    $allElementsTrue (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.7" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/and-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/and-aggregation.html">
            
                    
                    $and (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.8" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/anyElementTrue-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/anyElementTrue-aggregation.html">
            
                    
                    $anyElementTrue (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.9" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/arrayElemAt-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/arrayElemAt-aggregation.html">
            
                    
                    $arrayElemAt (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.10" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/arrayToObject-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/arrayToObject-aggregation.html">
            
                    
                    $arrayToObject (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.11" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/asin-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/asin-aggregation.html">
            
                    
                    $asin (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.12" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/asinh-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/asinh-aggregation.html">
            
                    
                    $asinh (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.13" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/atan-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/atan-aggregation.html">
            
                    
                    $atan (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.14" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/atan2-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/atan2-aggregation.html">
            
                    
                    $atan2 (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.15" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/atanh-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/atanh-aggregation.html">
            
                    
                    $atanh (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.16" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/avg-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/avg-aggregation.html">
            
                    
                    $avg (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.17" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/ceil-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/ceil-aggregation.html">
            
                    
                    $ceil (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.18" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/cmp-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/cmp-aggregation.html">
            
                    
                    $cmp (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.19" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/concat-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/concat-aggregation.html">
            
                    
                    $concat (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.20" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/concatArrays-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/concatArrays-aggregation.html">
            
                    
                    $concatArrays (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.21" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/cond-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/cond-aggregation.html">
            
                    
                    $cond (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.22" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/convert-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/convert-aggregation.html">
            
                    
                    $convert (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.23" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/cos-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/cos-aggregation.html">
            
                    
                    $cos (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.24" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/dateFromParts-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/dateFromParts-aggregation.html">
            
                    
                    $dateFromParts (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.25" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/dateToParts-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/dateToParts-aggregation.html">
            
                    
                    $dateToParts (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.26" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/dateFromString-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/dateFromString-aggregation.html">
            
                    
                    $dateFromString (aggregation)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.1.4.27" data-path="../Reference/Operators/Aggregation-Pipeline-Operators/literal-aggregation.html">
            
                <a href="../Reference/Operators/Aggregation-Pipeline-Operators/literal-aggregation.html">
            
                    
                    $literal (aggregation)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.1.5" data-path="../Reference/Operators/Query-Modifiers.html">
            
                <a href="../Reference/Operators/Query-Modifiers.html">
            
                    
                    Query Modifiers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.2" data-path="../Reference/Database-Commands.html">
            
                <a href="../Reference/Database-Commands.html">
            
                    
                    Database Commands
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.2.1" data-path="../Reference/Database-Commands/Aggregation-Commands.html">
            
                <a href="../Reference/Database-Commands/Aggregation-Commands.html">
            
                    
                    Aggregation Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.2" data-path="../Reference/Database-Commands/Geospatial-Commands.html">
            
                <a href="../Reference/Database-Commands/Geospatial-Commands.html">
            
                    
                    Geospatial Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.3" data-path="../Reference/Database-Commands/Query-and-Write-Operation-Commands.html">
            
                <a href="../Reference/Database-Commands/Query-and-Write-Operation-Commands.html">
            
                    
                    Query and Write Operation Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.4" data-path="../Reference/Database-Commands/Query-Plan-Cache-Commands.html">
            
                <a href="../Reference/Database-Commands/Query-Plan-Cache-Commands.html">
            
                    
                    Query Plan Cache Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.5" data-path="../Reference/Database-Commands/Authentication-Commands.html">
            
                <a href="../Reference/Database-Commands/Authentication-Commands.html">
            
                    
                    Authentication Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.6" data-path="../Reference/Database-Commands/User-Management-Commands.html">
            
                <a href="../Reference/Database-Commands/User-Management-Commands.html">
            
                    
                    User Management Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.7" data-path="../Reference/Database-Commands/Role-Management-Commands.html">
            
                <a href="../Reference/Database-Commands/Role-Management-Commands.html">
            
                    
                    Role Management Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.8" data-path="../Reference/Database-Commands/Replication-Commands.html">
            
                <a href="../Reference/Database-Commands/Replication-Commands.html">
            
                    
                    Replication Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.9" data-path="../Reference/Database-Commands/Sharding-Commands.html">
            
                <a href="../Reference/Database-Commands/Sharding-Commands.html">
            
                    
                    Sharding Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.10" data-path="../Reference/Database-Commands/Sessions-Commands.html">
            
                <a href="../Reference/Database-Commands/Sessions-Commands.html">
            
                    
                    Sessions Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.11" data-path="../Reference/Database-Commands/Administration-Commands.html">
            
                <a href="../Reference/Database-Commands/Administration-Commands.html">
            
                    
                    Administration Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.12" data-path="../Reference/Database-Commands/Diagnostic-Commands.html">
            
                <a href="../Reference/Database-Commands/Diagnostic-Commands.html">
            
                    
                    Diagnostic Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.13" data-path="../Reference/Database-Commands/Free-Monitoring-Commands.html">
            
                <a href="../Reference/Database-Commands/Free-Monitoring-Commands.html">
            
                    
                    Free Monitoring Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2.14" data-path="../Reference/Database-Commands/System-Events-Auditing-Commands.html">
            
                <a href="../Reference/Database-Commands/System-Events-Auditing-Commands.html">
            
                    
                    System Events Auditing Commands
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.3" data-path="../Reference/mongo-Shell-Methods.html">
            
                <a href="../Reference/mongo-Shell-Methods.html">
            
                    
                    mongo Shell Methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.3.1" data-path="../Reference/mongo-Shell-Methods/Collection-Methods.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods.html">
            
                    
                    Collection Methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.3.1.1" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-aggregate.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-aggregate.html">
            
                    
                    db.collection.aggregate()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.2" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-bulkWrite.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-bulkWrite.html">
            
                    
                    db.collection.bulkWrite()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.3" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-copyTo.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-copyTo.html">
            
                    
                    db.collection.copyTo()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.4" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-count.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-count.html">
            
                    
                    db.collection.count()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.5" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-countDocuments.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-countDocuments.html">
            
                    
                    db.collection.countDocuments()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.6" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-estimatedDocumentCount.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-estimatedDocumentCount.html">
            
                    
                    db.collection.estimatedDocumentCount()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.7" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-createIndex.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-createIndex.html">
            
                    
                    db.collection.createIndex()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.8" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-createIndexes.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-createIndexes.html">
            
                    
                    db.collection.createIndexes()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.9" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-dataSize.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-dataSize.html">
            
                    
                    db.collection.dataSize()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.10" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-deleteOne.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-deleteOne.html">
            
                    
                    db.collection.deleteOne()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.11" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-deleteMany.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-deleteMany.html">
            
                    
                    db.collection.deleteMany()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.12" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-distinct.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-distinct.html">
            
                    
                    db.collection.distinct()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.13" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-drop.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-drop.html">
            
                    
                    db.collection.drop()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.14" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-dropIndex.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-dropIndex.html">
            
                    
                    db.collection.dropIndex()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.15" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-dropIndexes.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-dropIndexes.html">
            
                    
                    db.collection.dropIndexes()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.16" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-ensureIndex.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-ensureIndex.html">
            
                    
                    db.collection.ensureIndex()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.17" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-explain.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-explain.html">
            
                    
                    db.collection.explain()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.18" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-find.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-find.html">
            
                    
                    db.collection.find()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.19" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findAndModify.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findAndModify.html">
            
                    
                    db.collection.findAndModify()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.20" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOne.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOne.html">
            
                    
                    db.collection.findOne()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.21" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOneAndDelete.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOneAndDelete.html">
            
                    
                    db.collection.findOneAndDelete()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.22" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOneAndReplace.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOneAndReplace.html">
            
                    
                    db.collection.findOneAndReplace()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.23" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOneAndUpdate.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-findOneAndUpdate.html">
            
                    
                    db.collection.findOneAndUpdate()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.24" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-getIndexes.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-getIndexes.html">
            
                    
                    db.collection.getIndexes()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.25" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-getShardDistribution.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-getShardDistribution.html">
            
                    
                    db.collection.getShardDistribution()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.26" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-getShardVersion.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-getShardVersion.html">
            
                    
                    db.collection.getShardVersion()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.27" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-insert.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-insert.html">
            
                    
                    db.collection.insert()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.28" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-insertOne.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-insertOne.html">
            
                    
                    db.collection.insertOne()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.29" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-insertMany.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-insertMany.html">
            
                    
                    db.collection.insertMany()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.30" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-isCapped.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-isCapped.html">
            
                    
                    db.collection.isCapped()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.31" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-latencyStats.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-latencyStats.html">
            
                    
                    db.collection.latencyStats()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.32" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-mapReduce.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-mapReduce.html">
            
                    
                    db.collection.mapReduce()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.33" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-reIndex.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-reIndex.html">
            
                    
                    db.collection.reIndex()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.34" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-remove.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-remove.html">
            
                    
                    db.collection.remove()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.35" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-renameCollection.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-renameCollection.html">
            
                    
                    db.collection.renameCollection()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.36" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-replaceOne.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-replaceOne.html">
            
                    
                    db.collection.replaceOne()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.37" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-save.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-save.html">
            
                    
                    db.collection.save()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.38" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-stats.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-stats.html">
            
                    
                    db.collection.stats()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.39" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-storageSize.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-storageSize.html">
            
                    
                    db.collection.storageSize()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.40" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-totalIndexSize.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-totalIndexSize.html">
            
                    
                    db.collection.totalIndexSize()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.41" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-totalSize.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-totalSize.html">
            
                    
                    db.collection.totalSize()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.42" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-update.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-update.html">
            
                    
                    db.collection.update()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.43" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-updateOne.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-updateOne.html">
            
                    
                    db.collection.updateOne()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.44" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-updateMany.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-updateMany.html">
            
                    
                    db.collection.updateMany()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.45" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-watch.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-watch.html">
            
                    
                    db.collection.watch()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3.1.46" data-path="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-validate.html">
            
                <a href="../Reference/mongo-Shell-Methods/Collection-Methods/db-collection-validate.html">
            
                    
                    db.collection.validate()
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14.4" data-path="../Reference/Glossary.html">
            
                <a href="../Reference/Glossary.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.5" data-path="../Reference/Default-MongoDB-Port.html">
            
                <a href="../Reference/Default-MongoDB-Port.html">
            
                    
                    Default MongoDB Port
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.6" data-path="../Reference/Default-MongoDB-Read-Concerns-and-Write-Concerns.html">
            
                <a href="../Reference/Default-MongoDB-Read-Concerns-and-Write-Concerns.html">
            
                    
                    Default MongoDB Read Concerns Write Concerns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.7" data-path="../Reference/Server-Sessions.html">
            
                <a href="../Reference/Server-Sessions.html">
            
                    
                    Server Sessions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.15" >
            
                <span>
            
                    
                    FAQ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.15.1" data-path="../Frequently-Asked-Questions/MongoDB-Fundamentals.html">
            
                <a href="../Frequently-Asked-Questions/MongoDB-Fundamentals.html">
            
                    
                    FAQ: MongoDB Fundamentals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15.2" data-path="../Frequently-Asked-Questions/Indexes.html">
            
                <a href="../Frequently-Asked-Questions/Indexes.html">
            
                    
                    FAQ: Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15.3" data-path="../Frequently-Asked-Questions/Concurrency.html">
            
                <a href="../Frequently-Asked-Questions/Concurrency.html">
            
                    
                    FAQ: Concurrency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15.4" data-path="../Frequently-Asked-Questions/Sharding-with-MongoDB.html">
            
                <a href="../Frequently-Asked-Questions/Sharding-with-MongoDB.html">
            
                    
                    FAQ: Sharding with MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15.5" data-path="../Frequently-Asked-Questions/Replication-and-ReplicaSets.html">
            
                <a href="../Frequently-Asked-Questions/Replication-and-ReplicaSets.html">
            
                    
                    FAQ: Replication and Replica Sets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15.6" data-path="../Frequently-Asked-Questions/MongoDB-Storage.html">
            
                <a href="../Frequently-Asked-Questions/MongoDB-Storage.html">
            
                    
                    FAQ: MongoDB Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15.7" data-path="../Frequently-Asked-Questions/MongoDB-Diagnostics.html">
            
                <a href="../Frequently-Asked-Questions/MongoDB-Diagnostics.html">
            
                    
                    FAQ: MongoDB Diagnostics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.16" >
            
                <span>
            
                    
                    联系我们
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.16.1" >
            
                <a target="_blank" href="http://www.jinmuinfo.com/">
            
                    
                    锦木信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.16.2" >
            
                <span>
            
                    
                    MongoDB中文社区
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Production Notes</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="production-notes"><strong>Production</strong> Notes<a href="https://docs.mongodb.com/manual/administration/production-notes/" title="Permalink to this headline" target="_blank"></a></h1>
<h1 id="&#x4EA7;&#x54C1;&#x8BF4;&#x660E;">&#x4EA7;&#x54C1;&#x8BF4;&#x660E;</h1>
<ul>
<li><p>[MongoDB Binaries]MongoDB &#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#mongodb-binaries" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#mongodb-binaries</a>)</p>
</li>
<li><p>[MongoDB dbPath]MongoDB &#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#mongodb-dbpath" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#mongodb-dbpath</a>)</p>
</li>
<li><p>[Concurrency]&#x5E76;&#x53D1;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#concurrency" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#concurrency</a>)</p>
</li>
<li><p>[Data Consistency]&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#data-consistency" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#data-consistency</a>)</p>
</li>
<li><p>[Networking]&#x8054;&#x7F51;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#networking" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#networking</a>)</p>
</li>
<li><p>[Hardware Considerations]&#x786C;&#x4EF6;&#x6CE8;&#x610F;&#x4E8B;&#x9879;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#hardware-considerations" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#hardware-considerations</a>)</p>
</li>
<li><p>[Architecture]&#x67B6;&#x6784;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#architecture" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#architecture</a>)</p>
</li>
<li><p>[Compression]&#x538B;&#x7F29;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#compression" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#compression</a>)</p>
</li>
<li><p>[Clock Synchronization]&#x65F6;&#x949F;&#x540C;&#x6B65;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#clock-synchronization" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#clock-synchronization</a>)</p>
</li>
<li><p>[Platform Specific Considerations]&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x6CE8;&#x610F;&#x4E8B;&#x9879;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#platform-specific-considerations" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#platform-specific-considerations</a>)</p>
</li>
<li><p>[Performance Monitoring]&#x6027;&#x80FD;&#x76D1;&#x63A7;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#performance-monitoring" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#performance-monitoring</a>)</p>
</li>
<li><p>[Backups]&#x5907;&#x4EFD;(<a href="https://docs.mongodb.com/manual/administration/production-notes/#backups" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/#backups</a>)</p>
</li>
</ul>
<p>This page details system configurations that affect MongoDB, especially when running in production.
&#x672C;&#x6587;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x4E86;&#x5F71;&#x54CD;MongoDB&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x3002;</p>
<p>MMAPV1 REMOVED&#xFF1A;
&#x79FB;&#x9664; MMAPV1&#xFF1A;</p>
<p>MongoDB 4.2 removes the deprecated MMAPv1 storage engine. To change your MMAPv1 storage engine deployment to <a href="https://docs.mongodb.com/manual/core/wiredtiger/" target="_blank">WiredTiger Storage Engine</a>  , see:                                                                                          MongoDB 4.2 &#x79FB;&#x9664;&#x4E86;&#x5DF2;&#x5F03;&#x7528;&#x7684; MMAPv1 &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x3002;&#x8981;&#x5C06; MMAPv1 &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x90E8;&#x7F72;&#x66F4;&#x6539;&#x4E3A;  <a href="https://docs.mongodb.com/manual/core/wiredtiger/" target="_blank">WiredTiger&#x5B58;&#x50A8;&#x5F15;&#x64CE;</a> &#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#xFF1A;</p>
<ul>
<li>[Change Standalone to WiredTiger]&#x5C06;&#x5355;&#x8282;&#x70B9;&#x66F4;&#x6539;&#x4E3A;WiredTiger(<a href="https://docs.mongodb.com/manual/tutorial/change-standalone-wiredtiger/" target="_blank">https://docs.mongodb.com/manual/tutorial/change-standalone-wiredtiger/</a>)</li>
<li>[Change Replica Set to WiredTiger]&#x5C06;&#x590D;&#x5236;&#x96C6;&#x7FA4;&#x66F4;&#x6539;&#x4E3A;WiredTiger(<a href="https://docs.mongodb.com/manual/tutorial/change-replica-set-wiredtiger/" target="_blank">https://docs.mongodb.com/manual/tutorial/change-replica-set-wiredtiger/</a>)</li>
<li>[Change Sharded Cluster to WiredTiger]&#x5C06;&#x5206;&#x7247;&#x96C6;&#x7FA4;&#x66F4;&#x6539;&#x4E3A;WiredTiger(<a href="https://docs.mongodb.com/manual/tutorial/change-sharded-cluster-wiredtiger/" target="_blank">https://docs.mongodb.com/manual/tutorial/change-sharded-cluster-wiredtiger/</a>)</li>
</ul>
<p>NOTE&#xFF1A;
&#x6CE8;&#x610F;&#xFF1A;</p>
<p><a href="https://www.mongodb.com/cloud/atlas?tck=docs_server" target="_blank">MongoDB Atlas</a> is a cloud-hosted database-as-a-service. <a href="https://www.mongodb.com/cloud/cloud-manager/?jmp=docs" target="_blank">MongoDB Cloud Manager</a>, a hosted service, and <a href="https://www.mongodb.com/products/mongodb-enterprise-advanced?jmp=docs" target="_blank">Ops Manager</a>, an on-premise solution, provide monitoring, backup, and automation of MongoDB instances. For documentation, see <a href="https://docs.atlas.mongodb.com/?jmp=docs" target="_blank">Atlas documentation</a>, the <a href="https://docs.cloudmanager.mongodb.com/" target="_blank">MongoDB Cloud Manager documentation</a> and <a href="https://docs.opsmanager.mongodb.com/?jmp=docs" target="_blank">Ops Manager documentation</a></p>
<p><a href="https://www.mongodb.com/cloud/atlas?tck=docs_server" target="_blank">MongoDB Atlas</a> &#x662F;&#x4E91;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x3002;<a href="https://www.mongodb.com/cloud/cloud-manager/?jmp=docs" target="_blank">MongoDB Cloud Manager&#xFF1A;&#x5B98;&#x65B9;&#x63A8;&#x51FA;&#x7684;&#x8FD0;&#x7EF4;&#x81EA;&#x52A8;&#x5316;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;</a>&#xFF0C; &#x662F;&#x4E00;&#x4E2A;&#x6258;&#x7BA1;&#x670D;&#x52A1;&#xFF1B; <a href="https://www.mongodb.com/products/mongodb-enterprise-advanced?jmp=docs" target="_blank">Ops Manager&#xFF1A;&#x7528;&#x4E8E;&#x76D1;&#x63A7;&#x548C;&#x5907;&#x4EFD;MongoDB&#x7684;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x670D;&#x52A1;</a>&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x89E3;&#x51B3;&#x65B9;&#x6848;, &#x63D0;&#x4F9B; MongoDB &#x5B9E;&#x4F8B;&#x7684;&#x76D1;&#x89C6;&#xFF0C;&#x5907;&#x4EFD;&#x548C;&#x81EA;&#x52A8;&#x5316;&#x3002; &#x6709;&#x5173;&#x6587;&#x6863;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <a href="https://docs.atlas.mongodb.com/?jmp=docs" target="_blank">Atlas &#x6587;&#x6863;</a>, <a href="https://docs.cloudmanager.mongodb.com/" target="_blank">MongoDB Cloud Manager &#x6587;&#x6863;</a> &#x548C; <a href="https://docs.opsmanager.mongodb.com/?jmp=docs" target="_blank">Ops Manager &#x6587;&#x6863;</a>&#x3002;</p>
<h2 id="mongodb-binaries">MongoDB Binaries</h2>
<h2 id="mongodb-&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;">MongoDB &#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;</h2>
<h3 id="supported-platforms">Supported Platforms</h3>
<h3 id="&#x652F;&#x6301;&#x7684;&#x5E73;&#x53F0;">&#x652F;&#x6301;&#x7684;&#x5E73;&#x53F0;</h3>
<p>For running <strong>in production</strong>, refer to the <a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-recommended-platforms" target="_blank">Recommended Platforms</a> for operating system recommendations. <strong>&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;</strong>&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-recommended-platforms" target="_blank">&#x63A8;&#x8350;&#x7684;&#x5E73;&#x53F0;</a>&#x4EE5;&#x83B7;&#x53D6;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;</p>
<p>NOTE&#xFF1A;
&#x6CE8;&#x610F;&#xFF1A;</p>
<p>MongoDB 4.0 may lose data during unclean shutdowns on macOS 10.12.x and 10.13.x.                                                                            MongoDB 4.0 &#x5728; macOS 10.12.x &#x548C; 10.13.x &#x7CFB;&#x7EDF;&#x4E0A;&#x5F53;&#x786C;&#x76D8;&#x672A;&#x6B63;&#x5E38;&#x5173;&#x673A;&#x65F6;&#x53EF;&#x80FD;&#x4E22;&#x5931;&#x6570;&#x636E;&#x3002;</p>
<p>For details, see <a href="https://jira.mongodb.org/browse/WT-4018" target="_blank">WT-4018</a>.                                                                                                                                                 &#x5BF9;&#x4E8E;&#x66F4;&#x591A;&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x53C2;&#x89C1;<a href="https://jira.mongodb.org/browse/WT-4018" target="_blank">WT-4018</a>&#x3002;</p>
<h4 id="x8664---------------------------------------------------------------------------------------------------------------------------------------------------x8664">x86_64                                                                                                                                                   x86_64</h4>
<p><strong>Platform Support EOL Notice</strong>                                                                                                                                       </p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ubuntu 14.04</td>
<td style="text-align:center">Support removed in MongoDB 4.2+.</td>
</tr>
<tr>
<td style="text-align:center">Debian 8</td>
<td style="text-align:center">Support removed in MongoDB 4.2+.</td>
</tr>
<tr>
<td style="text-align:center">macOS 10.11</td>
<td style="text-align:center">Support removed in MongoDB 4.2+.</td>
</tr>
</tbody>
</table>
<p><strong>&#x5E73;&#x53F0;&#x652F;&#x6301;&#x7684;&#x4EA7;&#x54C1;&#x751F;&#x547D;&#x671F;&#x7ED3;&#x675F;&#x901A;&#x77E5;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ubuntu 14.04</td>
<td style="text-align:center">&#x5728;MongoDB 4.2+&#x4E2D;&#x79FB;&#x9664;&#x4E86;&#x652F;&#x6301;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center">Debian 8</td>
<td style="text-align:center">&#x5728;MongoDB 4.2+&#x4E2D;&#x79FB;&#x9664;&#x4E86;&#x652F;&#x6301;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center">macOS 10.11</td>
<td style="text-align:center">&#x5728;MongoDB 4.2+&#x4E2D;&#x79FB;&#x9664;&#x4E86;&#x652F;&#x6301;&#x3002;</td>
</tr>
</tbody>
</table>
<p><em>Upcoming EOL Notice</em>:</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Windows 8.1/2012R2</td>
<td style="text-align:center">MongoDB will end support in future releases.</td>
</tr>
<tr>
<td style="text-align:center">Windows 8/2012</td>
<td style="text-align:center">MongoDB will end support in future releases.</td>
</tr>
<tr>
<td style="text-align:center">Windows 7/2008R2</td>
<td style="text-align:center">MongoDB will end support in future releases.</td>
</tr>
</tbody>
</table>
<p>&#x5373;&#x5C06;&#x5230;&#x6765;&#x7684;&#x7684;&#x4EA7;&#x54C1;&#x751F;&#x547D;&#x671F;&#x7ED3;&#x675F;&#x901A;&#x77E5;</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Windows 8.1/2012R2</td>
<td style="text-align:center">MongoDB&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x7248;&#x672C;&#x4E2D;&#x4E0D;&#x518D;&#x652F;&#x6301;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center">Windows 8/2012</td>
<td style="text-align:center">MongoDB&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x7248;&#x672C;&#x4E2D;&#x4E0D;&#x518D;&#x652F;&#x6301;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center">Windows 7/2008R2</td>
<td style="text-align:center">MongoDB&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x7248;&#x672C;&#x4E2D;&#x4E0D;&#x518D;&#x652F;&#x6301;&#x3002;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Platform</th>
<th style="text-align:center">4.2 Community &amp; Enterprise</th>
<th style="text-align:center">4.0 Community &amp; Enterprise</th>
<th style="text-align:center">3.6 Community &amp; Enterprise</th>
<th style="text-align:center">3.4 Community &amp; Enterprise</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Amazon Linux 2</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Amazon Linux 2013.03 and later</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Debian 10</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Debian 9</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">3.6.5+</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Debian 8</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">RHEL/CentOS/Oracle Linux <a href="https://docs.mongodb.com/manual/administration/production-notes/#oracle-linux" target="_blank">[1]</a> 8.0 and later</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center">4.0.14+</td>
<td style="text-align:center">3.6.17+</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">RHEL/CentOS/Oracle Linux <a href="https://docs.mongodb.com/manual/administration/production-notes/#oracle-linux" target="_blank">[1]</a> 7.0 and later</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">RHEL/CentOS/Oracle Linux <a href="https://docs.mongodb.com/manual/administration/production-notes/#oracle-linux" target="_blank">[1]</a> 6.2 and later</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">SLES 15</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">SLES 12</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Solaris 11 64-bit</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">Community only</td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 18.04</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">4.0.1+</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 16.04</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 14.04</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Windows Server 2019</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Windows 10 / Server 2016</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Windows 8.1 / Server 2012 R2</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Windows 8 / Server 2012</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Windows 7 / Server 2008 R2</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Windows Vista</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">macOS 10.13 and later</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">macOS 10.12</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">macOS 10.11</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">macOS 10.10</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5E73;&#x53F0;</th>
<th style="text-align:center">4.2 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">4.0 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.6 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.4 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x4E9A;&#x9A6C;&#x900A; Linux 2</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">&#x4E9A;&#x9A6C;&#x900A; Linux 2013.03 &#x548C;&#x66F4;&#x9AD8;&#x7248;&#x672C;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Debian 10</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Debian 9</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">3.6.5+</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Debian 8</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">RHEL/CentOS/Oracle Linux <a href="https://docs.mongodb.com/manual/administration/production-notes/#oracle-linux" target="_blank">[1]</a> 8.0 and later</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center">4.0.14+</td>
<td style="text-align:center">3.6.17+</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">RHEL/CentOS/Oracle Linux <a href="https://docs.mongodb.com/manual/administration/production-notes/#oracle-linux" target="_blank">[1]</a> 7.0 &#x548C;&#x66F4;&#x9AD8;&#x7248;&#x672C;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">RHEL/CentOS/Oracle Linux <a href="https://docs.mongodb.com/manual/administration/production-notes/#oracle-linux" target="_blank">[1]</a> 6.2 &#x548C;&#x66F4;&#x9AD8;&#x7248;&#x672C;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">SLES 15</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">SLES 12</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Solaris 11 64-bit</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x4EC5;&#x793E;&#x533A;&#x7248;&#x672C;</td>
</tr>
<tr>
<td style="text-align:center">Ubuntu 18.04</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">4.0.1+</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Ubuntu 16.04</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Ubuntu 14.04</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Windows Server 2019</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Windows 10 / Server 2016</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Windows 8.1 / Server 2012 R2</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Windows 8 / Server 2012</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Windows 7 / Server 2008 R2</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Windows Vista</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">macOS 10.13 &#x548C;&#x66F4;&#x9AD8;&#x7248;&#x672C;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">macOS 10.12</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">macOS 10.11</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">macOS 10.10</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
</tbody>
</table>
<p>[1]    <em>(<a href="https://docs.mongodb.com/manual/administration/production-notes/#id1" target="_blank">1</a>, <a href="https://docs.mongodb.com/manual/administration/production-notes/#id2" target="_blank">2</a>, <a href="https://docs.mongodb.com/manual/administration/production-notes/#id3" target="_blank">3</a>)</em> MongoDB only supports Oracle Linux running the Red Hat Compatible Kernel (RHCK). MongoDB does not support the Unbreakable Enterprise Kernel (UEK).                                                                          [1]    <em>(<a href="https://docs.mongodb.com/manual/administration/production-notes/#id1" target="_blank">1</a>, <a href="https://docs.mongodb.com/manual/administration/production-notes/#id2" target="_blank">2</a>, <a href="https://docs.mongodb.com/manual/administration/production-notes/#id3" target="_blank">3</a>)</em> MongoDB &#x4EC5;&#x652F;&#x6301; Oracle Linux &#x8FD0;&#x884C; Red Hat Compatible Kernel (RHCK). MongoDB &#x4E0D;&#x652F;&#x6301;Unbreakable Enterprise Kernel (UEK)&#x3002;</p>
<h4 id="arm64--------------------------------------------------------------------------------------------------------------------------------arm64">ARM64                                                                                                                                ARM64</h4>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>Platform Support EOL Notice</strong></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ubuntu 16.04 ARM64</td>
<td style="text-align:center">Support removed in MongoDB Community 4.2+.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5E73;&#x53F0;&#x652F;&#x6301;&#x7684; &#x4EA7;&#x54C1;&#x751F;&#x547D;&#x671F;&#x7ED3;&#x675F;&#x901A;&#x77E5;</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ubuntu 16.04 ARM64</td>
<td style="text-align:center">&#x5728;MongoDB &#x793E;&#x533A;&#x7248; 4.2+&#x4E2D;&#x4E0D;&#x518D;&#x652F;&#x6301;&#x3002;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Platform</th>
<th style="text-align:center">4.2 Community &amp; Enterprise</th>
<th style="text-align:center">4.0 Community &amp; Enterprise</th>
<th style="text-align:center">3.6 Community &amp; Enterprise</th>
<th style="text-align:center">3.4 Community &amp; Enterprise</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Ubuntu 18.04</td>
<td style="text-align:center">Community only</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 16.04</td>
<td style="text-align:center">Enterprise only</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">&#x5E73;&#x53F0;</th>
<th style="text-align:center">4.2 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">4.0 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.6 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.4 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Ubuntu 18.04</td>
<td style="text-align:center">&#x4EC5;&#x793E;&#x533A;&#x7248;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 16.04</td>
<td style="text-align:center">&#x4EC5;&#x4F01;&#x4E1A;&#x7248;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
</tbody>
</table>
<h4 id="ppc64le-mongodb-enterprise-edition-------------------------------------------------------------------------------------ppc64le-mongodb-&#x4F01;&#x4E1A;&#x7248;">PPC64LE (MongoDB Enterprise Edition)                                                                                     PPC64LE (MongoDB &#x4F01;&#x4E1A;&#x7248;)</h4>
<table>
<thead>
<tr>
<th style="text-align:center">Platform Support EOL Notice</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ubuntu 16.04 PPC64LE</td>
<td style="text-align:center">Support removed in MongoDB 4.2+.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5E73;&#x53F0;&#x652F;&#x6301;&#x7684; &#x4EA7;&#x54C1;&#x751F;&#x547D;&#x671F;&#x7ED3;&#x675F;&#x901A;&#x77E5;</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ubuntu 16.04 PPC64LE</td>
<td style="text-align:center">&#x5728;MongoDB &#x793E;&#x533A;&#x7248; 4.2+&#x4E2D;&#x4E0D;&#x518D;&#x652F;&#x6301;&#x3002;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Platform</th>
<th style="text-align:center">4.2 Enterprise</th>
<th style="text-align:center">4.0 Enterprise</th>
<th style="text-align:center">3.6 Enterprise</th>
<th style="text-align:center">3.4 Enterprise</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">RHEL/CentOS 7</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 18.04</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 16.04</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">Removed starting in 3.6.13</td>
<td style="text-align:center">Removed starting in 3.4.21</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5E73;&#x53F0;</th>
<th style="text-align:center">4.2 &#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">4.0 &#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.6 &#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.4 &#x4F01;&#x4E1A;&#x7248;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">RHEL/CentOS 7</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
<tr>
<td style="text-align:center">Ubuntu 18.04</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Ubuntu 16.04</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x5728;3.6.13&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
<td style="text-align:center">&#x5728;3.4.21&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
</tr>
</tbody>
</table>
<h4 id="s390x----------------------------------------------------------------------------------------------------------------------------------------s390x">s390x                                                                                                                                        s390x</h4>
<table>
<thead>
<tr>
<th style="text-align:left">Platform</th>
<th style="text-align:center">4.2 Community &amp; Enterprise</th>
<th style="text-align:center">4.0 Enterprise</th>
<th style="text-align:center">3.6 Enterprise</th>
<th style="text-align:center">3.4 Enterprise</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">RHEL/CentOS 7</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">4.0.6+</td>
<td style="text-align:center">Removed starting in 3.6.2</td>
<td style="text-align:center">Removed starting in 3.4.14</td>
</tr>
<tr>
<td style="text-align:left">RHEL/CentOS 6</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">Removed starting in 3.6.14</td>
<td style="text-align:center">Removed starting in 3.4.22</td>
</tr>
<tr>
<td style="text-align:left">SLES12</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">4.0.6+</td>
<td style="text-align:center">Removed starting in 3.6.2</td>
<td style="text-align:center">Removed starting in 3.4.15</td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 18.04</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center">4.0.6+</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">&#x5E73;&#x53F0;</th>
<th style="text-align:center">4.2 &#x793E;&#x533A;&#x7248;&#x548C;&#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">4.0 &#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.6 &#x4F01;&#x4E1A;&#x7248;</th>
<th style="text-align:center">3.4 &#x4F01;&#x4E1A;&#x7248;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">RHEL/CentOS 7</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">4.0.6+</td>
<td style="text-align:center">&#x5728;3.6.2&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
<td style="text-align:center">&#x5728;3.4.14&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
</tr>
<tr>
<td style="text-align:left">RHEL/CentOS 6</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x5728;3.6.14&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
<td style="text-align:center">&#x5728;3.4.22&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
</tr>
<tr>
<td style="text-align:left">SLES12</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">4.0.6+</td>
<td style="text-align:center">&#x5728;3.6.2&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
<td style="text-align:center">&#x5728;3.4.15&#x7248;&#x672C;&#x4E2D;&#x5F00;&#x59CB;&#x79FB;&#x9664;</td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 18.04</td>
<td style="text-align:center">4.2.1+</td>
<td style="text-align:center">4.0.6+</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h3 id="recommended-platforms----------------------------------------------------------------------------&#x63A8;&#x8350;&#x7684;&#x5E73;&#x53F0;">Recommended Platforms                                                                            &#x63A8;&#x8350;&#x7684;&#x5E73;&#x53F0;</h3>
<p>While MongoDB supports a variety of platforms, the following operating systems are recommended for production use:                                                                                                                                                                 &#x867D;&#x7136; MongoDB &#x652F;&#x6301;&#x5404;&#x79CD;&#x5E73;&#x53F0;&#xFF0C;&#x4F46;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x4EA7;&#x54C1;&#xFF1A;</p>
<ul>
<li>Amazon Linux 2                                                                                                                                                                        &#x4E9A;&#x9A6C;&#x900A; Linux</li>
<li>Debian 9 and 10                                                                                                                                                                 Debian 9 &#x548C; 10</li>
<li>RHEL / CentOS 6, 7, and 8                                                                                                                                                        RHEL / CentOS 6, 7, &#x548C; 8</li>
<li>SLES 12 and 15                                                                                                                                                                          SLES 12 &#x548C; 15</li>
<li>Ubuntu LTS 16.04 and 18.04                                                                                                                                              Ubuntu LTS 16.04 &#x548C; 18.04</li>
<li>Windows Server 2016 and 2019                                                                                                                                      Windows Server 2016 &#x548C; 2019</li>
</ul>
<p>SEE ALSO                                                                                                                                                                                          &#x53E6;&#x89C1;&#xFF1A;</p>
<p><a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-platform-considerations" target="_blank">Platform Specific Considerations</a>                                                                                                                                                 <a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-platform-considerations" target="_blank">&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</a></p>
<h3 id="use-the-latest-stable-packages------------------------------------------------------------------&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7684;&#x7A33;&#x5B9A;&#x5305;">Use the Latest Stable Packages                                                                  &#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7684;&#x7A33;&#x5B9A;&#x5305;</h3>
<p>Be sure you have the latest stable release.                                                                                                                   &#x786E;&#x4FDD;&#x60A8;&#x62E5;&#x6709;&#x6700;&#x65B0;&#x7684;&#x7A33;&#x5B9A;&#x7248;&#x672C;&#x3002;</p>
<p>All MongoDB releases are available on the <a href="https://www.mongodb.com/download-center/community?jmp=docs" target="_blank">MongoDB Download Center</a> page.The <a href="https://www.mongodb.com/download-center/community?jmp=docs" target="_blank">MongoDB Download Center</a> page is a good place to verify the current stable release, even if you are installing via a package manager.                                                                                                                                                                            &#x6240;&#x6709; MongoDB &#x7248;&#x672C;&#x90FD;&#x53EF;&#x5728; <a href="https://www.mongodb.com/download-center/community?jmp=docs" target="_blank">MongoDB &#x4E0B;&#x8F7D;&#x4E2D;&#x5FC3;</a> &#x9875;&#x9762;&#x83B7;&#x53D6;.  <a href="https://www.mongodb.com/download-center/community?jmp=docs" target="_blank">MongoDB &#x4E0B;&#x8F7D;&#x4E2D;&#x5FC3;</a> &#x9875;&#x9762;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x5F53;&#x524D;&#x7A33;&#x5B9A;&#x7248;&#x672C;&#xFF0C;&#x5373;&#x4F7F;&#x60A8;&#x901A;&#x8FC7;&#x5305;&#x7BA1;&#x7406;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x3002;</p>
<p>For other MongoDB products, refer either to the <a href="https://www.mongodb.com/download-center/community?jmp=docs" target="_blank">MongoDB Download Center</a> page or their <a href="https://docs.mongodb.com/?jmp=docs" target="_blank">respective documentation</a>.                                                                                                                                                               &#x5BF9;&#x5BF9;&#x4E8E;&#x5176;&#x4ED6; MongoDB &#x4EA7;&#x54C1;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <a href="https://www.mongodb.com/download-center/community?jmp=docs" target="_blank">MongoDB &#x4E0B;&#x8F7D;&#x4E2D;&#x5FC3;</a> &#x9875;&#x9762;&#x6216;&#x8005; <a href="https://docs.mongodb.com/?jmp=docs" target="_blank">&#x5404;&#x81EA;&#x5BF9;&#x5E94;&#x6587;&#x6863;</a>&#x3002;</p>
<h2 id="mongodb-dbpath">MongoDB dbPath</h2>
<h2 id="mongodb-&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;">MongoDB &#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;</h2>
<p>The files in the <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath" target="_blank">dbPath</a> directory must correspond to the configured <a href="https://docs.mongodb.com/manual/reference/glossary/#term-storage-engine" target="_blank">storage engine</a>. <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> will not start if <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath" target="_blank">dbPath</a> contains data files created by a storage engine other than the one specified by <a href="https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-storageengine" target="_blank">--storageEngine</a>.  <a href="https://www.docs4dev.com/docs/zh/mongodb/v3.6/reference/reference-configuration-options.html#storage.dbPath" target="_blank">dbPath</a>&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x4E0E;&#x914D;&#x7F6E;&#x7684;<a href="https://docs.mongodb.com/manual/reference/glossary/#term-storage-engine" target="_blank">&#x5B58;&#x50A8;&#x5F15;&#x64CE;</a>&#x5BF9;&#x5E94;&#x3002;&#x5982;&#x679C;<a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath" target="_blank">&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;</a> &#x5305;&#x542B;&#x7531; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-storageengine" target="_blank">--storageEngine</a> &#x6307;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4EE5;&#x5916;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;<a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x5C06;&#x4E0D;&#x4F1A;&#x542F;&#x52A8;&#x3002;</p>
<p><a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> must possess read and write permissions for the specified <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath" target="_blank">dbPath</a>.                                            <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#x5FC5;&#x987B;&#x5BF9;&#x6307;&#x5B9A;&#x7684;<a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath" target="_blank">&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;</a>&#x62E5;&#x6709;&#x8BFB;&#x5199;&#x6743;&#x9650;</p>
<h2 id="concurrency">Concurrency</h2>
<h2 id="&#x5E76;&#x53D1;">&#x5E76;&#x53D1;</h2>
<h3 id="wiredtiger---------------------------------------------------------------------------------------wiredtiger">WiredTiger                                                                                       WiredTiger</h3>
<p><a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger</a> supports concurrent access by readers and writers to the documents in a collection. Clients can read documents while write operations are in progress, and multiple threads can modify different documents in a collection at the same time.                                                                                                        <a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger</a>&#x652F;&#x6301;&#x8BFB;&#x5199;&#x5668;&#x5BF9;&#x5BF9;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x3002; &#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x53EF;&#x4EE5;&#x5728;&#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#x65F6;&#x8BFB;&#x53D6;&#x6587;&#x6863;&#xFF0C;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x4FEE;&#x6539;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E0D;&#x540C;&#x6587;&#x6863;&#x3002;</p>
<p>SEE ALSO                                                                                                                                                                            &#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</p>
<p><a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-ram" target="_blank">Allocate Sufficient RAM and CPU</a> provides information about how WiredTiger takes advantage of multiple CPU cores and how to improve operation throughput.                                                                                             <a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-ram" target="_blank">&#x5206;&#x914D;&#x8DB3;&#x591F;&#x7684; RAM &#x548C; CPU</a> &#x63D0;&#x4F9B;&#x6709;&#x5173;WiredTiger&#x5982;&#x4F55;&#x5229;&#x7528;&#x591A;&#x4E2A;CPU&#x6838;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x63D0;&#x9AD8;&#x64CD;&#x4F5C;&#x541E;&#x5410;&#x91CF;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>
<h2 id="data-consistency">Data Consistency</h2>
<h2 id="&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;">&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;</h2>
<h3 id="journaling---------------------------------------------------------------------------------------------------------------&#x65E5;&#x5FD7;">Journaling                                                                                                               &#x65E5;&#x5FD7;</h3>
<p>MongoDB uses <em>write ahead logging</em> to an on-disk <a href="https://docs.mongodb.com/manual/reference/glossary/#term-journal" target="_blank">journal</a>. Journaling guarantees that MongoDB can quickly recover <a href="https://docs.mongodb.com/manual/crud/" target="_blank">write operations</a> that were written to the journal but not written to data files in cases where <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank"><code>mongod</code></a> terminated due to a crash or other serious failure.                                                                                                MongoDB &#x4F7F;&#x7528;&#x9884;&#x5199;&#x5F0F;&#x65E5;&#x5FD7;&#x65B9;&#x5F0F;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;<a href="https://docs.mongodb.com/manual/reference/glossary/#term-journal" target="_blank">&#x65E5;&#x5FD7;</a>&#x3002;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x4FDD;&#x8BC1;MongoDB&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x4ECE;&#x5D29;&#x6E83;&#x6216;&#x5176;&#x4ED6;&#x4E25;&#x91CD;&#x9519;&#x8BEF;&#x4E2D;&#x6062;&#x590D;&#x5199;&#x5165;&#x65E5;&#x5FD7;&#x4F46;&#x672A;&#x5199;&#x5165;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684; <a href="https://docs.mongodb.com/manual/crud/" target="_blank">&#x5199;&#x64CD;&#x4F5C;</a>&#x3002;</p>
<p>Starting in MongoDB 4.0, you cannot specify <a href="https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-nojournal" target="_blank">--nojournal</a> option or <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.journal.enabled" target="_blank">storage.journal.enabled: false</a> for replica set members that use the WiredTiger storage engine.                                                                                                           &#x4ECE;MongoDB 4.0&#x5F00;&#x59CB;&#xFF0C;&#x4E0D;&#x80FD;&#x4E3A;&#x4F7F;&#x7528;WiredTiger&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x526F;&#x672C;&#x96C6;&#x6210;&#x5458; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-nojournal" target="_blank">--nojournal</a> &#x9009;&#x9879;&#x6216;&#x8005;<a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.journal.enabled" target="_blank">storage.journal.enabled: false</a> </p>
<h3 id="read-concern---------------------------------------------------------------------------------------------------&#x8BFB;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;">Read Concern                                                                                                   &#x8BFB;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;</h3>
<p><em>New in version 3.2. </em>                                                                                                                                                                     <em>&#x5728; version 3.2 &#x4E2D;&#x7684;&#x65B0;&#x5185;&#x5BB9;</em>  </p>
<p>Starting in MongoDB 3.6, you can use <a href="https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/#sessions" target="_blank">causally consistent sessions</a> to read your own writes, if the writes request acknowledgement.                                                                                                                                             &#x4ECE; MongoDB 3.6 &#x5F00;&#x59CB;&#xFF0C;&#x5982;&#x679C;&#x5199;&#x8BF7;&#x6C42;&#x786E;&#x8BA4;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a href="https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/#sessions" target="_blank">&#x56E0;&#x679C;&#x4E00;&#x81F4;&#x6027;&#x4F1A;&#x8BDD;</a>&#x6765;&#x8BFB;&#x53D6;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x5199;&#x5165;&#x3002;</p>
<p>Prior to MongoDB 3.6, you must have issued your write operation with <a href="https://docs.mongodb.com/manual/reference/write-concern/#writeconcern.&quot;majority&quot;" target="_blank">{ w: &quot;majority&quot; }</a> write concern and then use either <a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#readconcern.&quot;majority&quot;" target="_blank">&quot;majority&quot;</a> or <a href="https://docs.mongodb.com/manual/reference/read-concern-linearizable/#readconcern.&quot;linearizable&quot;" target="_blank">&quot;linearizable&quot;</a> read concern for the read operations to ensure that a single thread can read its own writes.                                                                                                                                                                                                                            &#x5728; MongoDB 3.6 &#x4E4B;&#x524D;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x786E;&#x4FDD;&#x5199;&#x64CD;&#x4F5C;&#x4F7F;&#x7528;&#x4E86; <a href="https://docs.mongodb.com/manual/reference/write-concern/#writeconcern.&quot;majority&quot;" target="_blank">{ w: &quot;majority}&quot; </a>&#x5199;&#x5165;&#x5B89;&#x5168;&#x673A;&#x5236;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#x4F7F;&#x7528; <a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#readconcern.&quot;majority&quot;" target="_blank">&quot;majority&quot;</a>&#x6216; <a href="https://docs.mongodb.com/manual/reference/read-concern-linearizable/#readconcern.&quot;linearizable&quot;" target="_blank">&quot;linearizable&quot;</a>&#x8BFB;&#x53D6;&#x5B89;&#x5168;&#x673A;&#x5236;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x5355;&#x4E2A;&#x7EBF;&#x7A0B;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;&#x81EA;&#x5DF1;&#x7684;&#x5199;&#x5165;&#x3002;</p>
<p>To use <a href="https://docs.mongodb.com/manual/reference/glossary/#term-read-concern" target="_blank">read concern</a> level of <a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#readconcern.&quot;majority&quot;" target="_blank">&quot;majority&quot;</a>, replica sets must use <a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger storage engine</a>.                                                                       &#x8981;&#x4F7F;&#x7528; <a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#readconcern.&quot;majority&quot;" target="_blank">&quot;majority&quot;</a>&#x7684;&#x7EA7;&#x522B;&#x7684; <a href="https://docs.mongodb.com/manual/reference/glossary/#term-read-concern" target="_blank">&#x8BFB;&#x5B89;&#x5168;&#x673A;&#x5236;</a> &#xFF0C;&#x526F;&#x672C;&#x96C6;&#x5FC5;&#x987B;&#x4F7F;&#x7528;<a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;</a>&#x3002;</p>
<p>You can disable read concern <a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#readconcern.&quot;majority&quot;" target="_blank">&quot;majority&quot;</a> for a deployment with a three-member primary-secondary-arbiter (PSA) architecture; however, this has implications for change streams (in MongoDB 4.0 and earlier only) and transactions on sharded clusters. For more information, see <a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#disable-read-concern-majority" target="_blank">Disable Read Concern Majority</a>.                                        &#x60A8;&#x53EF;&#x4EE5;&#x7981;&#x7528;&#x5177;&#x6709;&#x4E09;&#x4E2A;&#x6210;&#x5458;&#x7684;&#x4E3B;-&#x526F;-&#x4EF2;&#x88C1;(PSA)&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x90E8;&#x7F72;&#x7684;&#x8BFB;&#x5B89;&#x5168;&#x673A;&#x5236; <a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#readconcern.&quot;majority&quot;" target="_blank">&quot;majority&quot;</a>;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x5BF9;&#x66F4;&#x6539;&#x6D41;(&#x4EC5;&#x5728;MongoDB 4.0&#x548C;&#x66F4;&#x65E9;&#x7684;&#x7248;&#x672C;&#x4E2D;)&#x548C;&#x5206;&#x7247;&#x96C6;&#x7FA4;&#x4E0A;&#x7684;&#x4E8B;&#x52A1;&#x6709;&#x5F71;&#x54CD;&#x3002;&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;<a href="https://docs.mongodb.com/manual/reference/read-concern-majority/#disable-read-concern-majority" target="_blank">Disable Read Concern Majority</a>&#x3002;</p>
<h3 id="write-concern---------------------------------------------------------------------------------------------------&#x5199;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;">Write Concern                                                                                                   &#x5199;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;</h3>
<p><a href="https://docs.mongodb.com/manual/reference/write-concern/" target="_blank">Write concern](https://docs.mongodb.com/manual/reference/write-concern/) describes the level of acknowledgement requested from MongoDB for write operations. The level of the write concerns affects how quickly the write operation returns. When write operations have a <em>weak</em> write concern, they return quickly. With <em>stronger</em> write concerns, clients must wait after sending a write operation until MongoDB confirms the write operation at the requested write concern level. With insufficient write concerns, write operations may appear to a client to have succeeded, but may not persist in some cases of server failure.                                                                                                                                       &#x5199;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;</a> &#x63CF;&#x8FF0; MongoDB &#x5199;&#x64CD;&#x4F5C;&#x65F6;&#x786E;&#x8BA4;&#x8BF7;&#x6C42;&#x5199;&#x5165;&#x7684;&#x5B89;&#x5168;&#x673A;&#x5236;&#x7EA7;&#x522B;&#x3002;&#x5199;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;&#x7684;&#x7EA7;&#x522B;&#x4F1A;&#x5F71;&#x54CD;&#x5199;&#x64CD;&#x4F5C;&#x8FD4;&#x56DE;&#x7684;&#x901F;&#x5EA6;&#x3002;&#x5F53;&#x5199;&#x64CD;&#x4F5C;&#x5177;&#x6709;&#x8F83;&#x5F31;&#x7684;&#x5199;&#x5165;&#x5B89;&#x5168;&#x673A;&#x5236;&#x65F6;&#xFF0C;&#x5B83;&#x4EEC;&#x4F1A;&#x5FEB;&#x901F;&#x8FD4;&#x56DE;&#x3002;&#x5BF9;&#x4E8E;&#x66F4;&#x5F3A;&#x7684;&#x5199;&#x5165;&#x5B89;&#x5168;&#x673A;&#x5236;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5FC5;&#x987B;&#x5728;&#x53D1;&#x9001;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x540E;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230; MongoDB &#x5728;&#x8BF7;&#x6C42;&#x7684;&#x5199;&#x5165;&#x5B89;&#x5168;&#x673A;&#x5236;&#x7EA7;&#x522B;&#x4E0A;&#x786E;&#x8BA4;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x3002;&#x7531;&#x4E8E;&#x5199;&#x5165;&#x5B89;&#x5168;&#x673A;&#x5236;&#x7EA7;&#x522B;&#x4E0D;&#x591F;&#xFF0C;&#x5199;&#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x4F1A;&#x663E;&#x793A;&#x5BA2;&#x6237;&#x7AEF;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x5728;&#x67D0;&#x4E9B;&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x7F13;&#x5B58;&#x3002;</p>
<p>See the <a href="https://docs.mongodb.com/manual/reference/write-concern/" target="_blank">Write Concern</a> document for more information about choosing an appropriate write concern level for your deployment.                                                                                                                                                       &#x6709;&#x5173;&#x9009;&#x62E9;&#x9002;&#x5F53;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;&#x7EA7;&#x522B;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <a href="https://docs.mongodb.com/manual/reference/write-concern/" target="_blank">&#x5199;&#x64CD;&#x4F5C;&#x5B89;&#x5168;&#x673A;&#x5236;</a>&#x6587;&#x6863;&#x3002;</p>
<h2 id="networking">Networking</h2>
<h2 id="&#x8054;&#x7F51;">&#x8054;&#x7F51;</h2>
<h3 id="use-trusted-networking-environments---------------------------------------------------&#x4F7F;&#x7528;&#x53EF;&#x4FE1;&#x7F51;&#x7EDC;&#x73AF;&#x5883;">Use Trusted Networking Environments                                                   &#x4F7F;&#x7528;&#x53EF;&#x4FE1;&#x7F51;&#x7EDC;&#x73AF;&#x5883;</h3>
<p>Always run MongoDB in a <em>trusted environment</em>, with network rules that prevent access from <em>all</em> unknown machines, systems, and networks. As with any sensitive system that is dependent on network access, your MongoDB deployment should only be accessible to specific systems that require access, such as application servers, monitoring services, and other MongoDB components.                                                                             &#x59CB;&#x7EC8;&#x5728;&#x53EF;&#x4FE1;&#x73AF;&#x5883;&#x4E2D;&#x8FD0;&#x884C; MongoDB&#xFF0C;&#x5176;&#x7F51;&#x7EDC;&#x89C4;&#x5219;&#x963B;&#x6B62;&#x4ECE;&#x6240;&#x6709;&#x672A;&#x77E5;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x7CFB;&#x7EDF;&#x548C;&#x7F51;&#x7EDC;&#x4E2D;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x3002;&#x4E0E;&#x4F9D;&#x8D56;&#x4E8E;&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;&#x7684;&#x4EFB;&#x4F55;&#x654F;&#x611F;&#x7CFB;&#x7EDF;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x6709;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x7279;&#x5B9A;&#x7CFB;&#x7EDF;&#x624D;&#x80FD;&#x8BBF;&#x95EE; MongoDB &#x90E8;&#x7F72;&#xFF0C;&#x4F8B;&#x5982;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x76D1;&#x89C6;&#x670D;&#x52A1;&#x548C;&#x5176;&#x4ED6; MongoDB &#x7EC4;&#x4EF6;&#x3002;</p>
<p>IMPORTANT                                                                                                                                                                            &#x91CD;&#x8981;</p>
<p>By default, <a href="https://docs.mongodb.com/manual/core/authorization/" target="_blank">authorization</a> is not enabled, and <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> assumes a trusted environment. Enable <a href="https://docs.mongodb.com/manual/reference/configuration-options/#security.authorization" target="_blank">authorization</a> mode as needed. For more information on authentication mechanisms supported in MongoDB as well as authorization in MongoDB, see <a href="https://docs.mongodb.com/manual/core/authentication/" target="_blank">Authentication</a> and <a href="https://docs.mongodb.com/manual/core/authorization/" target="_blank">Role-Based Access Control</a>.                        &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<a href="https://docs.mongodb.com/manual/core/authorization/" target="_blank">&#x6388;&#x6743;</a>&#x672A;&#x542F;&#x7528;&#xFF0C; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#x9ED8;&#x8BA4;&#x4E3A;&#x53D7;&#x4FE1;&#x4EFB;&#x7684;&#x73AF;&#x5883;&#x3002;&#x6839;&#x636E;&#x9700;&#x8981;&#x542F;&#x7528;<a href="https://docs.mongodb.com/manual/reference/configuration-options/#security.authorization" target="_blank">authorization</a> &#x6A21;&#x5F0F;&#x3002;&#x6709;&#x5173; MongoDB &#x4E2D;&#x652F;&#x6301;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x673A;&#x5236;&#x4EE5;&#x53CA; MongoDB &#x4E2D;&#x7684;&#x6388;&#x6743;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <a href="https://docs.mongodb.com/manual/core/authentication/" target="_blank">&#x6388;&#x6743;</a>&#x548C; <a href="https://docs.mongodb.com/manual/core/authorization/" target="_blank">&#x57FA;&#x4E8E;&#x89D2;&#x8272;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;</a>&#x3002;</p>
<p>For additional information and considerations on security, refer to the documents in the <a href="https://docs.mongodb.com/manual/security/" target="_blank">Security Section</a>, specifically:                                                                                                                                                                                  &#x6709;&#x5173;&#x5B89;&#x5168;&#x6027;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#x548C;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a href="https://docs.mongodb.com/manual/security/" target="_blank">&#x5B89;&#x5168;&#x90E8;&#x5206;</a>&#x4E2D;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x5177;&#x4F53;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>[Security Checklist]&#x5B89;&#x5168;&#x68C0;&#x67E5;&#x8868;(<a href="https://docs.mongodb.com/manual/administration/security-checklist/" target="_blank">https://docs.mongodb.com/manual/administration/security-checklist/</a>)</li>
<li>[Network and Configuration Hardening]&#x7F51;&#x7EDC;&#x548C;&#x914D;&#x7F6E;&#x5F3A;&#x5316;(<a href="https://docs.mongodb.com/manual/core/security-hardening/" target="_blank">https://docs.mongodb.com/manual/core/security-hardening/</a>)</li>
</ul>
<p>For Windows users, consider the <a href="http://technet.microsoft.com/en-us/library/dd349797.aspx" target="_blank">Windows Server Technet Article on TCP Configuration</a> when deploying MongoDB on Windows.                                                                                                                                                &#x5BF9;&#x4E8E; Windows &#x7528;&#x6237;&#xFF0C;&#x5728; Windows &#x4E0A;&#x90E8;&#x7F72; MongoDB &#x65F6;&#x8BF7;&#x8003;&#x8651; <a href="http://technet.microsoft.com/en-us/library/dd349797.aspx" target="_blank">&#x6709;&#x5173;TCP&#x914D;&#x7F6E;&#x7684;Windows Server Technet&#x6587;&#x7AE0; </a>&#x3002;</p>
<h3 id="disable-http-interface--------------------------------------------------------------------------------------&#x7981;&#x7528;-http-&#x63A5;&#x53E3;">Disable HTTP Interface                                                                                      &#x7981;&#x7528; HTTP &#x63A5;&#x53E3;</h3>
<p><em>Changed in version 3.6:</em> MongoDB 3.6 removes the deprecated HTTP interface and REST API to MongoDB.    3.6&#x7248;&#x672C;&#x4E2D;&#x7684;&#x53D8;&#x5316;&#xFF1A; MongoDB 3.6 &#x79FB;&#x9664;&#x4E86; HTTP &#x63A5;&#x53E3;&#x548C; REST API &#x3002;</p>
<p>Earlier versions of MongoDB provide an HTTP interface to check the status of the server and, optionally, run queries. The HTTP interface is disabled by default. Do not enable the HTTP interface in production environments.                                                                                                                                                                   &#x65E9;&#x671F;&#x7248;&#x672C;&#x7684; MongoDB &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; HTTP &#x63A5;&#x53E3;&#x6765;&#x68C0;&#x67E5;&#x670D;&#x52A1;&#x5668;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x8FD0;&#x884C;&#x67E5;&#x8BE2;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x7981;&#x7528; HTTP &#x63A5;&#x53E3;&#x3002;&#x4E0D;&#x8981;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x542F;&#x7528; HTTP &#x63A5;&#x53E3;&#x3002;</p>
<h3 id="manage-connection-pool-sizes--------------------------------------------------------------------&#x7BA1;&#x7406;&#x8FDE;&#x63A5;&#x6C60;&#x5927;&#x5C0F;">Manage Connection Pool Sizes                                                                    &#x7BA1;&#x7406;&#x8FDE;&#x63A5;&#x6C60;&#x5927;&#x5C0F;</h3>
<p>Avoid overloading the connection resources of a <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> or <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> instance by adjusting the connection pool size to suit your use case. Start at 110-115% of the typical number of current database requests, and modify the connection pool size as needed. Refer to the <a href="https://docs.mongodb.com/manual/reference/connection-string/#connection-pool-options" target="_blank">Connection Pool Options</a> for adjusting the connection pool size.                                                                                                                                                        &#x901A;&#x8FC7;&#x8C03;&#x6574;&#x8FDE;&#x63A5;&#x6C60;&#x5927;&#x5C0F;&#x4EE5;&#x9002;&#x5408;&#x60A8;&#x7684;&#x7528;&#x4F8B;&#xFF0C;&#x907F;&#x514D;&#x91CD;&#x8F7D; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod </a>&#x548C; <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos </a>&#x5B9E;&#x4F8B;&#x7684;&#x8FDE;&#x63A5;&#x8D44;&#x6E90;&#x3002;&#x4ECE;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x8BF7;&#x6C42;&#x7684;&#x5178;&#x578B;&#x6570;&#x91CF;&#x7684; 110-115&#xFF05;&#x5F00;&#x59CB;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x8FDE;&#x63A5;&#x6C60;&#x5927;&#x5C0F;&#x3002;&#x8BF7;&#x53C2;&#x9605;<a href="https://docs.mongodb.com/manual/reference/connection-string/#connection-pool-options" target="_blank">&#x8FDE;&#x63A5;&#x6C60;&#x9009;&#x9879;</a>&#x4EE5;&#x8C03;&#x6574;&#x8FDE;&#x63A5;&#x6C60;&#x5927;&#x5C0F;&#x3002;</p>
<p>The <a href="https://docs.mongodb.com/manual/reference/command/connPoolStats/#dbcmd.connPoolStats" target="_blank">connPoolStats</a> command returns information regarding the number of open connections to the current database for <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> instances in sharded clusters.                                                            <a href="https://docs.mongodb.com/manual/reference/command/connPoolStats/#dbcmd.connPoolStats" target="_blank">connPoolStats</a> &#x547D;&#x4EE4;&#x8FD4;&#x56DE;&#x6709;&#x5173;&#x5206;&#x7247;&#x96C6;&#x7FA4;&#x4E2D;<a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> &#x548C; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#x5B9E;&#x4F8B;&#x7684;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x6253;&#x5F00;&#x8FDE;&#x63A5;&#x6570;&#x7684;&#x4FE1;&#x606F;&#x3002; </p>
<p>See also <a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-ram" target="_blank">Allocate Sufficient RAM and CPU</a>.                                                                                                                      &#x53E6;&#x89C1; <a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-ram" target="_blank">&#x5206;&#x914D;&#x8DB3;&#x591F;&#x7684; RAM &#x548C; CPU</a>.</p>
<h3 id="hardware-considerations---------------------------------------------------------------------------------------&#x786C;&#x4EF6;&#x8003;&#x8651;&#x56E0;&#x7D20;">Hardware Considerations                                                                                       &#x786C;&#x4EF6;&#x8003;&#x8651;&#x56E0;&#x7D20;</h3>
<p>MongoDB is designed specifically with commodity hardware in mind and has few hardware requirements or limitations. MongoDB&#x2019;s core components run on little-endian hardware, primarily x86/x86_64 processors. Client libraries (i.e. drivers) can run on big or little endian systems.                                           MongoDB &#x4E13;&#x4E3A;&#x5546;&#x7528;&#x786C;&#x4EF6;&#x800C;&#x8BBE;&#x8BA1;&#xFF0C;&#x51E0;&#x4E4E;&#x6CA1;&#x6709;&#x786C;&#x4EF6;&#x8981;&#x6C42;&#x6216;&#x9650;&#x5236;&#x3002; MongoDB &#x7684;&#x6838;&#x5FC3;&#x7EC4;&#x4EF6;&#x8FD0;&#x884C;&#x5728;&#x5C0F;&#x7AEF;&#x786C;&#x4EF6;&#x4E0A;&#xFF0C;&#x4E3B;&#x8981;&#x662F; x86/x86_64 &#x5904;&#x7406;&#x5668;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x5E93;&#xFF08;&#x4F8B;&#x5982;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF09;&#x53EF;&#x4EE5;&#x5728;&#x5927;&#x7AEF;&#x6216;&#x5C0F;&#x7AEF;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;&#x3002;</p>
<h3 id="allocate-sufficient-ram-and-cpu----------------------------------------------------------------&#x5206;&#x914D;&#x8DB3;&#x591F;&#x7684;-ram-&#x548C;-cpu">Allocate Sufficient RAM and CPU                                                                &#x5206;&#x914D;&#x8DB3;&#x591F;&#x7684; RAM &#x548C; CPU</h3>
<p>At a minimum, ensure that each <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> or <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> instance has access to two real cores or one multi-core physical CPU.                                                                                                                                                                        &#x81F3;&#x5C11;&#xFF0C;&#x786E;&#x4FDD;&#x6BCF;&#x4E2A; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x6216;&#x8005; <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a>&#x5B9E;&#x4F8B;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x4E24;&#x4E2A;&#x5B9E;&#x6838;&#x6216;&#x4E00;&#x4E2A;&#x591A;&#x6838;&#x7269;&#x7406;CPU&#x3002;</p>
<h4 id="wiredtiger--------------------------------------------------------------------------------------------------------------------wiredtiger">WiredTiger                                                                                                                    WiredTiger</h4>
<p>The <a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger</a> storage engine is multithreaded and can take advantage of additional CPU cores. Specifically, the total number of active threads (i.e. concurrent operations) relative to the number of available CPUs can impact performance:                                                                                                                     <a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger</a> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x989D;&#x5916;&#x7684; CPU &#x5185;&#x6838;&#x3002;&#x5177;&#x4F53;&#x800C;&#x8A00;&#xFF0C;&#x76F8;&#x5BF9;&#x4E8E;&#x53EF;&#x7528;CPU&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x6D3B;&#x52A8;&#x7EBF;&#x7A0B;&#xFF08;&#x5373;&#x5E76;&#x53D1;&#x64CD;&#x4F5C;&#xFF09;&#x7684;&#x603B;&#x6570;&#x4F1A;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#xFF1A;</p>
<ul>
<li>Throughput <em>increases</em> as the number of concurrent active operations increases up to the number of CPUs.</li>
<li>&#x968F;&#x7740;&#x5E76;&#x53D1;&#x6D3B;&#x52A8;&#x64CD;&#x4F5C;&#x6570;&#x91CF;&#x589E;&#x52A0;&#x5230; CPU &#x6570;&#x91CF;&#xFF0C;&#x541E;&#x5410;&#x91CF;&#x4F1A;&#x589E;&#x52A0;&#x3002;</li>
<li>Throughput <em>decreases</em> as the number of concurrent active operations exceeds the number of CPUs by some threshold amount.</li>
<li>&#x5F53;&#x5E76;&#x53D1;&#x6D3B;&#x52A8;&#x64CD;&#x4F5C;&#x7684;&#x6570;&#x91CF;&#x8D85;&#x8FC7;CPU&#x6570;&#x91CF;&#x7684;&#x67D0;&#x4E2A;&#x9608;&#x503C;&#x65F6;&#xFF0C;&#x541E;&#x5410;&#x91CF;&#x4F1A;&#x964D;&#x4F4E;&#x3002;</li>
</ul>
<p>The threshold depends on your application. You can determine the optimum number of concurrent active operations for your application by experimenting and measuring throughput. The output from <a href="https://docs.mongodb.com/manual/reference/program/mongostat/#bin.mongostat" target="_blank">mongostat</a> provides statistics on the number of active reads/writes in the (ar|aw) column.                                                      &#x9608;&#x503C;&#x53D6;&#x51B3;&#x4E8E;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B9E;&#x9A8C;&#x548C;&#x6D4B;&#x91CF;&#x541E;&#x5410;&#x91CF;&#x6765;&#x786E;&#x5B9A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6700;&#x4F73;&#x5E76;&#x53D1;&#x6D3B;&#x52A8;&#x64CD;&#x4F5C;&#x6570;&#x3002; <a href="https://docs.mongodb.com/manual/reference/program/mongostat/#bin.mongostat" target="_blank">mongostat</a> &#x7684;&#x8F93;&#x51FA;&#x63D0;&#x4F9B;&#xFF08;ar | aw&#xFF09;&#x5217;&#x4E2D;&#x6D3B;&#x52A8;&#x8BFB;/&#x5199;&#x6B21;&#x6570;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3002;</p>
<p>With WiredTiger, MongoDB utilizes both the WiredTiger internal cache and the filesystem cache.                             &#x4F7F;&#x7528; WiredTiger&#xFF0C;MongoDB&#x540C;&#x65F6;&#x4F7F;&#x7528;WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x548C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#x3002;</p>
<p>Starting in MongoDB 3.4, the default WiredTiger internal cache size is the larger of either:                                &#x4ECE;MongoDB 3.4&#x5F00;&#x59CB;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x5927;&#x5C0F;&#x4E3A;&#x4EE5;&#x4E0B;&#x4E24;&#x8005;&#x4E2D;&#x7684;&#x8F83;&#x5927;&#x8005;&#xFF1A;</p>
<ul>
<li>50% of (RAM - 1 GB), or                                                                                                                                                             50% &#x7684; (RAM - 1 GB), &#x6216;&#x8005;</li>
<li>256 MB.                                                                                                                                                                                 256MB&#x3002;</li>
</ul>
<p>For example, on a system with a total of 4GB of RAM the WiredTiger cache will use 1.5GB of RAM (0.5 <em> (4 GB - 1 GB) = 1.5 GB). Conversely, a system with a total of 1.25 GB of RAM will allocate 256 MB to the WiredTiger cache because that is more than half of the total RAM minus one gigabyte (0.5 </em> (1.25 GB - 1 GB) = 128 MB &lt; 256 MB).                 </p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x603B;&#x5171;&#x6709;4GB RAM&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;WiredTiger&#x7F13;&#x5B58;&#x5C06;&#x4F7F;&#x7528;1.5GB RAM(0.5 <em> (4 GB - 1 GB) = 1.5 GB)&#x3002;&#x76F8;&#x53CD;&#xFF0C;RAM&#x603B;&#x91CF;&#x4E3A;1.25GB&#x7684;&#x7CFB;&#x7EDF;&#x5C06;&#x4E3A;WiredTiger&#x7F13;&#x5B58;&#x5206;&#x914D;256MB&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x8D85;&#x8FC7;&#x4E86;RAM&#x603B;&#x91CF;&#x51CF;&#x53BB;1GB&#xFF08;0.5</em>&#xFF08;1.25GB-1GB&#xFF09;=128MB&lt;256MB) &#x7684;&#x4E00;&#x534A;&#x3002;</p>
<p>NOTE<br>&#x6CE8;&#x610F;</p>
<p>In some instances, such as when running in a container, the database can have memory constraints that are lower than the total system memory. In such instances, this memory limit, rather than the total system memory, is used as the maximum RAM available.  </p>
<p>&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F8B;&#x5982;&#x5728;&#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x80FD;&#x5177;&#x6709;&#x4F4E;&#x4E8E;&#x603B;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x7684;&#x5185;&#x5B58;&#x7EA6;&#x675F;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x5185;&#x5B58;&#x9650;&#x5236;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#xFF0C;&#x88AB;&#x7528;&#x4F5C;&#x53EF;&#x7528;&#x7684;&#x6700;&#x5927;RAM&#x3002;</p>
<p>To see the memory limit, see <a href="https://docs.mongodb.com/manual/reference/command/hostInfo/#hostInfo.system.memLimitMB" target="_blank">hostInfo.system.memLimitMB</a>.                               </p>
<p>&#x8981;&#x67E5;&#x770B;&#x5185;&#x5B58;&#x9650;&#x5236;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <a href="https://docs.mongodb.com/manual/reference/command/hostInfo/#hostInfo.system.memLimitMB" target="_blank">hostInfo.system.memLimitMB</a>&#x3002;</p>
<p>By default, WiredTiger uses Snappy block compression for all collections and prefix compression for all indexes. Compression defaults are configurable at a global level and can also be set on a per-collection and per-index basis during collection and index creation.                                                                                       </p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;WiredTiger&#x5BF9;&#x6240;&#x6709;&#x96C6;&#x5408;&#x4F7F;&#x7528;snapy&#x5757;&#x538B;&#x7F29;&#xFF0C;&#x5BF9;&#x6240;&#x6709;&#x7D22;&#x5F15;&#x4F7F;&#x7528;&#x524D;&#x7F00;&#x538B;&#x7F29;&#x3002;&#x538B;&#x7F29;&#x9ED8;&#x8BA4;&#x503C;&#x5728;&#x5168;&#x5C40;&#x7EA7;&#x522B;&#x4E0A;&#x662F;&#x53EF;&#x914D;&#x7F6E;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x96C6;&#x5408;&#x548C;&#x7D22;&#x5F15;&#x521B;&#x5EFA;&#x671F;&#x95F4;&#x6839;&#x636E;&#x6BCF;&#x4E2A;&#x96C6;&#x5408;&#x548C;&#x6BCF;&#x4E2A;&#x7D22;&#x5F15;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x3002;</p>
<p>Different representations are used for data in the WiredTiger internal cache versus the on-disk format:</p>
<p>WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E0E;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x683C;&#x5F0F;&#x76F8;&#x6BD4;&#x4F7F;&#x7528;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x793A;&#xFF1A;</p>
<ul>
<li>Data in the filesystem cache is the same as the on-disk format, including benefits of any compression for data files. The filesystem cache is used by the operating system to reduce disk I/O.</li>
</ul>
<p>&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E0E;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x683C;&#x5F0F;&#x76F8;&#x540C;&#xFF0C;&#x5305;&#x62EC;&#x5BF9;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x538B;&#x7F29;&#x7684;&#x597D;&#x5904;&#x3002;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#x6765;&#x51CF;&#x5C11;&#x78C1;&#x76D8;I/O&#x3002;</p>
<ul>
<li>Indexes loaded in the WiredTiger internal cache have a different data representation to the on-disk format, but can still take advantage of index prefix compression to reduce RAM usage. Index prefix compression deduplicates common prefixes from indexed fields.  </li>
</ul>
<p>&#x52A0;&#x8F7D;&#x5728;WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x7D22;&#x5F15;&#x4E0E;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x683C;&#x5F0F;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x524D;&#x7F00;&#x538B;&#x7F29;&#x6765;&#x51CF;&#x5C11;RAM&#x7684;&#x4F7F;&#x7528;&#x3002;&#x7D22;&#x5F15;&#x524D;&#x7F00;&#x538B;&#x7F29;&#x4ECE;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;&#x4E2D;&#x5220;&#x9664;&#x5E38;&#x7528;&#x524D;&#x7F00;&#x3002;</p>
<ul>
<li>Collection data in the WiredTiger internal cache is uncompressed and uses a different representation from the on-disk format. Block compression can provide significant on-disk storage savings, but data must be uncompressed to be manipulated by the server.  </li>
</ul>
<p>WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x6536;&#x96C6;&#x6570;&#x636E;&#x662F;&#x672A;&#x538B;&#x7F29;&#x7684;&#xFF0C;&#x4F7F;&#x7528;&#x4E0E;&#x78C1;&#x76D8;&#x683C;&#x5F0F;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x3002;&#x5757;&#x538B;&#x7F29;&#x53EF;&#x4EE5;&#x663E;&#x8457;&#x8282;&#x7701;&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x4F46;&#x6570;&#x636E;&#x5FC5;&#x987B;&#x89E3;&#x538B;&#x7F29;&#x624D;&#x80FD;&#x7531;&#x670D;&#x52A1;&#x5668;&#x64CD;&#x4F5C;&#x3002;</p>
<p>Via the filesystem cache, MongoDB automatically uses all free memory that is not used by the WiredTiger cache or by other processes.                                                                                                                                                                                                                             MongoDB&#x901A;&#x8FC7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#x81EA;&#x52A8;&#x4F7F;&#x7528;WiredTiger&#x7F13;&#x5B58;&#x6216;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x672A;&#x4F7F;&#x7528;&#x7684;&#x6240;&#x6709;&#x53EF;&#x7528;&#x5185;&#x5B58;&#x3002;</p>
<p>To adjust the size of the WiredTiger internal cache, see <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.cacheSizeGB" target="_blank">storage.wiredTiger.engineConfig.cacheSizeGB</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-wiredtigercachesizegb" target="_blank">--wiredTigerCacheSizeGB</a>. Avoid increasing the WiredTiger internal cache size above its default value.</p>
<p>&#x8981;&#x8C03;&#x6574;WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1; <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.cacheSizeGB" target="_blank">storage.wiredTiger.engineConfig.cacheSizeGB</a> &#x548C; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-wiredtigercachesizegb" target="_blank">--wiredTigerCacheSizeGB</a>&#x3002;&#x907F;&#x514D;&#x5C06;WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x5927;&#x5C0F;&#x589E;&#x52A0;&#x5230;&#x5176;&#x9ED8;&#x8BA4;&#x503C;&#x4EE5;&#x4E0A;&#x3002;</p>
<p>NOTE                                                                                                                                                                             &#x6CE8;&#x610F;</p>
<p>The <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.cacheSizeGB" target="_blank">storage.wiredTiger.engineConfig.cacheSizeGB</a> limits the size of the WiredTiger internal cache. The operating system will use the available free memory for filesystem cache, which allows the compressed MongoDB data files to stay in memory. In addition, the operating system will use any free RAM to buffer file system blocks and file system cache.                                                             </p>
<p><a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.cacheSizeGB" target="_blank">storage.wiredTiger.engineConfig.cacheSizeGB</a> &#x9650;&#x5236;&#x4E86;wiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x7684;&#x5927;&#x5C0F;&#x3002;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5C06;&#x4F7F;&#x7528;&#x53EF;&#x7528;&#x7684;&#x7A7A;&#x95F2;&#x5185;&#x5B58;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#xFF0C;&#x8FD9;&#x5C06;&#x5141;&#x8BB8;&#x538B;&#x7F29;&#x7684;MongoDB&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4FDD;&#x7559;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5C06;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x7A7A;&#x95F2;RAM&#x7F13;&#x51B2;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5757;&#x548C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#x3002;</p>
<p>To accommodate the additional consumers of RAM, you may have to decrease WiredTiger internal cache size.                                                                         </p>
<p>&#x4E3A;&#x4E86;&#x9002;&#x5E94;RAM&#x7684;&#x5176;&#x4ED6;&#x4F7F;&#x7528;&#x8005;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x5FC5;&#x987B;&#x51CF;&#x5C0F;WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x7684;&#x5927;&#x5C0F;&#x3002;</p>
<p>The default WiredTiger internal cache size value assumes that there is a single <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> instance per machine. If a single machine contains multiple MongoDB instances, then you should decrease the setting to accommodate the other <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> instances.                                                                                               </p>
<p>&#x9ED8;&#x8BA4;&#x7684;WiredTiger&#x5185;&#x90E8;&#x7F13;&#x5B58;&#x5927;&#x5C0F;&#x503C;&#x5047;&#x5B9A;&#x6BCF;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x6709;&#x4E00;&#x4E2A;<a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#x5B9E;&#x4F8B;&#x3002;&#x5982;&#x679C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x5305;&#x542B;&#x591A;&#x4E2A;MongoDB&#x5B9E;&#x4F8B;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x5E94;&#x8BE5;&#x51CF;&#x5C11;&#x8BBE;&#x7F6E;&#x4EE5;&#x9002;&#x5E94;&#x5176;&#x4ED6;<a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#x5B9E;&#x4F8B;&#x3002;</p>
<p>If you run <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> in a container (e.g. lxc, cgroups, Docker, etc.) that does <em>not</em> have access to all of the RAM available in a system, you must set <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.cacheSizeGB" target="_blank">storage.wiredTiger.engineConfig.cacheSizeGB</a> to a value less than the amount of RAM available in the container. The exact amount depends on the other processes running in the container. See <a href="https://docs.mongodb.com/manual/reference/command/hostInfo/#hostInfo.system.memLimitMB" target="_blank">memLimitMB</a>. </p>
<p>&#x5982;&#x679C;&#x5728;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x4E2D;&#x6240;&#x6709;&#x53EF;&#x7528;RAM&#x7684;&#x5BB9;&#x5668;&#xFF08;&#x4F8B;&#x5982;lxc&#x3001;cgroups&#x3001;Docker&#x7B49;&#xFF09;&#x4E2D;&#x8FD0;&#x884C;<a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x5C06; <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.cacheSizeGB" target="_blank">storage.wiredTiger.engineConfig.cacheSizeGB</a>&#x8BBE;&#x7F6E;&#x4E3A;&#x5C0F;&#x4E8E;&#x5BB9;&#x5668;&#x4E2D;&#x53EF;&#x7528;RAM&#x7684;&#x503C;&#x3002;&#x5177;&#x4F53;&#x6570;&#x91CF;&#x53D6;&#x51B3;&#x4E8E;&#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C;&#x7684;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x3002;&#x53C2;&#x89C1; <a href="https://docs.mongodb.com/manual/reference/command/hostInfo/#hostInfo.system.memLimitMB" target="_blank">memLimitMB</a>&#x3002;</p>
<p>To view statistics on the cache and eviction rate, see the <a href="https://docs.mongodb.com/manual/reference/command/serverStatus/#serverstatus.wiredTiger.cache" target="_blank">wiredTiger.cache</a> field returned from the <a href="https://docs.mongodb.com/manual/reference/command/serverStatus/#dbcmd.serverStatus" target="_blank">serverStatus</a> command.                                             </p>
<p>&#x8981;&#x67E5;&#x770B;&#x7F13;&#x5B58;&#x548C;&#x9010;&#x51FA;&#x7387;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x4ECE;<a href="https://docs.mongodb.com/manual/reference/command/serverStatus/#dbcmd.serverStatus" target="_blank">serverStatus</a> &#x547D;&#x4EE4;&#x8FD4;&#x56DE;&#x7684; <a href="https://docs.mongodb.com/manual/reference/command/serverStatus/#serverstatus.wiredTiger.cache" target="_blank">wiredTiger.cache</a> &#x5B57;&#x6BB5;&#x3002;</p>
<h4 id="compression-and-encryption------------------------------------------------------------------------------------------------------------&#x538B;&#x7F29;&#x548C;&#x52A0;&#x5BC6;">Compression and Encryption                                                                                                            &#x538B;&#x7F29;&#x548C;&#x52A0;&#x5BC6;</h4>
<p>When using encryption, CPUs equipped with AES-NI instruction-set extensions show significant performance advantages. If you are using MongoDB Enterprise with the <a href="https://docs.mongodb.com/manual/core/security-encryption-at-rest/#encrypted-storage-engine" target="_blank">Encrypted Storage Engine</a>, choose a CPU that supports AES-NI for better performance.                                                                                                              &#x5F53;&#x4F7F;&#x7528;&#x52A0;&#x5BC6;&#x65F6;&#xFF0C;&#x914D;&#x5907;AES-NI&#x6307;&#x4EE4;&#x96C6;&#x6269;&#x5C55;&#x7684;CPU&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x51FA;&#x663E;&#x8457;&#x7684;&#x6027;&#x80FD;&#x4F18;&#x52BF;&#x3002;&#x5982;&#x679C;&#x5C06;MongoDB &#x4F01;&#x4E1A;&#x7248;&#x4E0E; <a href="https://docs.mongodb.com/manual/core/security-encryption-at-rest/#encrypted-storage-engine" target="_blank">&#x52A0;&#x5BC6;&#x5B58;&#x50A8;&#x5F15;&#x64CE;</a>&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x8BF7;&#x9009;&#x62E9;&#x652F;&#x6301;AES-N&#x6307;&#x4EE4;&#x96C6;&#x7684;CPU&#x4EE5;&#x83B7;&#x5F97;&#x66F4;&#x597D;&#x7684;&#x6027;&#x80FD;&#x3002;</p>
<p>SEE ALSO<br>&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</p>
<p><a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-concurrency" target="_blank">Concurrency</a>                                                                           </p>
<p><a href="https://docs.mongodb.com/manual/administration/production-notes/#prod-notes-concurrency" target="_blank">&#x5E76;&#x53D1;</a></p>
<h3 id="use-solid-state-disks-ssds-&#x4F7F;&#x7528;&#x56FA;&#x6001;&#x786C;&#x76D8;&#xFF08;ssd&#xFF09;">Use Solid State Disks (SSDs) &#x4F7F;&#x7528;&#x56FA;&#x6001;&#x786C;&#x76D8;&#xFF08;SSD&#xFF09;</h3>
<p>MongoDB has good results and a good price-performance ratio with SATA SSD (Solid State Disk).
MongoDB&#x4F7F;&#x7528;SATA SSD&#x80FD;&#x5F97;&#x5230;&#x5F88;&#x597D;&#x7684;&#x6548;&#x679C;&#x548C;&#x5F88;&#x597D;&#x7684;&#x6027;&#x4EF7;&#x6BD4;&#x3002;</p>
<p>Use SSD if available and economical.</p>
<p>&#x5728;&#x53EF;&#x7528;&#x4E14;&#x7ECF;&#x6D4E;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8BF7;&#x4F7F;&#x7528;SSD&#x3002;</p>
<p>Commodity (SATA) spinning drives are often a good option, as the random I/O performance increase with more expensive spinning drives is not that dramatic (only on the order of 2x). Using SSDs or increasing RAM may be more effective in increasing I/O throughput.                                                                                           </p>
<p>&#x4F20;&#x7EDF;&#x786C;&#x76D8;&#x901A;&#x5E38;&#x4E5F;&#x662F;&#x4E2A;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x66F4;&#x6602;&#x8D35;&#x7684;&#x786C;&#x76D8;&#x6765;&#x63D0;&#x9AD8;&#x968F;&#x673A;IO&#x6027;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x90A3;&#x4E48;&#x6709;&#x6548;&#xFF08;&#x53EA;&#x80FD;&#x662F;&#x6BCF;&#x6B21;2&#x500D;&#xFF09;&#x3002;&#x4F7F;&#x7528;SSD&#x6216;&#x589E;&#x52A0;RAM&#x7684;&#x5BB9;&#x91CF;&#x53EF;&#x80FD;&#x5BF9;&#x4E8E;&#x63D0;&#x5347;IO&#x66F4;&#x6709;&#x6548;&#x7387;&#x3002;</p>
<h3 id="mongodb-and-numa-hardware-mongodb&#x548C;numa&#x786C;&#x4EF6;">MongoDB and NUMA Hardware MongoDB&#x548C;NUMA&#x786C;&#x4EF6;</h3>
<p>Running MongoDB on a system with Non-Uniform Memory Access (NUMA) can cause a number of operational problems, including slow performance for periods of time and high system process usage.</p>
<p>&#x5728;&#x8FD0;&#x884C;NUMA&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#x8FD0;&#x884C;MongoDB&#x53EF;&#x80FD;&#x9020;&#x6210;&#x4E00;&#x7CFB;&#x5217;&#x95EE;&#x9898;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x7684;&#x6548;&#x7387;&#x4F4E;&#x4E0B;&#x548C;&#x9AD8;&#x7CFB;&#x7EDF;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x7387;&#x3002;</p>
<p>When running MongoDB servers and clients on NUMA hardware, you should configure a memory interleave policy so that the host behaves in a non-NUMA fashion. MongoDB checks NUMA settings on start up when deployed on Linux (since version 2.0) and Windows (since version 2.6) machines. If the NUMA configuration may degrade performance, MongoDB prints a warning.</p>
<p>&#x5F53;&#x5728;NUMA&#x786C;&#x4EF6;&#x4E0A;&#x8FD0;&#x884C;MongoDB&#x670D;&#x52A1;&#x5668;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x65F6;&#xFF0C;&#x5E94;&#x914D;&#x7F6E;&#x5185;&#x5B58;&#x4EA4;&#x9519;&#x7B56;&#x7565;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E3B;&#x673A;&#x4EE5;&#x975E;NUMA&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x3002;MongoDB&#x5728;Linux&#xFF08;2.0&#x7248;&#x4EE5;&#x540E;&#xFF09;&#x548C;Windows&#xFF08;2.6&#x7248;&#x4EE5;&#x540E;&#xFF09;&#x673A;&#x5668;&#x4E0A;&#x90E8;&#x7F72;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x68C0;&#x67E5;NUMA&#x8BBE;&#x7F6E;&#x3002;&#x5982;&#x679C;NUMA&#x914D;&#x7F6E;&#x53EF;&#x80FD;&#x4F1A;&#x964D;&#x4F4E;&#x6027;&#x80FD;&#xFF0C;MongoDB&#x4F1A;&#x6253;&#x5370;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#x3002;</p>
<p>SEE ALSO<br>&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</p>
<ul>
<li><p><a href="http://jcole.us/blog/archives/2010/09/28/mysql-swap-insanity-and-the-numa-architecture/" target="_blank">The MySQL &#x201C;swap insanity&#x201D; problem and the effects of NUMA</a> post, which describes the effects of NUMA on databases. The post introduces NUMA and its goals, and illustrates how these goals are not compatible with production databases. Although the blog post addresses the impact of NUMA for MySQL, the issues for MongoDB are similar.</p>
</li>
<li><p><a href="http://jcole.us/blog/archives/2010/09/28/mysql-swap-insanity-and-the-numa-architecture/" target="_blank">MySQL&#x7684; &#x201C;&#x75AF;&#x72C2;&#x4EA4;&#x6362;&#x201D; &#x95EE;&#x9898;&#x548C; NUMA&#x7684;&#x5F71;&#x54CD;</a> &#x62A5;&#x544A;, &#xFF0C;&#x5B83;&#x63CF;&#x8FF0;&#x4E86;NUMA&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x9020;&#x6210;&#x7684;&#x5F71;&#x54CD;&#x3002;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4ECB;&#x7ECD;&#x4E86;NUMA&#x548C;&#x5B83;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x5E76;&#x6307;&#x51FA;&#x4E86;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E9B;&#x76EE;&#x6807;&#x548C;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6570;&#x636E;&#x5E93;&#x7684;&#x9700;&#x6C42;&#x662F;&#x4E0D;&#x76F8;&#x5BB9;&#x7684;&#x3002;&#x5C3D;&#x7BA1;&#x8FD9;&#x7BC7;&#x535A;&#x6587;&#x8BA8;&#x8BBA;&#x4E86;NUMA&#x5BF9;&#x4E8E; MySQL&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x4F46;&#x662F;MongoDB&#x7684;&#x95EE;&#x9898;&#x662F;&#x76F8;&#x4F3C;&#x7684;&#x3002;</p>
</li>
<li><a href="https://queue.acm.org/detail.cfm?id=2513149" target="_blank">NUMA: An Overview</a>. </li>
</ul>
<p><a href="https://queue.acm.org/detail.cfm?id=2513149" target="_blank">NUMA: &#x7EFC;&#x8FF0;</a>&#x3002;</p>
<h4 id="configuring-numa-on-windows-&#x5728;-windows-&#x4E0A;&#x914D;&#x7F6E;-numa">Configuring NUMA on Windows &#x5728; Windows &#x4E0A;&#x914D;&#x7F6E; NUMA</h4>
<p>On Windows, memory interleaving must be enabled through the machine&#x2019;s BIOS. Consult your system documentation for details.                                                       </p>
<p>&#x5728; Windows &#x4E0A;&#xFF0C;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x673A;&#x5668;&#x7684; BIOS &#x542F;&#x7528;&#x5185;&#x5B58;&#x4EA4;&#x53C9;&#x5B58;&#x53D6;&#x3002;&#x6709;&#x5173;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7CFB;&#x7EDF;&#x6587;&#x6863;</p>
<h4 id="configuring-numa-on-linux-&#x5728;-linux-&#x4E0A;&#x914D;&#x7F6E;-numa">Configuring NUMA on Linux &#x5728; Linux &#x4E0A;&#x914D;&#x7F6E; NUMA</h4>
<p>On Linux, you must disable <em>zone reclaim</em> and also ensure that your <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> instances are started by numactl, which is generally configured through your platform&#x2019;s init system. You must perform both of these operations to properly disable NUMA for use with MongoDB.</p>
<p>&#x5728; Linux&#x4E0A;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x7981;&#x7528;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x56DE;&#x6536;&#xFF0C;&#x5E76;&#x786E;&#x4FDD;&#x60A8;&#x7684; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos </a> &#x5B9E;&#x4F8B;&#x7531; numactl&#x547D;&#x4EE4;&#x542F;&#x52A8;&#xFF0C;numactl &#x901A;&#x5E38;&#x662F;&#x901A;&#x8FC7;&#x5E73;&#x53F0;&#x7684; init &#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x7684;&#x3002;&#x60A8;&#x5FC5;&#x987B;&#x6267;&#x884C;&#x8FD9;&#x4E24;&#x4E2A;&#x64CD;&#x4F5C;&#x624D;&#x80FD;&#x6B63;&#x786E;&#x7981;&#x7528; NUMA &#x4EE5;&#x4FBF;&#x4E0E; MongoDB &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;</p>
<ol>
<li>Disable <em>zone reclaim</em> with one of the following commands: </li>
</ol>
<p>&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x4E4B;&#x4E00;&#x7981;&#x7528;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x56DE;&#x6536;:</p>
<pre><code>echo 0 | sudo tee /proc/sys/vm/zone_reclaim_mod
</code></pre><pre><code>sudo sysctl -w vm.zone_reclaim_mode=0
</code></pre><ol>
<li><p>Ensure that <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> are started by numactl. This is generally configured through your platform&#x2019;s init system. Run the following command to determine which init system is in use on your platform:</p>
<p>&#x7136;&#x540E;&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; numactl &#x6765;&#x542F;&#x52A8; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> &#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x901A;&#x8FC7;&#x5E73;&#x53F0;&#x7684; init &#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x7684;&#x3002;&#x8FD0;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x786E;&#x5B9A;&#x5E73;&#x53F0;&#x4E0A;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;init&#x7CFB;&#x7EDF;&#xFF1A;</p>
<pre><code>ps --no-headers -o comm 1
</code></pre><ul>
<li>If &#x201C;systemd&#x201D;, your platform uses the systemd init system, and you <em>must</em> follow the steps in the systemd tab below to edit your MongoDB service file(s).</li>
<li>&#x5982;&#x679C;&#x662F;systemd&#xFF0C;&#x5219;&#x60A8;&#x7684;&#x5E73;&#x53F0;&#x4F7F;&#x7528; systemd init &#x7CFB;&#x7EDF;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x6309;&#x7167;&#x4E0B;&#x9762; systemd &#x9009;&#x9879;&#x5361;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;&#x6765;&#x7F16;&#x8F91;MongoDB&#x670D;&#x52A1;&#x6587;&#x4EF6;&#x3002;</li>
<li>If init, your platform uses the SysV Init system, and you do not need to perform this step. The default MongoDB init script for SysV Init includes the necessary steps to start MongoDB instances via numactl by default.</li>
<li>&#x5982;&#x679C;&#x662F;init&#xFF0C;&#x5219;&#x5E73;&#x53F0;&#x4F7F;&#x7528;SysV init&#x7CFB;&#x7EDF;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x6267;&#x884C;&#x6B64;&#x6B65;&#x9AA4;&#x3002;SysV init &#x7684;&#x9ED8;&#x8BA4;MongoDB init &#x811A;&#x672C;&#x9ED8;&#x8BA4;&#x5305;&#x542B;&#x901A;&#x8FC7;numactl &#x542F;&#x52A8; MongoDB &#x5B9E;&#x4F8B;&#x7684;&#x5FC5;&#x8981;&#x6B65;&#x9AA4;&#x3002;</li>
<li>If you manage your own init scripts (i.e. you are not using either of these init systems), you must follow the steps in the Custom init scripts tab below to edit your custom init script(s).</li>
<li>&#x5982;&#x679C;&#x60A8;&#x7BA1;&#x7406;&#x81EA;&#x5DF1;&#x7684; init &#x811A;&#x672C;&#xFF08;&#x4F8B;&#x5982;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x4E2A; init &#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#xFF09;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x81EA;&#x5B9A;&#x4E49; init &#x811A;&#x672C;&#x9009;&#x9879;&#x5361;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;&#x7F16;&#x8F91;&#x81EA;&#x5B9A;&#x4E49; init &#x811A;&#x672C;&#x3002;</li>
</ul>
<h5 id="systemd----------------------------------------------------------------------------------------------------------------------------------------------------------------------systemd">systemd                                                                                                                                                                      systemd</h5>
<p>You must use numactl to start each of your <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> instances, including all <a href="https://docs.mongodb.com/manual/core/sharded-cluster-config-servers/" target="_blank">config servers</a>, <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> instances, and clients. Edit the default systemd service file for each as follows:</p>
<p>&#x4F60;&#x5FC5;&#x987B;&#x4F7F;&#x7528; numactl &#x542F;&#x52A8;&#x6BCF;&#x4E2A; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x5B9E;&#x4F8B;,&#x5305;&#x62EC;&#x6240;&#x6709; <a href="https://docs.mongodb.com/manual/core/sharded-cluster-config-servers/" target="_blank">&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;</a>, <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a>&#x5B9E;&#x4F8B;,&#x548C;&#x5BA2;&#x6237;&#x7AEF;.&#x3002;&#x5982;&#x4E0B;&#x6240;&#x793A;&#x7F16;&#x8F91;&#x6BCF;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x9ED8;&#x8BA4; systemd &#x670D;&#x52A1;&#x6587;&#x4EF6;&#xFF1A;</p>
<ol>
<li><p>Copy the default MongoDB service file:&#x590D;&#x5236;&#x9ED8;&#x8BA4;MongoDB&#x670D;&#x52A1;&#x6587;&#x4EF6;&#xFF1A;</p>
<pre><code>sudo cp /lib/systemd/system/mongod.service /etc/systemd/system/
</code></pre></li>
</ol>
</li>
</ol>
<ol>
<li><p>Edit the /etc/systemd/system/mongod.service file,  and update the ExecStart statement to begin with:                                                                         &#x7F16;&#x8F91; /etc/systemd/system/mongod.service &#x6587;&#x4EF6;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x66F4;&#x65B0; ExecStart &#x8BED;&#x53E5;&#xFF1A;</p>
<pre><code>/usr/bin/numactl --interleave=all
</code></pre></li>
</ol>
<p>EXAMPLE<br>&#x4F8B;&#x5982;</p>
<p>If your existing ExecStart statement reads: 
&#x5982;&#x679C;&#x73B0;&#x6709;&#x7684; ExecStart &#x8BED;&#x53E5;&#x4E3A;&#xFF1A;</p>
<pre><code>  ```
</code></pre><p>   ExecStart=/usr/bin/mongod --config /etc/mongod.conf</p>
<pre><code>  ```
</code></pre><p>Update that statement to read: &#x5C06;&#x8BE5;&#x8BED;&#x53E5;&#x66F4;&#x65B0;&#x4E3A;&#xFF1A;</p>
<pre><code>  ```
</code></pre><p>   ExecStart=/usr/bin/numactl --interleave=all /usr/bin/mongod --config /etc/mongod.conf</p>
<pre><code>  ```
</code></pre><ol>
<li><p>Apply the change to systemd:
&#x5C06;&#x66F4;&#x6539;&#x5E94;&#x7528;&#x4E8E; systemd&#xFF1A;</p>
<pre><code>sudo systemctl daemon-reload
</code></pre></li>
<li><p>Restart any running mongod instances: &#x91CD;&#x65B0;&#x542F;&#x52A8;&#x4EFB;&#x4F55;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684; mongod &#x5B9E;&#x4F8B;&#xFF1A;</p>
<pre><code>sudo systemctl stop mongod
sudo systemctl start mongod
</code></pre></li>
<li><p>If applicable, repeat these steps for any <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> instances.<br>&#x5982;&#x679C;&#x9002;&#x7528;&#xFF0C;&#x5BF9;&#x4EFB;&#x4F55;<a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> &#x91CD;&#x590D;&#x8FD9;&#x4E9B;&#x6B65;&#x9AA4;&#x3002;</p>
</li>
</ol>
<p>For more information, see the <a href="http://www.kernel.org/doc/Documentation/sysctl/vm.txt" target="_blank">Documentation for /proc/sys/vm/*</a>.                                                         </p>
<p>&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1; <a href="http://www.kernel.org/doc/Documentation/sysctl/vm.txt" target="_blank">Documentation for /proc/sys/vm/*</a>&#x3002;</p>
<h5 id="custom-init-scripts-------------------------------------------------------------------------------------------------------------------------------------------------------&#x81EA;&#x5B9A;&#x4E49;&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;">Custom init scripts                                                                                                                                                       &#x81EA;&#x5B9A;&#x4E49;&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;</h5>
<p>You must use <code>numactl</code> to start each of your <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> instances, including all <a href="https://docs.mongodb.com/manual/core/sharded-cluster-config-servers/" target="_blank">config servers</a>, <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> instances, and clients.                                                                                                                                                       &#x4F60;&#x5FC5;&#x987B;&#x4F7F;&#x7528; numactl &#x542F;&#x52A8;&#x6BCF;&#x4E2A; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x5B9E;&#x4F8B;,&#x5305;&#x62EC;&#x6240;&#x6709; <a href="https://docs.mongodb.com/manual/core/sharded-cluster-config-servers/" target="_blank">&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;</a>, <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a>&#x5B9E;&#x4F8B;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</p>
<ol>
<li><p>Install numactl for your platform if not already installed. Refer to the documentation for your operating system for information on installing the numactl  package.<br>&#x5982;&#x679C;&#x5C1A;&#x672A;&#x5B89;&#x88C5;numactl&#xFF0C;&#x8BF7;&#x4E3A;&#x60A8;&#x7684;&#x5E73;&#x53F0;&#x5B89;&#x88C5; numactl&#x3002;&#x6709;&#x5173;&#x5B89;&#x88C5; numactl &#x5305;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x6863;&#x3002;</p>
</li>
<li><p>Configure each of your custom init scripts to start each MongoDB instance via numactl:
&#x914D;&#x7F6E;&#x6BCF;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;init&#x811A;&#x672C;&#x4EE5;&#x901A;&#x8FC7;numactl&#x542F;&#x52A8;&#x6BCF;&#x4E2A;MongoDB&#x5B9E;&#x4F8B;&#xFF1A;</p>
<pre><code>numactl --interleave=all &lt;path&gt; &lt;options&gt;
</code></pre><p>Where <path></path> is the path to the program you are starting and  are any optional arguments to pass to that program.                                                              &#x5176;&#x4E2D;&#x662F; <path></path> &#x662F;&#x8981;&#x542F;&#x52A8;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x662F;&#x8981;&#x4F20;&#x9012;&#x7ED9;&#x8BE5;&#x7A0B;&#x5E8F;&#x7684;&#x4EFB;&#x4F55;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x3002;</p>
<p>EXAMPLE&#xFF1A;                                                                                                                                                                       &#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>numactl --interleave=all /usr/local/bin/mongod -f /etc/mongod.conf
</code></pre></li>
</ol>
<p>For more information, see the <a href="http://www.kernel.org/doc/Documentation/sysctl/vm.txt" target="_blank">Documentation for /proc/sys/vm/*</a>.                                                         &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1; <a href="http://www.kernel.org/doc/Documentation/sysctl/vm.txt" target="_blank">Documentation for /proc/sys/vm/*</a>&#x3002;</p>
<h3 id="disk-and-storage-systems-&#x78C1;&#x76D8;&#x548C;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;">Disk and Storage Systems &#x78C1;&#x76D8;&#x548C;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;</h3>
<h4 id="swap-&#x4EA4;&#x6362;">Swap &#x4EA4;&#x6362;</h4>
<p>MongoDB performs best where swapping can be avoided or kept to a minimum, as retrieving data from swap will always be slower than accessing data in RAM. However, if the system hosting MongoDB runs out of RAM, swapping can prevent the Linux OOM Killer from terminating the <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> process.
MongoDB&#x5728;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x4EA4;&#x6362;&#x6216;&#x5C06;&#x4EA4;&#x6362;&#x4FDD;&#x6301;&#x5728;&#x6700;&#x4F4E;&#x9650;&#x5EA6;&#x7684;&#x5730;&#x65B9;&#x8868;&#x73B0;&#x6700;&#x597D;&#xFF0C;&#x56E0;&#x4E3A;&#x4ECE;&#x4EA4;&#x6362;&#x4E2D;&#x68C0;&#x7D22;&#x6570;&#x636E;&#x603B;&#x662F;&#x6BD4;&#x8BBF;&#x95EE;RAM&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6162;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6258;&#x7BA1; MongoDB &#x7684;&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;RAM&#xFF0C;&#x4EA4;&#x6362;&#x53EF;&#x4EE5;&#x9632;&#x6B62; Linux OOM Killer &#x7EC8;&#x6B62; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x8FDB;&#x7A0B;&#x3002;</p>
<p>Generally, you should choose one of the following swap strategies:
&#x901A;&#x5E38;&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x9009;&#x62E9;&#x4EE5;&#x4E0B;&#x4EA4;&#x6362;&#x7B56;&#x7565;&#x4E4B;&#x4E00;&#xFF1A;</p>
<ol>
<li>Assign swap space on your system, and configure the kernel to only permit swapping under high memory load, or                                                                 &#x5728;&#x7CFB;&#x7EDF;&#x4E0A;&#x5206;&#x914D;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;&#xFF0C;&#x5E76;&#x5C06;&#x5185;&#x6838;&#x914D;&#x7F6E;&#x4E3A;&#x53EA;&#x5141;&#x8BB8;&#x5728;&#x9AD8;&#x5185;&#x5B58;&#x8D1F;&#x8F7D;&#x4E0B;&#x8FDB;&#x884C;&#x4EA4;&#x6362;&#xFF0C;&#x6216;&#x8005;</li>
<li>Do not assign swap space on your system, and configure the kernel to disable swapping entirely 
&#x4E0D;&#x8981;&#x5728;&#x7CFB;&#x7EDF;&#x4E0A;&#x5206;&#x914D;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;&#xFF0C;&#x5E76;&#x5C06;&#x5185;&#x6838;&#x914D;&#x7F6E;&#x4E3A;&#x5B8C;&#x5168;&#x7981;&#x7528;&#x4EA4;&#x6362;</li>
</ol>
<p>See <a href="https://docs.mongodb.com/manual/administration/production-notes/#set-swappiness" target="_blank">Set vm.swappiness</a> for instructions on configuring swap on your Linux system following these guidelines.                                                                                                                                                               &#x8BF7;&#x53C2;&#x9605; <a href="https://docs.mongodb.com/manual/administration/production-notes/#set-swappiness" target="_blank">Set vm.swappiness</a> &#x4EE5;&#x83B7;&#x53D6;&#x6709;&#x5173;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E0A;&#x6309;&#x7167;&#x8FD9;&#x4E9B;&#x6307;&#x5BFC;&#x539F;&#x5219;&#x914D;&#x7F6E;swap&#x7684;&#x8BF4;&#x660E;&#x3002;</p>
<p>NOTE                                                                                                                                                                             &#x6CE8;&#x610F;</p>
<p>If your MongoDB instance is hosted on a system that also runs other software, such as a webserver, you should choose the first swap strategy. Do <em>not</em> disable swap in this case. If possible, it is highly recommended that you run MongoDB on its own dedicated system.                                                                       &#x5982;&#x679C;MongoDB&#x5B9E;&#x4F8B;&#x6258;&#x7BA1;&#x5728;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x5176;&#x4ED6;&#x8F6F;&#x4EF6;&#xFF08;&#x5982;Web&#x670D;&#x52A1;&#x5668;&#xFF09;&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5219;&#x5E94;&#x9009;&#x62E9;&#x7B2C;&#x4E00;&#x4E2A;&#x4EA4;&#x6362;&#x7B56;&#x7565;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x8981;&#x7981;&#x7528;&#x4EA4;&#x6362;&#x3002;&#x5982;&#x679C;&#x53EF;&#x80FD;&#xFF0C;&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x60A8;&#x5728;MongoDB&#x81EA;&#x5DF1;&#x7684;&#x4E13;&#x7528;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;MongoDB&#x3002;</p>
<h4 id="raid------------------------------------------------------------------------------------------------------------------------------------------------------------------&#x78C1;&#x76D8;&#x9635;&#x5217;">RAID                                                                                                                                                                  &#x78C1;&#x76D8;&#x9635;&#x5217;</h4>
<p>For optimal performance in terms of the storage layer, use disks backed by RAID-10. RAID-5 and RAID-6 do not typically provide sufficient performance to support a MongoDB deployment.
&#x4E3A;&#x4E86;&#x5728;&#x5B58;&#x50A8;&#x5C42;&#x65B9;&#x9762;&#x5B9E;&#x73B0;&#x6700;&#x4F73;&#x6027;&#x80FD;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; RAID-10 &#x652F;&#x6301;&#x7684;&#x78C1;&#x76D8;&#x3002; RAID-5 &#x548C; RAID-6 &#x901A;&#x5E38;&#x4E0D;&#x63D0;&#x4F9B;&#x8DB3;&#x591F;&#x7684; &#x6027;&#x80FD;&#x6765;&#x652F;&#x6301; MongoDB &#x90E8;&#x7F72;&#x3002;</p>
<h4 id="remote-filesystems-----------------------------------------------------------------------------------------------------------------------------------&#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;">Remote Filesystems                                                                                                                                   &#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</h4>
<p>With the WiredTiger storage engine, WiredTiger objects may be stored on remote file systems if the remote file system conforms to ISO/IEC 9945-1:1996 (POSIX.1). Because remote file systems are often slower than local file systems, using a remote file system for storage may degrade performance.                                               &#x4F7F;&#x7528; WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x5982;&#x679C;&#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7B26;&#x5408; ISO/IEC 9945-1:1996(POSIX.1)&#xFF0C;&#x5219; WiredTiger &#x5BF9;&#x8C61; &#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x5728;&#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0A;&#x3002;&#x7531;&#x4E8E;&#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x901A;&#x5E38;&#x6BD4;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6162;&#xFF0C;&#x56E0;&#x6B64;&#x4F7F;&#x7528; &#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#x53EF;&#x80FD;&#x4F1A;&#x964D;&#x4F4E;&#x6027;&#x80FD;&#x3002;</p>
<p>If you decide to use NFS, add the following NFS options to your /etc/fstab file: bg, nolock, and noatime. 
&#x5982;&#x679C;&#x51B3;&#x5B9A;&#x4F7F;&#x7528;&#x7F51;&#x7EDC;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x8BF7;&#x5728; /etc/fstab &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;NFS&#x9009;&#x9879;&#xFF1A;bg&#x3001;nolock &#x548C; noatime&#x3002;</p>
<h4 id="separate-components-onto-different-storage-devices-&#x5C06;&#x7EC4;&#x4EF6;&#x5206;&#x79BB;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x4E0A;">Separate Components onto Different Storage Devices &#x5C06;&#x7EC4;&#x4EF6;&#x5206;&#x79BB;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x4E0A;</h4>
<p>For improved performance, consider separating your database&#x2019;s data, journal, and logs onto different storage devices, based on your application&#x2019;s access and write pattern. Mount the components as separate filesystems and use symbolic links to map each component&#x2019;s path to the device storing it.</p>
<p>&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x8BF7;&#x8003;&#x8651;&#x6839;&#x636E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x8BBF;&#x95EE;&#x548C;&#x5199;&#x5165;&#x6A21;&#x5F0F;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x3001;logs &#x548C; journal &#x5206;&#x79BB;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x4E0A;&#x3002;&#x5C06;&#x7EC4;&#x4EF6;&#x4F5C;&#x4E3A;&#x5355;&#x72EC;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6302;&#x8F7D;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x5C06;&#x6BCF;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x6620;&#x5C04;&#x5230;&#x5B58;&#x50A8;&#x5B83;&#x7684;&#x8BBE;&#x5907;&#x3002;</p>
<p>For the WiredTiger storage engine, you can also store the indexes on a different storage device. See <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.directoryForIndexes" target="_blank">storage.wiredTiger.engineConfig.directoryForIndexes</a>.                                                         </p>
<p>&#x5BF9;&#x4E8E;WiredTiger&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5C06;&#x7D22;&#x5F15;&#x5B58;&#x50A8;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x4E0A;&#x3002;&#x89C1;<a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.engineConfig.directoryForIndexes" target="_blank">storage.wiredTiger.engineConfig.directoryForIndexes</a>&#x3002;  </p>
<p>NOTE                                                                                                                                                                             &#x6CE8;&#x610F;</p>
<p>Using different storage devices will affect your ability to create snapshot-style backups of your data, since the files will be on different devices and volumes.               </p>
<p>&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x5C06;&#x5F71;&#x54CD;&#x60A8;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5FEB;&#x7167;&#x5F0F;&#x5907;&#x4EFD;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x56E0;&#x4E3A;&#x6587;&#x4EF6;&#x5C06;&#x4F4D;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x8BBE;&#x5907;&#x548C;&#x5377;&#x4E0A;&#x3002;</p>
<h4 id="scheduling-&#x8C03;&#x5EA6;">Scheduling &#x8C03;&#x5EA6;</h4>
<h5 id="scheduling-for-virtual-or-cloud-hosted-devices--------------------------------------------------------------------------------------------------------------------------&#x865A;&#x62DF;&#x6216;&#x4E91;&#x4E3B;&#x673A;&#x8BBE;&#x5907;&#x7684;&#x8C03;&#x5EA6;">Scheduling for Virtual or Cloud Hosted Devices                                                                                                                          &#x865A;&#x62DF;&#x6216;&#x4E91;&#x4E3B;&#x673A;&#x8BBE;&#x5907;&#x7684;&#x8C03;&#x5EA6;</h5>
<p>For local block devices attached to a virtual machine instance via the hypervisor or hosted by a cloud hosting provider, the guest operating system should use a <em>noop</em> scheduler for best performance. The <em>noop</em> scheduler allows the operating system to defer I/O scheduling to the underlying hypervisor.                                              &#x5BF9;&#x4E8E;&#x901A;&#x8FC7;&#x865A;&#x62DF;&#x673A;&#x76D1;&#x89C6;&#x5668;&#x8FDE;&#x63A5;&#x5230;&#x865A;&#x62DF;&#x673A;&#x5B9E;&#x4F8B;&#x6216;&#x7531;&#x4E91;&#x6258;&#x7BA1;&#x63D0;&#x4F9B;&#x5546;&#x6258;&#x7BA1;&#x7684;&#x672C;&#x5730;&#x5757;&#x8BBE;&#x5907;&#xFF0C;&#x5BA2;&#x6237;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E94;&#x4F7F;&#x7528; noop &#x8C03;&#x5EA6;&#x5668;&#x4EE5;&#x83B7;&#x5F97;&#x6700;&#x4F73;&#x6027;&#x80FD;&#x3002;noop &#x8C03;&#x5EA6;&#x5668;&#x5141;&#x8BB8;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5C06; I/O &#x8C03;&#x5EA6;&#x5EF6;&#x7F13;&#x5230;&#x5E95;&#x5C42;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#x3002;</p>
<h5 id="scheduling-for-physical-servers-&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8C03;&#x5EA6;">Scheduling for Physical Servers &#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8C03;&#x5EA6;</h5>
<p>For physical servers, the operating system should use a <em>deadline</em> scheduler. The <em>deadline</em> scheduler caps maximum latency per request and maintains a good disk throughput that is best for disk-intensive database applications.                                                                                                                           </p>
<p>&#x5BF9;&#x4E8E;&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E94;&#x4F7F;&#x7528; <em>deadline</em>&#x8C03;&#x5EA6;&#x5668;&#x3002;<em>deadline</em>&#x8C03;&#x5EA6;&#x5668;&#x9650;&#x5236;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x6700;&#x5927;&#x5EF6;&#x8FDF;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x826F;&#x597D;&#x7684;&#x78C1;&#x76D8;&#x541E;&#x5410;&#x91CF;&#xFF0C;&#x8FD9;&#x5BF9;&#x4E8E;&#x78C1;&#x76D8;&#x5BC6;&#x96C6;&#x578B;&#x6570;&#x636E;&#x5E93;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6765;&#x8BF4;&#x662F;&#x6700;&#x597D;&#x7684;&#x3002;</p>
<h2 id="architecture--&#x67B6;&#x6784;">Architecture  &#x67B6;&#x6784;</h2>
<h3 id="replica-sets-&#x526F;&#x672C;&#x96C6;">Replica Sets &#x526F;&#x672C;&#x96C6;</h3>
<p>See the <a href="https://docs.mongodb.com/manual/core/replica-set-architectures/" target="_blank">Replica Set Architectures</a> document for an overview of architectural considerations for replica set deployments.                                                                                                                                                                     </p>
<p>&#x6709;&#x5173;&#x526F;&#x672C;&#x96C6;&#x90E8;&#x7F72;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x7684;&#x6982;&#x8FF0;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <a href="https://docs.mongodb.com/manual/core/replica-set-architectures/" target="_blank">&#x526F;&#x672C;&#x96C6;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x6587;&#x6863;</a>&#x3002;</p>
<h3 id="sharded-clusters-&#x5206;&#x7247;&#x96C6;&#x7FA4;">Sharded Clusters &#x5206;&#x7247;&#x96C6;&#x7FA4;</h3>
<p>See <a href="https://docs.mongodb.com/manual/core/sharded-cluster-components/" target="_blank">Sharded Cluster Production Architecture</a> for an overview of recommended sharded cluster architectures for production deployments. </p>
<p>&#x6709;&#x5173;&#x5EFA;&#x8BAE;&#x7684;&#x7528;&#x4E8E;&#x751F;&#x4EA7;&#x90E8;&#x7F72;&#x7684;&#x5206;&#x7247;&#x96C6;&#x7FA4;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x7684;&#x6982;&#x8FF0;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a href="https://docs.mongodb.com/manual/core/sharded-cluster-components/" target="_blank">&#x5206;&#x7247;&#x96C6;&#x7FA4;&#x751F;&#x4EA7;&#x4F53;&#x7CFB;&#x7ED3;&#x6784; </a>&#x3002;</p>
<p>SEE ALSO&#x4E5F;&#x53EF;&#x4EE5;&#x53C2;&#x9605;</p>
<p><a href="https://docs.mongodb.com/manual/administration/production-checklist-development/" target="_blank">Development Checklist</a>                                                                       </p>
<p><a href="https://docs.mongodb.com/manual/administration/production-checklist-development/" target="_blank">&#x5F00;&#x53D1;&#x6E05;&#x5355;&#x5217;&#x8868;</a></p>
<h2 id="compression-&#x538B;&#x7F29;">Compression &#x538B;&#x7F29;</h2>
<p>WiredTiger can compress collection data using one of the following compression library: </p>
<p>WiredTiger&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x538B;&#x7F29;&#x5E93;&#x4E4B;&#x4E00;&#x538B;&#x7F29;&#x6536;&#x96C6;&#x6570;&#x636E;&#xFF1A;</p>
<ul>
<li><p><a href="https://docs.mongodb.com/manual/reference/glossary/#term-snappy" target="_blank">snappy</a></p>
<p>Provides a lower compression rate than zlib or zstd but has a lower CPU cost than either.</p>
<p><a href="https://docs.mongodb.com/manual/reference/glossary/#term-snappy" target="_blank">snappy</a></p>
<p>&#x63D0;&#x4F9B;&#x6BD4;zlib&#x6216;zstd&#x66F4;&#x4F4E;&#x7684;&#x538B;&#x7F29;&#x7387;&#xFF0C;&#x4F46;&#x6BD4;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x7684;CPU&#x6210;&#x672C;&#x90FD;&#x4F4E;&#x3002;</p>
</li>
<li><p><a href="https://docs.mongodb.com/manual/reference/glossary/#term-zlib" target="_blank">zlib</a></p>
<p>Provides better compression rate than snappy but has a higher CPU cost than both snappy and zstd.</p>
<p><a href="https://docs.mongodb.com/manual/reference/glossary/#term-zlib" target="_blank">zlib</a></p>
<p>&#x63D0;&#x4F9B;&#x4E86;&#x6BD4; snappy &#x66F4;&#x597D;&#x7684;&#x538B;&#x7F29;&#x7387;&#xFF0C;&#x4F46;&#x6BD4; snappy &#x548C; zstd &#x7684;CPU&#x6210;&#x672C;&#x90FD;&#x8981;&#x9AD8;&#x3002;</p>
</li>
<li><p><a href="https://docs.mongodb.com/manual/reference/glossary/#term-zstd" target="_blank">zstd</a> (Available starting in MongoDB 4.2)</p>
<p>Provides better compression rate than both snappy and zlib and has a lower CPU cost than zlib.</p>
<p><a href="https://docs.mongodb.com/manual/reference/glossary/#term-zstd" target="_blank">zstd</a> (&#x4ECE; MongoDB 4.2 &#x5F00;&#x59CB;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;)</p>
<p>&#x63D0;&#x4F9B;&#x6BD4; snappy &#x548C; zlib &#x66F4;&#x597D;&#x7684;&#x538B;&#x7F29;&#x7387;&#xFF0C;&#x5E76;&#x4E14;&#x6BD4; zlib &#x5177;&#x6709;&#x66F4;&#x4F4E;&#x7684;CPU&#x6210;&#x672C;&#x3002;</p>
</li>
</ul>
<p>By default, WiredTiger uses <a href="https://docs.mongodb.com/manual/reference/glossary/#term-snappy" target="_blank">snappy</a> compression library. To change the compression setting, see <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.collectionConfig.blockCompressor" target="_blank">storage.wiredTiger.collectionConfig.blockCompressor</a>. </p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;WiredTiger&#x4F7F;&#x7528; <a href="https://docs.mongodb.com/manual/reference/glossary/#term-snappy" target="_blank">snappy</a> &#x538B;&#x7F29;&#x5E93;&#x3002;&#x8981;&#x66F4;&#x6539;&#x538B;&#x7F29;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;<a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.wiredTiger.collectionConfig.blockCompressor" target="_blank">storage.wiredTiger.collectionConfig.blockCompressor</a>&#x3002;</p>
<p>WiredTiger uses <a href="https://docs.mongodb.com/manual/reference/glossary/#term-prefix-compression" target="_blank">prefix compression</a> on all indexes by default.</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;WiredTiger&#x5BF9;&#x6240;&#x6709;&#x7D22;&#x5F15;&#x4F7F;&#x7528; <a href="https://docs.mongodb.com/manual/reference/glossary/#term-prefix-compression" target="_blank">&#x524D;&#x7F00;&#x538B;&#x7F29;</a> &#x3002;</p>
<h2 id="clock-synchronization">Clock Synchronization</h2>
<h2 id="&#x65F6;&#x949F;&#x540C;&#x6B65;">&#x65F6;&#x949F;&#x540C;&#x6B65;</h2>
<p>MongoDB <a href="https://docs.mongodb.com/manual/reference/program/" target="_blank">components</a> keep logical clocks for supporting time-dependent operations. Using <a href="http://www.ntp.org/" target="_blank">NTP</a> to synchronize host machine clocks mitigates the risk of clock drift between components. Clock drift between components increases the likelihood of incorrect or abnormal behavior of time-dependent operations like the following:                                                                                                                                 </p>
<p>MongoDB <a href="https://docs.mongodb.com/manual/reference/program/" target="_blank">&#x7EC4;&#x4EF6;</a>&#x4FDD;&#x7559;&#x903B;&#x8F91;&#x65F6;&#x949F;&#x4EE5;&#x652F;&#x6301;&#x4E0E;&#x65F6;&#x95F4;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x4F7F;&#x7528;<a href="http://www.ntp.org/" target="_blank">&#x7F51;&#x7EDC;&#x65F6;&#x95F4;&#x534F;&#x8BAE;</a>&#x540C;&#x6B65;&#x4E3B;&#x673A;&#x65F6;&#x949F;&#x6765;&#x964D;&#x4F4E;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x7684;&#x98CE;&#x9669;&#x3002;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x589E;&#x52A0;&#x4E86;&#x65F6;&#x95F4;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#x4E0D;&#x6B63;&#x786E;&#x6216;&#x5F02;&#x5E38;&#x884C;&#x4E3A;&#x7684;&#x53EF;&#x80FD;&#x6027;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<ul>
<li>If the underlying system clock of any given MongoDB component drifts a year or more from other components in the same deployment, communication between those members may become unreliable or halt altogether. </li>
</ul>
<p>&#x5982;&#x679C;&#x4EFB;&#x4F55;&#x7ED9;&#x5B9A; MongoDB &#x7EC4;&#x4EF6;&#x7684;&#x5E95;&#x5C42;&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x504F;&#x79BB;&#x540C;&#x4E00;&#x90E8;&#x7F72;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#x4E00;&#x5E74;&#x6216;&#x66F4;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x5219;&#x8FD9;&#x4E9B;&#x6210;&#x5458;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x53EF;&#x80FD;&#x53D8;&#x5F97;&#x4E0D;&#x53EF;&#x9760;&#x6216;&#x5B8C;&#x5168;&#x505C;&#x6B62;&#x3002;</p>
<p>  The <a href="https://docs.mongodb.com/manual/reference/parameters/#param.maxAcceptableLogicalClockDriftSecs" target="_blank">maxAcceptableLogicalClockDriftSecs</a> parameter controls the amount of acceptable clock drift between components. Clusters with a lower value of maxAcceptableLogicalClockDriftSecs have a correspondingly lower tolerance for clock drift.</p>
<p>  <a href="https://docs.mongodb.com/manual/reference/parameters/#param.maxAcceptableLogicalClockDriftSecs" target="_blank">maxAcceptableLogicalClockDriftSecs</a> &#x53C2;&#x6570;&#x63A7;&#x5236;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x65F6;&#x949F;&#x504F;&#x79FB;&#x91CF;&#x3002;MaxAcceptableLogicalClockDiftSecs&#x503C;&#x8F83;&#x4F4E;&#x7684;&#x96C6;&#x7FA4;&#x5BF9;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x7684;&#x5BB9;&#x5FCD;&#x5EA6;&#x76F8;&#x5E94;&#x8F83;&#x4F4E;&#x3002;</p>
<ul>
<li>Two cluster members with different system clocks may return different values for operations that return the current cluster or system time, such as <a href="https://docs.mongodb.com/manual/reference/method/Date/#Date" target="_blank">Date()</a>, <a href="https://docs.mongodb.com/manual/reference/aggregation-variables/#variable.NOW" target="_blank">NOW</a>, and <a href="https://docs.mongodb.com/manual/reference/aggregation-variables/#variable.CLUSTER_TIME" target="_blank">CLUSTER_TIME</a>.                                                                                       </li>
</ul>
<p>&#x5BF9;&#x4E8E;&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x96C6;&#x7FA4;&#x6216;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x7684;&#x4E24;&#x4E2A;&#x96C6;&#x7FA4;&#x6210;&#x5458;&#x53EF;&#x80FD;&#x8FD4;&#x56DE;&#x4E0D;&#x540C;&#x7684;&#x503C;&#xFF0C;&#x4F8B;&#x5982; <a href="https://docs.mongodb.com/manual/reference/method/Date/#Date" target="_blank">Date()</a>, <a href="https://docs.mongodb.com/manual/reference/aggregation-variables/#variable.NOW" target="_blank">NOW</a>, &#x548C; <a href="https://docs.mongodb.com/manual/reference/aggregation-variables/#variable.CLUSTER_TIME" target="_blank">CLUSTER_TIME</a>&#x3002;</p>
<ul>
<li>Features which rely on timekeeping may have inconsistent or unpredictable behavior in clusters with clock drift between MongoDB components.                                   </li>
</ul>
<p>&#x5728;MongoDB&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x7684;&#x96C6;&#x7FA4;&#x4E2D;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8E;&#x8BA1;&#x65F6;&#x7684;&#x7279;&#x6027;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x4E0D;&#x4E00;&#x81F4;&#x6216;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x884C;&#x4E3A;&#x3002;</p>
<p>For example, <a href="https://docs.mongodb.com/manual/core/index-ttl/#index-feature-ttl" target="_blank">TTL indexes</a> rely on the system clock to calculate when to delete a given document. If two members have different system clock times, each member could delete a given document covered by the TTL index at a different time. Since <a href="https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/#sessions" target="_blank">Client Sessions and Causal Consistency Guarantees</a> use TTL indexes to control their lifespan, clock drift could result in inconsistent or unpredictable session timeout behavior.</p>
<p>&#x4F8B;&#x5982;&#xFF0C;<a href="https://docs.mongodb.com/manual/core/index-ttl/#index-feature-ttl" target="_blank">TTL&#x7D22;&#x5F15;</a>&#x4F9D;&#x8D56;&#x4E8E;&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x6765;&#x8BA1;&#x7B97;&#x4F55;&#x65F6;&#x5220;&#x9664;&#x7ED9;&#x5B9A;&#x6587;&#x6863;&#x3002;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x6210;&#x5458;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x65F6;&#x95F4;&#xFF0C;&#x5219;&#x6BCF;&#x4E2A;&#x6210;&#x5458;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x5220;&#x9664;TTL&#x7D22;&#x5F15;&#x8986;&#x76D6;&#x7684;&#x7ED9;&#x5B9A;&#x6587;&#x6863;&#x3002;&#x7531;&#x4E8E;<a href="https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/#sessions" target="_blank">&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x8BDD;&#x548C;&#x56E0;&#x679C;&#x4E00;&#x81F4;&#x6027;</a>&#x4FDD;&#x8BC1;&#x4F7F;&#x7528;TTL&#x7D22;&#x5F15;&#x6765;&#x63A7;&#x5236;&#x5B83;&#x4EEC;&#x7684;&#x5BFF;&#x547D;&#xFF0C;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x4E0D;&#x4E00;&#x81F4;&#x6216;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x4F1A;&#x8BDD;&#x8D85;&#x65F6;&#x884C;&#x4E3A;&#x3002;</p>
<p>NTP synchronization is required for deployments running MongoDB lower than 3.4.6 or 3.2.17 with the WiredTiger storage engine, where clock drift could lead to <a href="https://jira.mongodb.org/browse/WT-3227" target="_blank">checkpoint hangs</a>. The issue was fixed in MongoDB <a href="https://docs.mongodb.com/manual/release-notes/3.4-changelog/#id148" target="_blank">3.4.6+</a> and MongoDB <a href="https://docs.mongodb.com/manual/release-notes/3.2/#id5" target="_blank">3.2.17+</a>, and is resolved in all point release of MongoDB 3.6, 4.0, and 4.2.                                           </p>
<p>&#x8FD0;&#x884C; MongoDB &#x4F4E;&#x4E8E; 3.4.6 &#x6216; 3.2.17 &#x7684;&#x90E8;&#x7F72;&#x9700;&#x8981; NTP &#x540C;&#x6B65;&#xFF0C;&#x4F7F;&#x7528; WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;<a href="https://jira.mongodb.org/browse/WT-3227" target="_blank">&#x68C0;&#x67E5;&#x70B9;&#x6302;&#x8D77;</a>&#x3002;&#x8BE5;&#x95EE;&#x9898;&#x5728; MongoDB <a href="https://docs.mongodb.com/manual/release-notes/3.4-changelog/#id148" target="_blank">3.4.6+</a> &#x548C; MongoDB <a href="https://docs.mongodb.com/manual/release-notes/3.2/#id5" target="_blank">3.2.17+</a> &#x4E2D;&#x5F97;&#x5230;&#x4E86;&#x4FEE;&#x590D;&#xFF0C;&#x5E76;&#x5728; MongoDB 3.6&#x3001;4.0 &#x548C; 4.2 &#x7248;&#x672C;&#x4E2D;&#x6240;&#x6709;&#x70B9;&#x5F97;&#x5230;&#x4E86;&#x89E3;&#x51B3;&#x3002;</p>
<h2 id="platform-specific-considerations">Platform Specific Considerations</h2>
<h2 id="&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x6CE8;&#x610F;&#x4E8B;&#x9879;">&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h2>
<h3 id="mongodb-on-linux--linux-&#x4E0A;&#x7684;-mongodb">MongoDB on Linux  Linux &#x4E0A;&#x7684; MongoDB</h3>
<h4 id="kernel-and-file-systems-&#x5185;&#x6838;&#x548C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;">Kernel and File Systems &#x5185;&#x6838;&#x548C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</h4>
<p>When running MongoDB in production on Linux, you should use Linux kernel version 2.6.36 or later, with either the XFS or EXT4 filesystem. If possible, use XFS as it generally performs better with MongoDB.                                                                                                                                                   </p>
<p>&#x5728;Linux&#x4E0A;&#x7684;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x8FD0;&#x884C;MongoDB&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; Linux &#x5185;&#x6838;&#x7248;&#x672C; 2.6.36 &#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; XFS&#x6216; EXT4 &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;&#x5982;&#x679C;&#x53EF;&#x80FD;&#x7684;&#x8BDD;&#xFF0C;&#x4F7F;&#x7528; XFS&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x901A;&#x5E38;&#x5728; MongoDB &#x4E2D;&#x6267;&#x884C;&#x5F97;&#x66F4;&#x597D;&#x3002;</p>
<p>With the <a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger storage engine</a>, using XFS is strongly recommended for data bearing nodes to avoid performance issues that may occur when using EXT4 with WiredTiger. </p>
<p>&#x5BF9;&#x4E8E; <a href="https://docs.mongodb.com/manual/core/wiredtiger/#storage-wiredtiger" target="_blank">WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;</a>&#xFF0C;&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; XFS&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x5C06; EXT4 &#x4E0E; WiredTiger &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002;</p>
<ul>
<li>In general, if you use the XFS file system, use at least version 2.6.25 of the Linux Kernel. </li>
<li>&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x662F; XFS &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x90A3;&#x4E48;&#x81F3;&#x5C11;&#x8981;&#x4F7F;&#x7528; 2.6.25 &#x7248;&#x672C;&#x7684;Linux&#x5185;&#x6838;&#x3002;</li>
<li>If you use the EXT4 file system, use at least version 2.6.28 of the Linux Kernel.  </li>
<li>&#x5982;&#x679C;&#x4F7F;&#x7528; EXT4 &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x8BF7;&#x81F3;&#x5C11;&#x4F7F;&#x7528; 2.6.28 &#x7248;&#x672C;&#x7684; Linux &#x5185;&#x6838;&#x3002;</li>
<li>On Red Hat Enterprise Linux and CentOS, use at least version 2.6.18-194 of the Linux kernel.</li>
<li>&#x5728;Red Hat &#x4F01;&#x4E1A;&#x7248; Linux &#x548C; CentOS &#x4E0A;&#xFF0C;&#x81F3;&#x5C11;&#x4F7F;&#x7528; 2.6.18-194 &#x7248; Linux &#x5185;&#x6838;&#x3002;</li>
</ul>
<h4 id="system-c-library----&#x7CFB;&#x7EDF;c&#x5E93;">System C Library    &#x7CFB;&#x7EDF;C&#x5E93;</h4>
<p>MongoDB uses the <a href="http://www.gnu.org/software/libc/" target="_blank">GNU C Library</a> (glibc) on Linux. Generally, each Linux distro provides its own vetted version of this library. For best results, use the latest update available for this system-provided version. You can check whether you have the latest version installed by using your system&#x2019;s package manager. For example: </p>
<p>MongoDB&#x5728;Linux&#x4E0A;&#x4F7F;&#x7528; <a href="http://www.gnu.org/software/libc/" target="_blank">GNU C &#x5E93;</a> (glibc)&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x6BCF;&#x4E2A;Linux&#x53D1;&#x884C;&#x7248;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;&#x81EA;&#x5DF1;&#x7ECF;&#x8FC7;&#x5BA1;&#x67E5;&#x7684;&#x7248;&#x672C;&#x3002;&#x4E3A;&#x4E86;&#x83B7;&#x5F97;&#x6700;&#x4F73;&#x7ED3;&#x679C;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x6B64;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7248;&#x672C;&#x7684;&#x6700;&#x65B0;&#x66F4;&#x65B0;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5668;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x4E86;&#x6700;&#x65B0;&#x7248;&#x672C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<ul>
<li><p>On RHEL / CentOS, the following command updates the system-provided GNU C Library:</p>
</li>
<li><p>&#x5728; RHEL/CentOS &#x4E0A;&#xFF0C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684; GNU C &#x5E93;&#xFF1A;</p>
<pre><code>sudo yum update glibc
</code></pre></li>
<li><p>On Ubuntu / Debian, the following command updates the system-provided GNU C Library: </p>
</li>
<li><p>&#x5728;Ubuntu/Debian&#x4E0A;&#xFF0C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684; GNU C &#x5E93;&#xFF1A;</p>
<pre><code>sudo apt-get install libc6
</code></pre></li>
</ul>
<h4 id="fsync-on-directories--&#x76EE;&#x5F55;&#x4E2D;&#x7684;-fsync">fsync() on Directories  &#x76EE;&#x5F55;&#x4E2D;&#x7684; fsync()</h4>
<p>IMPORTANT</p>
<p> &#x91CD;&#x8981;</p>
<p>MongoDB requires a filesystem that supports fsync() <em>on directories</em>. For example, HGFS and Virtual Box&#x2019;s shared folders do <em>not</em> support this operation.</p>
<p>MongoDB&#x8981;&#x6C42;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5BF9;&#x76EE;&#x5F55;&#x652F;&#x6301; fsync()&#x3002;&#x4F8B;&#x5982; HGFS &#x548C; Virtual Box &#x7684;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#x4E0D;&#x652F;&#x6301;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x3002;</p>
<h4 id="set-vmswappiness-to-1-or-0">Set vm.swappiness to 1 or 0</h4>
<h4 id="&#x5C06;-vmswappiness-&#x8BBE;&#x7F6E;&#x4E3A;-1-&#x6216;&#x8005;-0">&#x5C06; vm.swappiness &#x8BBE;&#x7F6E;&#x4E3A; 1 &#x6216;&#x8005; 0</h4>
<p>&#x201C;Swappiness&#x201D; is a Linux kernel setting that influences the behavior of the Virtual Memory manager. The vm.swappiness setting ranges from 0 to 100: the higher the value, the more strongly it prefers swapping memory pages to disk over dropping pages from RAM. </p>
<p>&#x201C;Swappiness&#x201D; &#x662F;&#x4E00;&#x79CD;&#x5F71;&#x54CD;&#x865A;&#x62DF;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x5668;&#x7684; Linux &#x5185;&#x6838;&#x8BBE;&#x7F6E;&#xFF0C;vm.swappiness &#x8BBE;&#x7F6E;&#x7684;&#x8303;&#x56F4;&#x4ECE;0&#x5230;100&#xFF1A;&#x8BE5;&#x503C;&#x8D8A;&#x9AD8;&#xFF0C;&#x5B83;&#x8D8A;&#x503E;&#x5411;&#x4E8E;&#x5C06;&#x5185;&#x5B58;&#x9875;&#x4EA4;&#x6362;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4ECE;RAM&#x4E2D;&#x5220;&#x9664;&#x9875;&#x3002;</p>
<ul>
<li>A setting of 0 disables swapping entirely <a href="https://docs.mongodb.com/manual/administration/production-notes/#swappiness-kernel-version" target="_blank">[2]</a>. </li>
<li>&#x8BBE;&#x7F6E;&#x4E3A;0&#x5C06;&#x5B8C;&#x5168;&#x7981;&#x7528;&#x4EA4;&#x6362; <a href="https://docs.mongodb.com/manual/administration/production-notes/#swappiness-kernel-version" target="_blank">[2]</a>&#x3002;</li>
<li>A setting of 1 permits the kernel to swap only to avoid out-of-memory problems. </li>
<li>&#x8BBE;&#x7F6E;&#x4E3A;1&#x53EA;&#x5141;&#x8BB8;&#x5185;&#x6838;&#x4EA4;&#x6362;&#x4EE5;&#x907F;&#x514D;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x95EE;&#x9898;&#x3002;</li>
<li>A setting of 60 tells the kernel to swap to disk often, and is the default value on many Linux distributions.                                                                                                                                                                &#x8BBE;&#x7F6E;60&#x544A;&#x8BC9;&#x5185;&#x6838;&#x7ECF;&#x5E38;&#x4EA4;&#x6362;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x8FD9;&#x662F;&#x8BB8;&#x591A;Linux&#x53D1;&#x884C;&#x7248;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</li>
<li>A setting of 100 tells the kernel to swap aggressively to disk. </li>
<li>&#x8BBE;&#x7F6E;&#x4E3A;100&#x5C06;&#x544A;&#x8BC9;&#x5185;&#x6838;&#x5C3D;&#x53EF;&#x80FD;&#x4EA4;&#x6362;&#x5230;&#x78C1;&#x76D8;&#x3002;</li>
</ul>
<p>MongoDB performs best where swapping can be avoided or kept to a minimum. As such you should set vm.swappiness to either 1 or 0 depending on your application needs and cluster configuration.                                                                                                                                                    MongoDB &#x5728;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x6216;&#x4FDD;&#x6301;&#x6700;&#x5C0F;&#x4EA4;&#x6362;&#x7684;&#x5730;&#x65B9;&#x8868;&#x73B0;&#x6700;&#x597D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x6839;&#x636E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x548C;&#x96C6;&#x7FA4;&#x914D;&#x7F6E;&#x5C06; vm.swappiness &#x8BBE;&#x7F6E;&#x4E3A;1&#x6216;0&#x3002;</p>
<p>[2]  With Linux kernel versions previous to 3.5, or RHEL / CentOS kernel versions previous to 2.6.32-303, a vm.swappiness setting of 0 would still allow the kernel to swap in certain emergency situations.                                                                                                                                                [2] &#x5BF9;&#x4E8E;3.5&#x4E4B;&#x524D;&#x7684;Linux&#x5185;&#x6838;&#x7248;&#x672C;&#xFF0C;&#x6216; 2.6.32-303 &#x4E4B;&#x524D;&#x7684; RHEL/CentOS &#x5185;&#x6838;&#x7248;&#x672C;&#xFF0C;vm.swappiness &#x8BBE;&#x7F6E;&#x4E3A;0&#x4ECD;&#x7136;&#x5141;&#x8BB8;&#x5185;&#x6838;&#x5728;&#x67D0;&#x4E9B;&#x7D27;&#x6025;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x4EA4;&#x6362;&#x3002;</p>
<p>NOTE</p>
<p>&#x6CE8;&#x610F;</p>
<p>If your MongoDB instance is hosted on a system that also runs other software, such as a webserver, you should set vm.swappiness to 1. If possible, it is highly recommended that you run MongoDB on its own dedicated system.                                                                                                    &#x5982;&#x679C; MongoDB &#x5B9E;&#x4F8B;&#x6258;&#x7BA1;&#x5728;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x5176;&#x4ED6;&#x8F6F;&#x4EF6;&#xFF08;&#x5982;Web&#x670D;&#x52A1;&#x5668;&#xFF09;&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5219;&#x5E94;&#x5C06; vm.swappiness &#x8BBE;&#x7F6E;&#x4E3A;1&#x3002;&#x5982;&#x679C;&#x53EF;&#x80FD;&#xFF0C;&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x60A8;&#x5728;MongoDB&#x81EA;&#x5DF1;&#x7684;&#x4E13;&#x7528;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;MongoDB&#x3002;</p>
<ul>
<li><p>To check the current swappiness setting on your system, run: </p>
</li>
<li><p>&#x8981;&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x5F53;&#x524D;&#x4EA4;&#x6362;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BF7;&#x8FD0;&#x884C;&#xFF1A;</p>
<pre><code>cat /proc/sys/vm/swappiness
</code></pre></li>
<li><p>To change swappiness on your system:</p>
</li>
<li><p>&#x8981;&#x66F4;&#x6539;&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x4EA4;&#x6362;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<ol>
<li><p>Edit the /etc/sysctl.conf file and add the following line: </p>
<p>&#x7F16;&#x8F91; /etc/sysctl.conf &#x6587;&#x4EF6;&#x5E76;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x884C;&#xFF1A;</p>
<pre><code>vm.swappiness = 1
</code></pre></li>
<li><p>Run the following command to apply the setting: </p>
<p>&#x8FD0;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x5E94;&#x7528;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<pre><code>sudo sysctl -p
</code></pre></li>
</ol>
</li>
</ul>
<p>NOTE</p>
<p> &#x6CE8;&#x610F;</p>
<p>If you are running RHEL / CentOS and using a tuned performance profile, you must also edit your chosen profile to set vm.swappiness to 1 or 0.</p>
<p>&#x5982;&#x679C;&#x60A8;&#x6B63;&#x5728;&#x8FD0;&#x884C; RHEL/CentOS &#x5E76;&#x4F7F;&#x7528;&#x4F18;&#x5316;&#x7684;&#x6027;&#x80FD;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x8FD8;&#x5FC5;&#x987B;&#x7F16;&#x8F91;&#x6240;&#x9009;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4EE5;&#x5C06;vm.swappiness &#x8BBE;&#x7F6E;&#x4E3A;1&#x6216;0&#x3002;</p>
<h4 id="recommended-configuration-&#x63A8;&#x8350;&#x914D;&#x7F6E;">Recommended Configuration &#x63A8;&#x8350;&#x914D;&#x7F6E;</h4>
<p>For all MongoDB deployments: </p>
<p>&#x5BF9;&#x4E8E;&#x6240;&#x6709;MongoDB&#x90E8;&#x7F72;&#xFF1A;</p>
<ul>
<li>Use the Network Time Protocol (NTP) to synchronize time among your hosts. This is especially important in sharded clusters.                                                                                                              &#x5728;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x540C;&#x6B65;&#x65F6;&#x95F4;&#x4F7F;&#x7528;&#x7F51;&#x7EDC;&#x65F6;&#x95F4;&#x534F;&#x8BAE;&#xFF08;NTP&#xFF09;&#x3002;&#x8FD9;&#x5728;&#x5206;&#x7247;&#x96C6;&#x7FA4;&#x4E2D;&#x5C24;&#x4E3A;&#x91CD;&#x8981;&#x3002;</li>
</ul>
<p>For the WiredTiger storage engines, consider the following recommendations:</p>
<p>&#x5BF9;&#x4E8E; WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x8BF7;&#x8003;&#x8651;&#x4EE5;&#x4E0B;&#x5EFA;&#x8BAE;&#xFF1A;</p>
<ul>
<li><p>Turn off atime for the storage volume containing the <a href="https://docs.mongodb.com/manual/reference/glossary/#term-dbpath" target="_blank">database files</a>. </p>
</li>
<li><p>&#x5728;&#x5305;&#x542B;<a href="https://docs.mongodb.com/manual/reference/glossary/#term-dbpath" target="_blank">&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;</a>&#x7684;&#x5B58;&#x50A8;&#x5377;&#x5173;&#x95ED; atime &#x914D;&#x7F6E;&#x3002; </p>
</li>
<li><p>Set the file descriptor limit, -n, and the user process limit (ulimit), -u, above 20,000, according to the suggestions in the <a href="https://docs.mongodb.com/manual/reference/ulimit/" target="_blank">ulimit</a> reference. A low ulimit will affect MongoDB when under heavy use and can produce errors and lead to failed connections to MongoDB processes and loss of service. </p>
</li>
<li><p>&#x6309;&#x7167; <a href="https://docs.mongodb.com/manual/reference/ulimit/" target="_blank">ulimit</a> &#x8BBE;&#x7F6E;&#x7684;&#x63A8;&#x8350;&#xFF0C;&#x8BBE;&#x7F6E;&#x63CF;&#x8FF0;&#x7B26;&#x9650;&#x5236;&#xFF0C;-n &#x548C;&#x7528;&#x6237;&#x8FDB;&#x7A0B;&#x9650;&#x5236;&#xFF08;ulimit&#xFF09;&#xFF0C;-u &#x8BBE;&#x7F6E;&#x4E3A;20000&#x4EE5;&#x4E0A;&#x3002;&#x5F53;&#x5927;&#x91CF;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x4F4E; ulimit &#x5C06;&#x5F71;&#x54CD; MongoDB&#xFF0C;&#x5E76;&#x53EF;&#x80FD;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#xFF0C;&#x5BFC;&#x81F4;&#x4E0E;MongoDB&#x8FDB;&#x7A0B;&#x7684;&#x8FDE;&#x63A5;&#x5931;&#x8D25;&#x548C;&#x670D;&#x52A1;&#x4E22;&#x5931;&#x3002;</p>
</li>
<li><p>Disable Transparent Huge Pages. MongoDB performs better with normal (4096 bytes) virtual memory pages. See <a href="https://docs.mongodb.com/manual/tutorial/transparent-huge-pages/" target="_blank">Transparent Huge Pages Settings</a>. </p>
</li>
<li><p>&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x900F;&#x660E;&#x5927;&#x9875;&#xFF0C;&#x56E0;&#x4E3A;MongoDB&#x5728;&#x6807;&#x51C6;&#x9875;&#x4E2D;&#x8868;&#x73B0;&#x66F4;&#x597D;&#x3002;&#x53C2;&#x89C1; <a href="https://docs.mongodb.com/manual/tutorial/transparent-huge-pages/" target="_blank">&#x900F;&#x660E;&#x5927;&#x9875;&#x8BBE;&#x7F6E;</a>.     </p>
</li>
<li><p>Disable NUMA in your BIOS. If that is not possible, see <a href="https://docs.mongodb.com/manual/administration/production-notes/#production-numa" target="_blank">MongoDB on NUMA Hardware</a>.</p>
</li>
<li><p>&#x5728;BIOS&#x4E2D;&#x7981;&#x7528;NUMA&#x3002;&#x5982;&#x679C;&#x505A;&#x4E0D;&#x5230;&#xFF0C;&#x8BF7;&#x53C2;&#x8003; <a href="https://docs.mongodb.com/manual/administration/production-notes/#production-numa" target="_blank">MongoDB &#x548C; NUMA &#x786C;&#x4EF6;</a>&#x7AE0;&#x8282;&#x3002;</p>
</li>
<li><p>Configure SELinux for MongoDB if you are not using the default MongoDB directory paths or <a href="https://docs.mongodb.com/manual/reference/default-mongodb-port/" target="_blank">ports</a>.                                                                                                                                                                        &#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684; MongoDB &#x76EE;&#x5F55;&#x8DEF;&#x5F84;&#x6216; <a href="https://docs.mongodb.com/manual/reference/default-mongodb-port/" target="_blank">&#x7AEF;&#x53E3;</a>&#xFF0C;&#x8BF7;&#x4E3A; MongoDB &#x914D;&#x7F6E; SELinux&#x3002;</p>
<p>See: <a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/#install-rhel-configure-selinux" target="_blank">Configure SELinux for MongoDB</a> and <a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-enterprise-on-red-hat/#install-enterprise-rhel-configure-selinux" target="_blank">Configure SELinux for MongoDB Enterprise</a> for the required configuration.                                                                                                                                         &#x8BF7;&#x53C2;&#x9605;<a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/#install-rhel-configure-selinux" target="_blank">&#x4E3A; MongoDB &#x914D;&#x7F6E; SELinux</a> &#x548C; <a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-enterprise-on-red-hat/#install-enterprise-rhel-configure-selinux" target="_blank">&#x4E3A; MongoDB &#x4F01;&#x4E1A;&#x7248;&#x914D;&#x7F6E; SELinux</a> &#x4EE5;&#x83B7;&#x5F97;&#x6240;&#x9700;&#x7684;&#x914D;&#x7F6E;&#x3002;</p>
</li>
</ul>
<p>  NOTE</p>
<p>  &#x6CE8;&#x610F;</p>
<p>  If you are using SELinux, any MongoDB operation that requires <a href="https://docs.mongodb.com/manual/core/server-side-javascript/" target="_blank">server-side JavaScript</a> will result in segfault errors. <a href="https://docs.mongodb.com/manual/core/server-side-javascript/#disable-server-side-js" target="_blank">Disable Server-Side Execution of JavaScript</a> describes how to disable execution of server-side JavaScript.                                                                                                      &#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x662F; SELinux&#xFF0C;&#x4EFB;&#x4F55;&#x9700;&#x8981; <a href="https://docs.mongodb.com/manual/core/server-side-javascript/" target="_blank">&#x670D;&#x52A1;&#x5668;&#x7AEF; javaScript</a> &#x7684; MongoDB &#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x5BFC;&#x81F4;&#x6BB5;&#x9519;&#x8BEF;&#x3002; <a href="https://docs.mongodb.com/manual/core/server-side-javascript/#disable-server-side-js" target="_blank">&#x7981;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6267;&#x884C;JavaScript</a> &#x63CF;&#x8FF0;&#x5982;&#x4F55;&#x7981;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7AEF; JavaScript &#x6267;&#x884C;&#x3002;</p>
<p>For the WiredTiger storage engine: </p>
<p>&#x5BF9;&#x4E8E;WiredTiger&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF1A;</p>
<ul>
<li>Set the readahead setting between 8 and 32 regardless of storage media type (spinning disk, SSD, etc.).<br>&#x65E0;&#x8BBA;&#x5B58;&#x50A8;&#x4ECB;&#x8D28;&#x7C7B;&#x578B;&#xFF08;&#x65CB;&#x8F6C;&#x78C1;&#x76D8;&#x3001;SSD&#x7B49;&#xFF09;&#x5982;&#x4F55;&#xFF0C;&#x5C06; &#x6587;&#x4EF6;&#x9884;&#x8BFB;&#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;8&#x5230;32&#x3002;</li>
</ul>
<p>Higher readahead commonly benefits sequential I/O operations. Since MongoDB disk access patterns are generally random, using higher readahead settings provides limited benefit or potential performance degradation. As such, for optimal MongoDB performance, set readahead between 8 and 32, unless testing shows a measurable, repeatable, and reliable benefit in a higher readahead value. <a href="https://support.mongodb.com/welcome?jmp=docs" target="_blank">MongoDB commercial support</a> can provide advice and guidance on alternate readahead configurations. </p>
<p>&#x8F83;&#x9AD8;&#x7684;&#x9884;&#x8BFB;&#x901A;&#x5E38;&#x6709;&#x5229;&#x4E8E;&#x987A;&#x5E8F; I/O &#x64CD;&#x4F5C;&#x3002;&#x7531;&#x4E8E;MongoDB &#x78C1;&#x76D8;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#x901A;&#x5E38;&#x662F;&#x968F;&#x673A;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4F7F;&#x7528;&#x66F4;&#x9AD8;&#x7684;&#x6587;&#x4EF6;&#x9884;&#x8BFB;&#x8BBE;&#x7F6E;&#x63D0;&#x4F9B;&#x7684;&#x597D;&#x5904;&#x6709;&#x9650;&#xFF0C;&#x6216;&#x8005;&#x53EF;&#x80FD;&#x4F1A;&#x964D;&#x4F4E;&#x6027;&#x80FD;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x4E3A;&#x4E86;&#x83B7;&#x5F97;&#x6700;&#x4F73;&#x7684; MongoDB &#x6027;&#x80FD;&#xFF0C;&#x8BF7;&#x5C06;&#x6587;&#x4EF6;&#x9884;&#x8BFB;&#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x5728;8&#x5230;32&#x4E4B;&#x95F4;&#xFF0C;&#x9664;&#x975E;&#x6D4B;&#x8BD5;&#x5728;&#x66F4;&#x9AD8;&#x7684;&#x6587;&#x4EF6;&#x9884;&#x8BFB;&#x503C;&#x4E2D;&#x663E;&#x793A;&#x51FA;&#x53EF;&#x6D4B;&#x91CF;&#x3001;&#x53EF;&#x91CD;&#x590D;&#x548C;&#x53EF;&#x9760;&#x7684;&#x597D;&#x5904;&#x3002; <a href="https://support.mongodb.com/welcome?jmp=docs" target="_blank">MongoDB &#x5546;&#x4E1A;&#x652F;&#x6301;</a>&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x5173;&#x4E8E;&#x5907;&#x7528;&#x6587;&#x4EF6;&#x9884;&#x8BFB;&#x914D;&#x7F6E;&#x7684;&#x5EFA;&#x8BAE;&#x548C;&#x6307;&#x5BFC;&#x3002;</p>
<h4 id="mongodb-and-tlsssl-libraries-mongodb-&#x548C;-tlsssl-&#x5E93;">MongoDB and TLS/SSL Libraries MongoDB &#x548C; TLS/SSL &#x5E93;</h4>
<p>On Linux platforms, you may observe one of the following statements in the MongoDB log:  </p>
<p>&#x5728; Linux &#x5E73;&#x53F0;&#x4E0A;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728; MongoDB &#x65E5;&#x5FD7;&#x4E2D;&#x770B;&#x5230;&#x4EE5;&#x4E0B;&#x8BED;&#x53E5;&#x4E4B;&#x4E00;&#xFF1A;</p>
<pre><code>&lt;path to TLS/SSL libs&gt;/libssl.so.&lt;version&gt;: no version information available (required by /usr/bin/mongod)
&lt;path to TLS/SSL libs&gt;/libcrypto.so.&lt;version&gt;: no version information available (required by /usr/bin/mongod)
</code></pre><p>These warnings indicate that the system&#x2019;s TLS/SSL libraries are different from the TLS/SSL libraries that the <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> was compiled against. Typically these messages do not require intervention; however, you can use the following operations to determine the symbol versions that <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> expects:                               </p>
<p>&#x8FD9;&#x4E9B;&#x8B66;&#x544A;&#x8868;&#x793A;&#x7CFB;&#x7EDF;&#x7684; TLS/SSL &#x5E93;&#x4E0E; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>  &#x7F16;&#x8BD1;&#x65F6;&#x6240;&#x4F9D;&#x636E;&#x7684; TLS/SSL &#x5E93;&#x4E0D;&#x540C;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x4E9B;&#x6D88;&#x606F;&#x4E0D;&#x9700;&#x8981;&#x5E72;&#x9884;&#xFF1B;&#x4F46;&#x662F;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#x6765;&#x786E;&#x5B9A; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>  &#x671F;&#x671B;&#x7684;&#x7B26;&#x53F7;&#x7248;&#x672C;&#xFF1A;</p>
<pre><code>objdump -T &lt;path to mongod&gt;/mongod | grep &quot; SSL_&quot;
objdump -T &lt;path to mongod&gt;/mongod | grep &quot; CRYPTO_&quot;
</code></pre><p>These operations will return output that resembles one the of the following lines: </p>
<p>&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x5C06;&#x8FD4;&#x56DE;&#x7C7B;&#x4F3C;&#x4E8E;&#x4EE5;&#x4E0B;&#x884C;&#x4E4B;&#x4E00;&#x7684;&#x8F93;&#x51FA;&#xFF1A;</p>
<pre><code>0000000000000000      DF *UND*       0000000000000000  libssl.so.10 SSL_write
0000000000000000      DF *UND*       0000000000000000  OPENSSL_1.0.0 SSL_write
</code></pre><p>The last two strings in this output are the symbol version and symbol name. Compare these values with the values returned by the following operations to detect symbol version mismatches:                                                                                                                                                                 &#x6B64;&#x8F93;&#x51FA;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x7B26;&#x53F7;&#x7248;&#x672C;&#x548C;&#x7B26;&#x53F7;&#x540D;&#x3002;&#x5C06;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x4EE5;&#x68C0;&#x6D4B;&#x7B26;&#x53F7;&#x7248;&#x672C;&#x662F;&#x5426;&#x5339;&#x914D;&#xFF1A;</p>
<pre><code>objdump -T &lt;path to TLS/SSL libs&gt;/libssl.so.1*
objdump -T &lt;path to TLS/SSL libs&gt;/libcrypto.so.1*
</code></pre><p>This procedure is neither exact nor exhaustive: many symbols used by <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> from the libcrypto library do not begin with CRYPTO_.</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x65E2;&#x4E0D;&#x7CBE;&#x786E;&#x4E5F;&#x4E0D;&#x8BE6;&#x5C3D;&#xFF1A; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x4ECE; libcrypto &#x5E93;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x8BB8;&#x591A;&#x7B26;&#x53F7;&#x4E0D;&#x662F;&#x4EE5; CRYPTO_ &#x5F00;&#x5934;&#x7684;&#x3002;</p>
<h3 id="mongodb-on-windows--windows-&#x4E0A;&#x7684;-mongodb">MongoDB on Windows  Windows &#x4E0A;&#x7684; MongoDB</h3>
<p>For MongoDB instances using the WiredTiger storage engine, performance on Windows is comparable to performance on Linux.                                                         </p>
<p>&#x5BF9;&#x4E8E;&#x4F7F;&#x7528; WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684; MongoDB &#x5B9E;&#x4F8B;&#xFF0C;Windows &#x4E0A;&#x7684;&#x6027;&#x80FD;&#x4E0E; Linux &#x4E0A;&#x7684;&#x6027;&#x80FD;&#x76F8;&#x5F53;&#x3002;</p>
<h3 id="mongodb-on-virtual-environments---&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x7684;mongodb">MongoDB on Virtual Environments   &#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x7684;MongoDB</h3>
<p>This section describes considerations when running MongoDB in some of the more common virtual environments.                                                                     </p>
<p>&#x672C;&#x7AE0;&#x8282;&#x63CF;&#x8FF0;&#x4E86;&#x5728;&#x5E38;&#x7528;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x8FD0;&#x884C;MongoDB&#x9700;&#x8981;&#x8003;&#x8651;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p>For all platforms, consider <a href="https://docs.mongodb.com/manual/administration/production-notes/#virtualized-disks-scheduling" target="_blank">Scheduling</a>.                                                                                                                                                                                         &#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x5E73;&#x53F0;&#xFF0C;&#x8BF7;&#x8003;&#x8651; <a href="https://docs.mongodb.com/manual/administration/production-notes/#virtualized-disks-scheduling" target="_blank">&#x8C03;&#x5EA6;</a>.</p>
<h4 id="aws-ec2----&#x4E9A;&#x9A6C;&#x900A;&#x5F39;&#x6027;&#x8BA1;&#x7B97;&#x4E91;">AWS EC2    &#x4E9A;&#x9A6C;&#x900A;&#x5F39;&#x6027;&#x8BA1;&#x7B97;&#x4E91;</h4>
<p>There are two performance configurations to consider: </p>
<p>&#x6709;&#x4E24;&#x79CD;&#x6027;&#x80FD;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x8003;&#x8651;&#xFF1A;</p>
<ul>
<li>Reproducible performance for performance testing or benchmarking, and </li>
<li>&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6216;&#x57FA;&#x51C6;&#x6D4B;&#x8BD5;&#x7684;&#x53EF;&#x590D;&#x5236;&#x6027;&#x80FD;&#xFF0C;&#x4EE5;&#x53CA;</li>
<li>Raw maximum performance</li>
<li>&#x539F;&#x59CB;&#x6700;&#x5927;&#x6027;&#x80FD;</li>
</ul>
<p>To tune performance on EC2 for either configuration, you should: </p>
<p> &#x8981;&#x4E3A;&#x4EFB;&#x4E00;&#x914D;&#x7F6E;&#x4F18;&#x5316;&#x5F39;&#x6027;&#x8BA1;&#x7B97;&#x4E91;&#x4E0A;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x5E94;&#xFF1A;</p>
<ul>
<li>Enable AWS <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html#enabling_enhanced_networking" target="_blank">Enhanced Networking</a> for your instance. Not all instance types support Enhanced Networking.                                                                                                                                               &#x4E3A;&#x60A8;&#x7684;&#x5B9E;&#x4F8B;&#x542F;&#x7528;&#x4E9A;&#x9A6C;&#x900A;<a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html#enabling_enhanced_networking" target="_blank">&#x589E;&#x5F3A;&#x7684;&#x7F51;&#x7EDC;</a>&#x3002;&#x5E76;&#x975E;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x7C7B;&#x578B;&#x90FD;&#x652F;&#x6301;&#x589E;&#x5F3A;&#x7684;&#x7F51;&#x7EDC;&#x3002;</li>
</ul>
<p>To learn more about Enhanced Networking, see to the <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html#enabling_enhanced_networking" target="_blank">AWS documentation</a>.</p>
<p>&#x8981;&#x4E86;&#x89E3;&#x6709;&#x5173;&#x589E;&#x5F3A;&#x8054;&#x7F51;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html#enabling_enhanced_networking" target="_blank">AWS &#x6587;&#x6863;</a>&#x3002;</p>
<p>If you are concerned more about reproducible performance on EC2, you should also: </p>
<p>&#x5982;&#x679C;&#x60A8;&#x66F4;&#x5173;&#x5FC3;&#x5F39;&#x6027;&#x8BA1;&#x7B97;&#x4E91;&#x7684;&#x53EF;&#x91CD;&#x590D;&#x6027;&#x80FD;&#xFF0C;&#x60A8;&#x8FD8;&#x5E94;&#x8BE5;&#xFF1A;</p>
<ul>
<li><p>Use provisioned IOPS for the storage, with separate devices for journal and data. Do not use the ephemeral (SSD) storage available on most instance types as their performance changes moment to moment. (The i series is a notable exception, but very expensive.) </p>
</li>
<li><p>&#x4E3A;&#x5B58;&#x50A8;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x7684; IOPS&#xFF0C;&#x65E5;&#x5FD7;&#x548C;&#x6570;&#x636E;&#x4F7F;&#x7528;&#x5355;&#x72EC;&#x7684;&#x8BBE;&#x5907;&#x3002;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x5927;&#x591A;&#x6570;&#x5B9E;&#x4F8B;&#x7C7B;&#x578B;&#x4E0A;&#x53EF;&#x7528;&#x7684;&#x4E34;&#x65F6;&#xFF08;SSD&#xFF09;&#x5B58;&#x50A8;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x7684;&#x6027;&#x80FD;&#x4F1A;&#x968F;&#x65F6;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;&#xFF08;i &#x7CFB;&#x5217;&#x662F;&#x4E00;&#x4E2A;&#x663E;&#x8457;&#x7684;&#x4F8B;&#x5916;&#xFF0C;&#x4F46;&#x975E;&#x5E38;&#x6602;&#x8D35;&#x3002;&#xFF09;</p>
</li>
<li><p>Disable DVFS and CPU power saving modes. </p>
</li>
<li><p>&#x7981;&#x7528; DVFS &#x548C; CPU &#x8282;&#x80FD;&#x6A21;&#x5F0F;&#x3002;</p>
<p>SEE ALSO</p>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/processor_state_control.html" target="_blank">Amazon documentation on Processor State Control</a></p>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/processor_state_control.html" target="_blank">&#x5173;&#x4E8E;&#x5904;&#x7406;&#x5668;&#x72B6;&#x6001;&#x63A7;&#x5236;&#x7684;Amazon&#x6587;&#x6863;</a>                                                                              </p>
</li>
<li><p>Disable hyperthreading. &#x7981;&#x7528;&#x8D85;&#x7EBF;&#x7A0B;&#x3002;</p>
</li>
</ul>
<p>  SEE ALSO</p>
<p>  &#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</p>
<p>   <a href="https://aws.amazon.com/blogs/compute/disabling-intel-hyper-threading-technology-on-amazon-linux/" target="_blank">&#x4E9A;&#x9A6C;&#x900A;&#x5173;&#x4E8E;&#x7981;&#x7528;&#x8D85;&#x7EBF;&#x7A0B;&#x7684;&#x535A;&#x5BA2;&#x6587;&#x7AE0;</a>.</p>
<ul>
<li><p>Use numactl to bind memory locality to a single socket. </p>
</li>
<li><p>&#x4F7F;&#x7528; numactl &#x5C06;&#x5185;&#x5B58;&#x5C40;&#x90E8;&#x6027;&#x7ED1;&#x5B9A;&#x5230;&#x5355;&#x4E2A;&#x5957;&#x63A5;&#x5B57;&#x3002;</p>
</li>
</ul>
<h4 id="azure">Azure</h4>
<p>Use <a href="https://azure.microsoft.com/en-us/documentation/articles/storage-premium-storage/" target="_blank">Premium Storage</a>. Microsoft Azure offers two general types of storage: Standard storage, and Premium storage. MongoDB on Azure has better performance when using Premium storage than it does with Standard storage.                                                                                                                                                                   &#x4F7F;&#x7528;<a href="https://azure.microsoft.com/en-us/documentation/articles/storage-premium-storage/" target="_blank">&#x9AD8;&#x7EA7;&#x5B58;&#x50A8;</a>&#x3002;&#x5FAE;&#x8F6F;Azure&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x5B58;&#x50A8;&#x7C7B;&#x578B;&#xFF1A;&#x6807;&#x51C6;&#x5B58;&#x50A8;&#x548C;&#x9AD8;&#x7EA7;&#x5B58;&#x50A8;&#x3002;&#x4E0E;&#x6807;&#x51C6;&#x5B58;&#x50A8;&#x76F8;&#x6BD4;&#xFF0C;Azure&#x4E0A;&#x7684;MongoDB &#x5728;&#x4F7F;&#x7528;&#x9AD8;&#x7EA7;&#x5B58;&#x50A8;&#x65F6;&#x5177;&#x6709;&#x66F4;&#x597D;&#x7684;&#x6027;&#x80FD;&#x3002;</p>
<p>The TCP idle timeout on the Azure load balancer is 240 seconds by default, which can cause it to silently drop connections if the TCP keepalive on your Azure systems is greater than this value. You should set tcp_keepalive_time to 120 to ameliorate this problem. </p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Azure &#x8D1F;&#x8F7D;&#x5E73;&#x8861;&#x5668;&#x4E0A;&#x7684; TCP &#x7A7A;&#x95F2;&#x8D85;&#x65F6;&#x9ED8;&#x8BA4;&#x4E3A;240&#x79D2;&#xFF0C;&#x5982;&#x679C; Azure &#x7CFB;&#x7EDF;&#x4E0A;&#x7684; TCP &#x957F;&#x8FDE;&#x63A5;&#x5927;&#x4E8E;&#x6B64;&#x503C;&#xFF0C;&#x5219;&#x4F1A;&#x5BFC;&#x81F4;&#x5B83;&#x81EA;&#x52A8;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002;&#x60A8;&#x5E94;&#x8BE5;&#x5C06; TCP &#x957F;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x8BBE;&#x7F6E;&#x4E3A;120&#x4EE5;&#x6539;&#x5584;&#x6B64;&#x95EE;&#x9898;&#x3002;                                                                                          </p>
<p>NOTE</p>
<p>&#x6CE8;&#x610F;</p>
<p>You will need to restart <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> processes for new system-wide keepalive settings to take effect.                                                                                                                                                                                               &#x8981;&#x4F7F;&#x65B0;&#x7684;&#x7CFB;&#x7EDF;&#x8303;&#x56F4;&#x957F;&#x8FDE;&#x63A5;&#x8BBE;&#x7F6E;&#x751F;&#x6548;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x542F;&#x52A8; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x548C;<a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos </a>&#x8FDB;&#x7A0B;&#x3002;</p>
<ul>
<li><p>To view the keepalive setting on Linux, use one of the following commands:</p>
</li>
<li><p>&#x8981;&#x5728; Linux &#x4E0A;&#x67E5;&#x770B;&#x957F;&#x8FDE;&#x63A5;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x4E4B;&#x4E00;&#xFF1A;</p>
<pre><code>sysctl net.ipv4.tcp_keepalive_time
</code></pre><p>Or: </p>
<p>&#x6216;&#x8005;&#xFF1A;</p>
<pre><code>cat /proc/sys/net/ipv4/tcp_keepalive_time
</code></pre><p>The value is measured in seconds. </p>
<p>&#x8BE5;&#x503C;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;</p>
<p>NOTE</p>
<p>&#x6CE8;&#x610F;</p>
<p>Although the setting name includes ipv4, the tcp_keepalive_time value applies to both IPv4 and IPv6.                                                                           </p>
<p>&#x5C3D;&#x7BA1;&#x8BBE;&#x7F6E;&#x540D;&#x79F0;&#x5305;&#x62EC;IPv4 &#xFF0C;&#x4F46; TCP &#x957F;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x503C;&#x540C;&#x65F6;&#x9002;&#x7528;&#x4E8E; IPv4 &#x548C; IPv6&#x3002;</p>
</li>
<li><p>To change the tcp_keepalive_time value, you can use one of the following commands, supplying a <value> in seconds:                                                             </value></p>
<p>&#x8981;&#x66F4;&#x6539; TCP &#x957F;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x4E4B;&#x4E00;&#xFF0C;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x63D0;&#x4F9B;<value>&#xFF1A;&#xFF1A;</value></p>
<pre><code>sudo sysctl -w net.ipv4.tcp_keepalive_time=&lt;value&gt;
</code></pre><p>Or:</p>
<p>&#x6216;&#x8005;&#xFF1A;</p>
<pre><code>echo &lt;value&gt; | sudo tee /proc/sys/net/ipv4/tcp_keepalive_time
</code></pre><p>These operations do not persist across system reboots. To persist the setting, add the following line to /etc/sysctl.conf, supplying a<value> in seconds, and reboot the machine:                                                                                                                                                                  &#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x5728;&#x7CFB;&#x7EDF;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x65F6;&#x4FDD;&#x6301;&#x3002;&#x8981;&#x4FDD;&#x6301;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BF7;&#x5C06;&#x4EE5;&#x4E0B;&#x884C;&#x6DFB;&#x52A0;&#x5230; /etc/sysctl.conf&#xFF0C;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x63D0;&#x4F9B; <value>&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x8BA1;&#x7B97;&#x673A;&#xFF1A;</value></value></p>
<pre><code>net.ipv4.tcp_keepalive_time = &lt;value&gt;
</code></pre><p>Keepalive values greater than 300 seconds, (5 minutes) will be overridden on <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> sockets and set to 300 seconds.</p>
<p>&#x957F;&#x8FDE;&#x63A5;&#x503C;&#x5927;&#x4E8E;300&#x79D2;&#xFF08;5&#x5206;&#x949F;&#xFF09;&#x5C06;&#x5728; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos </a>&#x5957;&#x63A5;&#x5B57;&#x4E0A;&#x91CD;&#x5199;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x4E3A;300&#x79D2;&#x3002;</p>
</li>
<li><p>To view the keepalive setting on Windows, issue the following command:</p>
</li>
<li><p>&#x8981;&#x5728; Windows &#x4E0A;&#x67E5;&#x770B;&#x957F;&#x8FDE;&#x63A5;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BF7;&#x53D1;&#x51FA;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>reg query HKLM\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters /v KeepAliveTime
</code></pre><p>The registry value is not present by default. The system default, used if the value is absent, is 7200000 milliseconds or 0x6ddd00 in hexadecimal. </p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x5B58;&#x5728;&#x6CE8;&#x518C;&#x8868;&#x503C;&#x3002;&#x5982;&#x679C;&#x8BE5;&#x503C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x503C;7200000&#x6BEB;&#x79D2;&#x6216;0x6ddd00&#xFF08;&#x5341;&#x516D;&#x8FDB;&#x5236;&#xFF09;&#x3002;</p>
</li>
<li><p>To change the KeepAliveTime value, use the following command in an Administrator Command Prompt, where  is expressed in hexadecimal (e.g. 120000 is 0x1d4c0):</p>
</li>
<li><p>&#x8981;&#x66F4;&#x6539;&#x957F;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x503C;&#xFF0C;&#x8BF7;&#x5728;&#x7BA1;&#x7406;&#x5458;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E2D;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x4EE5;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x8868;&#x793A;&#xFF08;&#x4F8B;&#x5982;120000&#x662F;0x1d4c0&#xFF09;&#xFF1A;</p>
<pre><code>reg add HKLM\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\ /t REG_DWORD /v KeepAliveTime /d &lt;value&gt;
</code></pre><p>Windows users should consider the <a href="https://technet.microsoft.com/en-us/library/cc957549.aspx" target="_blank">Windows Server Technet Article on KeepAliveTime</a> for more information on setting keepalive for MongoDB deployments on Windows systems. Keepalive values greater than or equal to <em>600000</em> milliseconds (10 minutes) will be ignored by <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a>.                                                                                                                             Windows&#x7528;&#x6237;&#x5E94;&#x8003;&#x8651; <a href="https://technet.microsoft.com/en-us/library/cc957549.aspx" target="_blank">Windows&#x670D;&#x52A1;&#x5668; Technet &#x5173;&#x4E8E;&#x957F;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x503C;&#x7684;&#x6587;&#x7AE0;</a> &#x4EE5;&#x83B7;&#x53D6;&#x6709;&#x5173;&#x5728; Windows&#x7CFB;&#x7EDF;&#x4E0A;&#x8BBE;&#x7F6E; MongoDB &#x90E8;&#x7F72;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos" target="_blank">mongos</a> &#x5C06;&#x5FFD;&#x7565;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;<em>600000</em>&#x6BEB;&#x79D2;&#xFF08;10&#x5206;&#x949F;&#xFF09;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x503C;&#x3002;</p>
</li>
</ul>
<h4 id="vmware">VMware</h4>
<p>MongoDB is compatible with VMware. </p>
<p>MongoDB &#x4E0E; VMware &#x517C;&#x5BB9;&#x3002;</p>
<p>VMware supports memory overcommitment, where you can assign more memory to your virtual machines than the physical machine has available. When memory is overcommitted, the hypervisor reallocates memory between the virtual machines. VMware&#x2019;s balloon driver (vmmemctl) reclaims the pages that are considered least valuable.                           </p>
<p>VMware&#x652F;&#x6301;&#x5185;&#x5B58;&#x8FC7;&#x91CF;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4E3A;&#x865A;&#x62DF;&#x673A;&#x5206;&#x914D;&#x6BD4;&#x7269;&#x7406;&#x673A;&#x53EF;&#x7528;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#x3002;&#x5F53;&#x5185;&#x5B58;&#x88AB;&#x8FC7;&#x5EA6;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#x4F1A;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E4B;&#x95F4;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x5185;&#x5B58;&#x3002;VMware &#x7684;&#x6C14;&#x7403;&#x9A71;&#x52A8;&#xFF08;vmmemctl&#xFF09;&#x56DE;&#x6536;&#x90A3;&#x4E9B;&#x88AB;&#x8BA4;&#x4E3A;&#x4EF7;&#x503C;&#x6700;&#x4F4E;&#x7684;&#x9875;&#x9762;&#x3002;</p>
<p>The balloon driver resides inside the guest operating system. When the balloon driver expands, it may induce the guest operating system to reclaim memory from guest applications, which can interfere with MongoDB&#x2019;s memory management and affect MongoDB&#x2019;s performance. </p>
<p>&#x6C14;&#x7403;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4F4D;&#x4E8E;&#x5BA2;&#x6237;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;&#x5F53;&#x6C14;&#x7403;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x6269;&#x5C55;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x5BA2;&#x6237;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x56DE;&#x6536;&#x5185;&#x5B58;&#xFF0C;&#x4ECE;&#x800C;&#x5E72;&#x6270; MongoDB &#x7684;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#xFF0C;&#x5F71;&#x54CD; MongoDB &#x7684;&#x6027;&#x80FD;&#x3002;</p>
<p>Do not disable the balloon driver and memory overcommitment features. This can cause the hypervisor to use its swap which will affect performance. Instead, map and reserve the full amount of memory for the virtual machine running MongoDB. This ensures that the balloon will not be inflated in the local operating system if there is memory pressure in the hypervisor due to an overcommitted configuration.</p>
<p>&#x4E0D;&#x8981;&#x7981;&#x7528;&#x6C14;&#x7403;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x548C;&#x5185;&#x5B58;&#x8FC7;&#x8F7D;&#x4F7F;&#x7528;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x865A;&#x62DF;&#x673A;&#x76D1;&#x63A7;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x5176;&#x4EA4;&#x6362;&#xFF0C;&#x4ECE;&#x800C;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x6620;&#x5C04;&#x5E76;&#x4FDD;&#x7559;&#x8FD0;&#x884C; MongoDB &#x7684;&#x865A;&#x62DF;&#x673A;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5B58;&#x3002;&#x8FD9;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#xFF0C;&#x5982;&#x679C;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#x4E2D;&#x5B58;&#x5728;&#x7531;&#x4E8E;&#x8FC7;&#x5EA6;&#x63D0;&#x4EA4;&#x914D;&#x7F6E;&#x800C;&#x5BFC;&#x81F4;&#x7684;&#x5185;&#x5B58;&#x538B;&#x529B;&#xFF0C;&#x5219;&#x6C14;&#x7403;&#x4E0D;&#x4F1A;&#x5728;&#x672C;&#x5730;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#x81A8;&#x80C0;&#x3002;</p>
<p>Ensure that virtual machines stay on a specific ESX/ESXi host by setting VMware&#x2019;s <a href="https://kb.vmware.com/selfservice/microsites/search.do?cmd=displayKC&amp;docType=kc&amp;externalId=1005508&amp;sliceId=1&amp;docTypeID=DT_KB_1_1&amp;dialogID=549881455&amp;stateId=0 0 549889513" target="_blank">affinity rules</a>. If you must manually migrate a virtual machine to another host and the <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> instance on the virtual machine is the <a href="https://docs.mongodb.com/manual/reference/glossary/#term-primary" target="_blank">primary</a>, you must first <a href="https://docs.mongodb.com/manual/reference/method/rs.stepDown/#rs.stepDown" target="_blank">step down</a> the primary and then <a href="https://docs.mongodb.com/manual/reference/method/db.shutdownServer/#db.shutdownServer" target="_blank">shut down the instance</a>.                                                                                                                                                                           &#x901A;&#x8FC7;&#x8BBE;&#x7F6E;VMware&#x7684;<a href="https://kb.vmware.com/selfservice/microsites/search.do?cmd=displayKC&amp;docType=kc&amp;externalId=1005508&amp;sliceId=1&amp;docTypeID=DT_KB_1_1&amp;dialogID=549881455&amp;stateId=0 0 549889513" target="_blank">&#x5173;&#x8054;&#x89C4;&#x5219;</a>&#xFF0C;&#x786E;&#x4FDD;&#x865A;&#x62DF;&#x673A;&#x7559;&#x5728;&#x7279;&#x5B9A;&#x7684; ESX/ESXi &#x4E3B;&#x673A;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x5FC5;&#x987B;&#x624B;&#x52A8;&#x5C06;&#x865A;&#x62DF;&#x673A;&#x8FC1;&#x79FB;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#xFF0C;&#x5E76;&#x4E14;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x7684; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a> &#x5B9E;&#x4F8B;&#x662F;<a href="https://docs.mongodb.com/manual/reference/glossary/#term-primary" target="_blank">&#x6700;&#x91CD;&#x8981;&#x7684;</a>&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x5148;<a href="https://docs.mongodb.com/manual/reference/method/rs.stepDown/#rs.stepDown" target="_blank">&#x9010;&#x6B65;&#x5173;&#x95ED;</a>&#x6700;&#x91CD;&#x8981;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;<a href="https://docs.mongodb.com/manual/reference/method/db.shutdownServer/#db.shutdownServer" target="_blank">&#x5173;&#x95ED;&#x5B9E;&#x4F8B;</a>&#x3002;</p>
<p>Follow the <a href="https://docs.vmware.com/en/VMware-vSphere/6.0/com.vmware.vsphere.vcenterhost.doc/GUID-7DAD15D4-7F41-4913-9F16-567289E22977.html" target="_blank">networking best practices for vMotion</a> and the <a href="https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=2054994" target="_blank">VMKernel</a>. Failure to follow the best practices can result in performance problems and affect <a href="https://docs.mongodb.com/manual/core/replica-set-high-availability/" target="_blank">replica set</a> and <a href="https://docs.mongodb.com/manual/tutorial/troubleshoot-sharded-clusters/" target="_blank">sharded cluster</a> high availability mechanisms.                                                                                                                                    &#x9075;&#x5FAA; <a href="https://docs.vmware.com/en/VMware-vSphere/6.0/com.vmware.vsphere.vcenterhost.doc/GUID-7DAD15D4-7F41-4913-9F16-567289E22977.html" target="_blank">vMotion&#x7684;&#x7F51;&#x7EDC;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;</a>&#x548C; <a href="https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=2054994" target="_blank">VMKernel</a>&#x3002;&#x672A;&#x80FD;&#x9075;&#x5FAA;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x5F71;&#x54CD;<a href="https://docs.mongodb.com/manual/core/replica-set-high-availability/" target="_blank">&#x526F;&#x672C;&#x96C6;</a>&#x548C;<a href="https://docs.mongodb.com/manual/tutorial/troubleshoot-sharded-clusters/" target="_blank">&#x5206;&#x7247;&#x96C6;&#x7FA4;</a>&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x673A;&#x5236;&#x3002;</p>
<p>It is possible to clone a virtual machine running MongoDB. You might use this function to spin up a new virtual host to add as a member of a replica set. If you clone a VM with journaling enabled, the clone snapshot will be valid. If not using journaling, first stop <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>, then clone the VM, and finally, restart <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>.                                                                                                                                                    &#x53EF;&#x4EE5;&#x514B;&#x9686;&#x8FD0;&#x884C; MongoDB &#x7684;&#x865A;&#x62DF;&#x673A;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x51FD;&#x6570;&#x542F;&#x52A8;&#x65B0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#xFF0C;&#x5C06;&#x5176;&#x6DFB;&#x52A0;&#x4E3A;&#x526F;&#x672C;&#x96C6;&#x7684;&#x6210;&#x5458;&#x3002;&#x5982;&#x679C;&#x514B;&#x9686;&#x542F;&#x7528;&#x4E86;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x7684;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x5219;&#x514B;&#x9686;&#x5FEB;&#x7167;&#x5C06;&#x6709;&#x6548;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#xFF0C;&#x9996;&#x5148;&#x505C;&#x6B62;<a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#xFF0C;&#x7136;&#x540E;&#x514B;&#x9686;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x6700;&#x540E;&#x91CD;&#x65B0;&#x542F;&#x52A8; <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod" target="_blank">mongod</a>&#x3002;</p>
<h4 id="kvm">KVM</h4>
<p>MongoDB is compatible with KVM.</p>
<p>MongoDB &#x4E0E; KVM &#x517C;&#x5BB9;&#x3002;</p>
<p>KVM supports memory overcommitment, where you can assign more memory to your virtual machines than the physical machine has available. When memory is overcommitted, the hypervisor reallocates memory between the virtual machines. KVM&#x2019;s balloon driver reclaims the pages that are considered least valuable.                                         </p>
<p>KVM&#x652F;&#x6301;&#x5185;&#x5B58;&#x8D85;&#x8F7D;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4E3A;&#x865A;&#x62DF;&#x673A;&#x5206;&#x914D;&#x6BD4;&#x7269;&#x7406;&#x673A;&#x53EF;&#x7528;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#x3002;&#x5F53;&#x5185;&#x5B58;&#x88AB;&#x8FC7;&#x5EA6;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#x4F1A;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E4B;&#x95F4;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x5185;&#x5B58;&#x3002;KVM&#x7684;&#x6C14;&#x7403;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x56DE;&#x6536;&#x88AB;&#x8BA4;&#x4E3A;&#x4EF7;&#x503C;&#x6700;&#x4F4E;&#x7684;&#x9875;&#x9762;&#x3002;</p>
<p>The balloon driver resides inside the guest operating system. When the balloon driver expands, it may induce the guest operating system to reclaim memory from guest applications, which can interfere with MongoDB&#x2019;s memory management and affect MongoDB&#x2019;s performance. </p>
<p>&#x6C14;&#x7403;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4F4D;&#x4E8E;&#x5BA2;&#x6237;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;&#x5F53;&#x6C14;&#x7403;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x6269;&#x5C55;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x5BA2;&#x6237;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x56DE;&#x6536;&#x5185;&#x5B58;&#xFF0C;&#x4ECE;&#x800C;&#x5E72;&#x6270; MongoDB &#x7684;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#xFF0C;&#x5F71;&#x54CD; MongoDB &#x7684;&#x6027;&#x80FD;&#x3002;     </p>
<p>Do not disable the balloon driver and memory overcommitment features. This can cause the hypervisor to use its swap which will affect performance. Instead, map and reserve the full amount of memory for the virtual machine running MongoDB. This ensures that the balloon will not be inflated in the local operating system if there is memory pressure in the hypervisor due to an overcommitted configuration.</p>
<p>&#x4E0D;&#x8981;&#x7981;&#x7528;&#x6C14;&#x7403;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x548C;&#x5185;&#x5B58;&#x8FC7;&#x8F7D;&#x4F7F;&#x7528;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x865A;&#x62DF;&#x673A;&#x76D1;&#x63A7;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x5176;&#x4EA4;&#x6362;&#xFF0C;&#x4ECE;&#x800C;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x6620;&#x5C04;&#x5E76;&#x4FDD;&#x7559;&#x8FD0;&#x884C; MongoDB &#x7684;&#x865A;&#x62DF;&#x673A;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5B58;&#x3002;&#x8FD9;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#xFF0C;&#x5982;&#x679C;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#x4E2D;&#x5B58;&#x5728;&#x7531;&#x4E8E;&#x8FC7;&#x5EA6;&#x63D0;&#x4EA4;&#x914D;&#x7F6E;&#x800C;&#x5BFC;&#x81F4;&#x7684;&#x5185;&#x5B58;&#x538B;&#x529B;&#xFF0C;&#x5219;&#x6C14;&#x7403;&#x4E0D;&#x4F1A;&#x5728;&#x672C;&#x5730;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#x81A8;&#x80C0;&#x3002;</p>
<h2 id="performance-monitoring">Performance Monitoring</h2>
<h2 id="&#x6027;&#x80FD;&#x76D1;&#x63A7;">&#x6027;&#x80FD;&#x76D1;&#x63A7;</h2>
<p>NOTE </p>
<p>&#x6CE8;&#x610F;</p>
<p>Starting in version 4.0, MongoDB offers <a href="https://docs.mongodb.com/manual/administration/free-monitoring/" target="_blank">free Cloud monitoring</a> for standalones and replica sets. For more information, see <a href="https://docs.mongodb.com/manual/administration/free-monitoring/" target="_blank">Free Monitoring</a>.</p>
<p>&#x4ECE;4.0&#x7248;&#x5F00;&#x59CB;&#xFF0C;MongoDB&#x4E3A;&#x6807;&#x51C6;&#x548C;&#x526F;&#x672C;&#x96C6;&#x63D0;&#x4F9B;<a href="https://docs.mongodb.com/manual/administration/free-monitoring/" target="_blank">&#x514D;&#x8D39;&#x4E91;&#x76D1;&#x63A7;</a>&#x3002;&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a href="https://docs.mongodb.com/manual/administration/free-monitoring/" target="_blank">&#x514D;&#x8D39;&#x76D1;&#x63A7;</a>&#x3002;</p>
<h3 id="iostat">iostat</h3>
<p>On Linux, use the iostat command to check if disk I/O is a bottleneck for your database. Specify a number of seconds when running iostat to avoid displaying stats covering the time since server boot.                                                                                                                                                          &#x5728; Linux &#x4E0A;&#xFF0C;&#x4F7F;&#x7528; iostat &#x547D;&#x4EE4;&#x68C0;&#x67E5;&#x78C1;&#x76D8; I/O &#x662F;&#x5426;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x74F6;&#x9888;&#x3002;&#x6307;&#x5B9A;&#x8FD0;&#x884C; iostat &#x65F6;&#x7684;&#x79D2;&#x6570;&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x663E;&#x793A;&#x4FE1;&#x606F;&#x4E3A;&#x81EA;&#x670D;&#x52A1;&#x5668;&#x542F;&#x52A8;&#x4EE5;&#x6765;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3002;</p>
<p>For example, the following command will display extended statistics and the time for each displayed report, with traffic in MB/s, at one second intervals:</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x5C06;&#x6BCF;&#x9694;&#x4E00;&#x79D2;&#x663E;&#x793A;&#x6269;&#x5C55;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x548C;&#x6BCF;&#x4E2A;&#x663E;&#x793A;&#x62A5;&#x544A;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x6D41;&#x91CF;&#x5355;&#x4F4D;&#x4E3A;MB/s&#xFF1A;</p>
<pre><code>iostat -xmt 1
</code></pre><p>Key fields from iostat:</p>
<p>iostat&#x4E2D;&#x7684;&#x5173;&#x952E;&#x5B57;&#x6BB5;&#xFF1A;</p>
<ul>
<li>%util: this is the most useful field for a quick check, it indicates what percent of the time the device/drive is in use.                                                     </li>
</ul>
<p>%util: &#x8FD9;&#x662F;&#x5FEB;&#x901F;&#x68C0;&#x67E5;&#x6700;&#x6709;&#x7528;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x8BBE;&#x5907;/&#x9A71;&#x52A8;&#x5668;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x7684;&#x767E;&#x5206;&#x6BD4;&#x3002;</p>
<ul>
<li>avgrq-sz: average request size. Smaller number for this value reflect more random IO operations.                                                                               </li>
</ul>
<p>avgrq-sz: &#x5E73;&#x5747;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;&#x3002;&#x6B64;&#x503C;&#x7684;&#x8F83;&#x5C0F;&#x6570;&#x5B57;&#x53CD;&#x6620;&#x4E86;&#x66F4;&#x591A;&#x7684;&#x968F;&#x673A;IO&#x64CD;&#x4F5C;&#x3002;</p>
<h3 id="bwm-ng">bwm-ng</h3>
<p> is a command-line tool for monitoring network use. If you suspect a network-based bottleneck, you may use bwm-ng to begin your diagnostic process. </p>
<p><a href="http://www.gropp.org/?id=projects&amp;sub=bwm-ng" target="_blank">bwm-ng</a> &#x662F;&#x7528;&#x4E8E;&#x76D1;&#x89C6;&#x7F51;&#x7EDC;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x3002;&#x5982;&#x679C;&#x6000;&#x7591;&#x662F;&#x57FA;&#x4E8E;&#x7F51;&#x7EDC;&#x7684;&#x74F6;&#x9888;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; bwm-ng &#x5F00;&#x59CB;&#x8BCA;&#x65AD;&#x8FDB;&#x7A0B;&#x3002;</p>
<h2 id="backups--&#x5907;&#x4EFD;">Backups  &#x5907;&#x4EFD;</h2>
<p>To make backups of your MongoDB database, please refer to <a href="https://docs.mongodb.com/manual/core/backups/" target="_blank">MongoDB Backup Methods Overview</a>.<br>&#x8981;&#x5907;&#x4EFD; MongoDB &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <a href="http://docs.mongodb.com/manual/core/backups/" target="_blank">MongoDB &#x5907;&#x4EFD;&#x65B9;&#x6CD5;&#x6982;&#x8FF0;</a>&#x3002;</p>
<h2 id="&#x9644;&#x5F55;">&#x9644;&#x5F55;</h2>
<p>&#x539F;&#x6587;&#x94FE;&#x63A5;&#xFF1A;<a href="https://docs.mongodb.com/manual/administration/production-notes/" target="_blank">https://docs.mongodb.com/manual/administration/production-notes/</a></p>
<p>&#x8BD1;&#x8005;&#xFF1A;&#x5B54;&#x4EE4;&#x5347;</p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; &#x4E0A;&#x6D77;&#x9526;&#x6728;&#x4FE1;&#x606F;&#x6280;&#x672F;&#x6709;&#x9650;&#x516C;&#x53F8; all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2020-08-15 13:36:25
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="Operations-Checklist.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Operations Checklist">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Production Notes","level":"2.12.1","depth":2,"next":{"title":"Operations Checklist","level":"2.12.2","depth":2,"path":"docs/Administration/Operations-Checklist.md","ref":"docs/Administration/Operations-Checklist.md","articles":[]},"previous":{"title":"Administration","level":"2.12","depth":1,"ref":"","articles":[{"title":"Production Notes","level":"2.12.1","depth":2,"path":"docs/Administration/Production-Notes.md","ref":"docs/Administration/Production-Notes.md","articles":[]},{"title":"Operations Checklist","level":"2.12.2","depth":2,"path":"docs/Administration/Operations-Checklist.md","ref":"docs/Administration/Operations-Checklist.md","articles":[]},{"title":"Development Checklist","level":"2.12.3","depth":2,"ref":"","articles":[]},{"title":"Performance","level":"2.12.4","depth":2,"path":"docs/Administration/Performance.md","ref":"docs/Administration/Performance.md","articles":[]},{"title":"Configuration and Maintenance","level":"2.12.5","depth":2,"ref":"","articles":[]},{"title":"Data Center Awareness","level":"2.12.6","depth":2,"ref":"","articles":[{"title":"Workload Isolation in MongoDB Deployments","level":"2.12.6.1","depth":3,"ref":"","articles":[]},{"title":"Zones","level":"2.12.6.2","depth":3,"ref":"","articles":[]},{"title":"Manage Shard Zones","level":"2.12.6.3","depth":3,"ref":"","articles":[]},{"title":"Segmenting Data by Location","level":"2.12.6.4","depth":3,"ref":"","articles":[]},{"title":"Tiered Hardware for Varying SLA or SLO","level":"2.12.6.5","depth":3,"ref":"","articles":[]},{"title":"Segmenting Data by Application or Customer","level":"2.12.6.6","depth":3,"ref":"","articles":[]},{"title":"Distributed Local Writes for Insert Only Workloads","level":"2.12.6.7","depth":3,"ref":"","articles":[]},{"title":"Manage Shard Zones","level":"2.12.6.8","depth":3,"ref":"","articles":[]}]},{"title":"MongoDB Backup Methods","level":"2.12.7","depth":2,"path":"docs/Administration/MongoDB-Backup-Methods.md","ref":"docs/Administration/MongoDB-Backup-Methods.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-sharing","donate","tbfed-pagefooter","github-buttons","github","chapter-fold","expandable-chapters","pageview-count","edit-link","back-to-top-button","-lunr","-search","search-pro","splitter","page-toc-button","auto-scroll-table","flexible-alerts","alerts","livereload"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy 上海锦木信息技术有限公司","modify_label":"文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"github":{"url":"https://github.com/JinMuInfo/MongoDB-Manual-zh"},"livereload":{},"splitter":{},"search-pro":{},"auto-scroll-table":{},"donate":{"alipay":"https://jinmuinfo.github.io/MongoDB-Manual-zh/img/pay/alipay.jpeg","alipayText":"支付宝打赏","button":"打赏","title":"","wechat":"https://jinmuinfo.github.io/MongoDB-Manual-zh/img/pay/Wechatpay.jpeg","wechatText":"微信打赏"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"page-toc-button":{"maxTocDepth":4,"minTocSize":4},"back-to-top-button":{},"pageview-count":{},"alerts":{},"github-buttons":{"buttons":[{"user":"JinMuInfo","repo":"MongoDB-Manual-zh","type":"star","count":true,"size":"small"}]},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"edit-link":{"label":"Edit This Page","base":"https://github.com/JinMuInfo/MongoDB-Manual-zh/blob/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"hbnking","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"MongoDB-Manual-zh","language":"zh-hans","gitbook":"*","description":"MongoDB-Manual-zh"},"file":{"path":"docs/Administration/Production-Notes.md","mtime":"2020-08-15T05:36:25.382Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-08-15T08:33:15.789Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-auto-scroll-table/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

